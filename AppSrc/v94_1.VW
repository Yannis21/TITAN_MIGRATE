//AB/ Project v94_1
//AB/ Object prj is a View_Project
//AB/     Set ProjectName to "v94_1"
//AB/     Set ProjectFileName to "v94_1.VW"
//AB/     Set GenerateFileName to "NONAME"

// Project Object Structure
//   v94_1 is a dbViewSubS
//     Syscurxr_DD is a DataDictionary
//     Country_DD is a DataDictionary
//     Towns_DD is a DataDictionary
//     Cities_DD is a DataDictionary
//     Areas_DD is a DataDictionary
//     Payresp_DD is a DataDictionary
//     Clients_DD is a DataDictionary
//     Clorder_DD is a DataDictionary
//     Clorderd_DD is a DataDictionary
//     dbGroupSub1 is a dbGroupSub
//       Company_Company_Name is a dbFormSub
//       Branch_Branch_Name is a dbFormSub
//       Year_Year_Year is a dbFormSub
//       TextBoxSub1 is a TextBoxSub
//       TextBoxSub2 is a TextBoxSub
//       TextBoxSub3 is a TextBoxSub
//     Container1 is a dbContainer3d
//       Clorder_Clients_Code is a dbFormSub
//       clorder_Aapar is a dbFormSub
//       clorder_Aaparprom is a dbFormSub
//       clorder_Date is a dbForm
//       clorder_Armod is a dbForm
//       clorder_Our_date is a dbForm
//       clorder_Rial_Date is a dbFormSub
//       TextBoxSub4 is a TextBoxSub
//       TextBoxSub5 is a TextBoxSub
//       TextBoxSub6 is a TextBoxSub
//       TextBoxSub7 is a TextBoxSub
//       TextBoxSub8 is a TextBoxSub
//       TextBoxSub9 is a TextBoxSub
//       Clorder_Nomisma is a dbFormSub
//       FormSub1 is a FormSub
//       TextBoxSub10 is a TextBoxSub
//       TextBoxSub11 is a TextBoxSub
//       TextBoxSub12 is a TextBoxSub
//       TextBoxSub13 is a TextBoxSub
//       TextBoxSub14 is a TextBoxSub
//       clorder_How_Pay is a dbComboFormSub
//       clorder_Tropos is a dbComboFormSub
//       dbCheckBoxSub1 is a dbCheckBoxSub
//       TextBoxSub15 is a TextBoxSub
//       dbCheckBoxSub2 is a dbCheckBoxSub
//       Clients_client_name is a dbFormSub
//       TextBoxSub33 is a TextBoxSub
//       Clorder_Order1_Recr is a dbFormSub
//     dbGroupSub2 is a dbGroupSub
//       TextBoxSub16 is a TextBoxSub
//       TextBoxSub17 is a TextBoxSub
//       TextBoxSub18 is a TextBoxSub
//       TextBoxSub19 is a TextBoxSub
//       TextBoxSub20 is a TextBoxSub
//       TextBoxSub21 is a TextBoxSub
//       clorder_Qty is a dbFormSub
//       clorder_Net is a dbFormSub
//       clorder_Disc is a dbFormSub
//       clorder_Extra is a dbFormSub
//       clorder_Fpa is a dbFormSub
//       clorder_Total is a dbFormSub
//     dbTabDialogSubS1 is a dbTabDialogSubS
//       dbTabPageSubS1 is a dbTabPageSubS
//         The_Table is a dbGrid
//         Textbox1 is a Textbox
//         Textbox2 is a Textbox
//         Textbox3 is a Textbox
//         Textbox4 is a Textbox
//         Clorderd_Wax_Recr is a dbFormSub
//         clorderd_net is a dbFormSub
//         clorderd_Posodisc is a dbFormSub
//         clorderd_Posofpa is a dbFormSub
//         clorderd_Posoextra is a dbFormSub
//         clorderd_Posototal is a dbFormSub
//         Textbox5 is a Textbox
//         TextBoxSub30 is a TextBoxSub
//       dbTabPageSubS2 is a dbTabPageSubS
//         The_Table1 is a dbGrid
//       dbTabPageSubS3 is a dbTabPageSubS
//         TextBoxSub22 is a TextBoxSub
//         ptyppar_code is a FormSub
//         ptyppar_hmnia is a FormSub
//         pseira_seira is a FormSub
//         pseira_no is a FormSub
//         FormSub8 is a FormSub
//         FormSub3 is a FormSub
//         TextBoxSub24 is a TextBoxSub
//         TextBoxSub26 is a TextBoxSub
//         clorder_Posodtl is a dbFormSub
//         TextBoxSub27 is a TextBoxSub
//         clorder_Qtydtl is a dbFormSub
//         TextBoxSub28 is a TextBoxSub
//         TextBoxSub31 is a TextBoxSub
//         TextBoxSub32 is a TextBoxSub
//       dbTabPageSubS5 is a dbTabPageSubS
//         dbEditSub2 is a dbEditSub
//     ButtonSub1 is a ButtonSub
//     ButtonSub2 is a ButtonSub
//     ButtonSub3 is a ButtonSub
//     ButtonSub5 is a ButtonSub
//     Textbox6 is a Textbox
//     Clorderd_Item_Code is a dbFormSub
//     FormSub9 is a FormSub

// Register all objects
Register_Object Areas_DD
Register_Object Branch_Branch_Name
Register_Object ButtonSub1
Register_Object ButtonSub2
Register_Object ButtonSub3
Register_Object ButtonSub5
Register_Object Cities_DD
Register_Object Clients_client_name
Register_Object Clients_DD
Register_Object Clorder_Clients_Code
Register_Object Clorder_DD
Register_Object Clorder_Nomisma
Register_Object Clorder_Order1_Recr
Register_Object Clorderd_DD
Register_Object Clorderd_Item_Code
Register_Object Clorderd_Wax_Recr
Register_Object Company_Company_Name
Register_Object Container1
Register_Object Country_DD
Register_Object clorder_Aapar
Register_Object clorder_Aaparprom
Register_Object clorder_Armod
Register_Object clorder_Date
Register_Object clorder_Disc
Register_Object clorder_Extra
Register_Object clorder_Fpa
Register_Object clorder_How_Pay
Register_Object clorder_Net
Register_Object clorder_Our_date
Register_Object clorder_Posodtl
Register_Object clorder_Qty
Register_Object clorder_Qtydtl
Register_Object clorder_Rial_Date
Register_Object clorder_Total
Register_Object clorder_Tropos
Register_Object clorderd_net
Register_Object clorderd_Posodisc
Register_Object clorderd_Posoextra
Register_Object clorderd_Posofpa
Register_Object clorderd_Posototal
Register_Object dbCheckBoxSub1
Register_Object dbCheckBoxSub2
Register_Object dbEditSub2
Register_Object dbGroupSub1
Register_Object dbGroupSub2
Register_Object dbTabDialogSubS1
Register_Object dbTabPageSubS1
Register_Object dbTabPageSubS2
Register_Object dbTabPageSubS3
Register_Object dbTabPageSubS5
Register_Object FormSub1
Register_Object FormSub3
Register_Object FormSub8
Register_Object FormSub9
Register_Object Payresp_DD
Register_Object pseira_no
Register_Object pseira_seira
Register_Object ptyppar_code
Register_Object ptyppar_hmnia
Register_Object Syscurxr_DD
Register_Object TextBoxSub1
Register_Object TextBoxSub10
Register_Object TextBoxSub11
Register_Object TextBoxSub12
Register_Object TextBoxSub13
Register_Object TextBoxSub14
Register_Object TextBoxSub15
Register_Object TextBoxSub16
Register_Object TextBoxSub17
Register_Object TextBoxSub18
Register_Object TextBoxSub19
Register_Object TextBoxSub2
Register_Object TextBoxSub20
Register_Object TextBoxSub21
Register_Object TextBoxSub22
Register_Object TextBoxSub24
Register_Object TextBoxSub26
Register_Object TextBoxSub27
Register_Object TextBoxSub28
Register_Object TextBoxSub3
Register_Object TextBoxSub30
Register_Object TextBoxSub31
Register_Object TextBoxSub32
Register_Object TextBoxSub33
Register_Object TextBoxSub4
Register_Object TextBoxSub5
Register_Object TextBoxSub6
Register_Object TextBoxSub7
Register_Object TextBoxSub8
Register_Object TextBoxSub9
Register_Object Textbox1
Register_Object Textbox2
Register_Object Textbox3
Register_Object Textbox4
Register_Object Textbox5
Register_Object Textbox6
Register_Object The_Table
Register_Object The_Table1
Register_Object Towns_DD
Register_Object v94_1
Register_Object Year_Year_Year


//AB/ AppBuild VIEW


//AB-StoreTopStart
open nomisma
open witemcl
open ptyppar
use r94_2.rv
use particle.vw
use sl17.sl
use pseira.dd
use wflagkin.dd
use doakyrh.pkg
use doektel.pkg
use doorders.pkg
//AB-StoreTopEnd

//AB-IgnoreStart

Use dbView.Sub
Use DFAllEnt.pkg
Use dbGroup.Sub
Use dbForm.Sub
Use Txtbox.Sub
Use Form.Sub
Use dbCmbfrm.Sub
Use dbChkbox.Sub
Use dbTabDlgS.Sub
Use dbEdit.Sub
Use Button.Sub

Use SYSCURXR.DD
Use COUNTRY.DD
Use TOWNS.DD
Use CITIES.DD
Use AREAS.DD
Use PAYRESP.DD
Use CLIENTS.DD
Use CLORDER.DD
Use CLORDERD.DD

//AB-IgnoreEnd

ACTIVATE_VIEW Activate_v94_1 FOR v94_1

Object v94_1 is a dbViewSubS

    //AB-StoreTopStart
    property number pnqty
    property integer pfromi
    property integer ptoi
    Property String psModule Public ''
    property string psrecr  public ''
    property string psflag     public ''
    Property String psNomisma    Public ''
    property string psclient     public ''
    property string psptypparrecr public ''
    property string psclorderrecr public ''
    property string pscustrecr public ''
    
    Function Save_header returns integer
       Local integer Rec Changed Srvr
       Get Server to Srvr
       Get Current_Record of Srvr to Rec
       Get Should_Save to Changed
    
       If (Rec=0 AND Changed=0) Begin // no rec
          Error 300 'è®‚ßú† å· è®¶ûöûüúÂ Ñöö®ò≠„ ë´¶†ÆúÂ‡§ èò®òööú¢Âò™ !!'
          Function_Return 1
       End
       Send request_save_no_clear
       Get Should_Save to Changed
       Get Current_record of Srvr to Rec
       If (Rec=0 OR Changed) ;
          Function_return 1
    end_function
    
    Function fnitem string name Returns string
          clear item
          move name to item.item_code
          find eq item by index.5
          move item.item_descr to name
          function_return name
    end_Function
    
    procedure request_cancel
        integer ipath
        move (dbTabPageSubS3(dbTabDialogSubS1(self))) to ipath
        set value of (ptyppar_code(ipath))    to ''
        set value of (ptyppar_hmnia(ipath))   to ''
        set value of (pseira_no(ipath))       to ''
        set value of (pseira_seira(ipath))    to ''
        set value of (formsub8(ipath))        to ''
        forward send request_cancel
    end_procedure
    //AB-StoreTopEnd

    Set Label to "É†òÆúÂ®û©û èò®òööú¢†È§ Ä§· è®¶£ûüú¨´„"
    Set Size to 294 521
    Set Location to 2 5

    //AB-DDOStart

    Object Syscurxr_DD is a Syscurxr_DataDictionary
    End_Object    // Syscurxr_DD

    Object Country_DD is a Country_DataDictionary
    End_Object    // Country_DD

    Object Towns_DD is a Towns_DataDictionary
        Set DDO_Server to (Country_DD(self))
    End_Object    // Towns_DD

    Object Cities_DD is a Cities_DataDictionary
        Set DDO_Server to (Towns_DD(self))
    End_Object    // Cities_DD

    Object Areas_DD is a Areas_DataDictionary
    End_Object    // Areas_DD

    Object Payresp_DD is a Payresp_DataDictionary
    End_Object    // Payresp_DD

    Object Clients_DD is a Clients_DataDictionary
        Set DDO_Server to (Cities_DD(self))
        Set DDO_Server to (Areas_DD(self))
        Set DDO_Server to (Payresp_DD(self))

        //AB-StoreStart
        set no_delete_state to true
        //AB-StoreEnd

    End_Object    // Clients_DD

    Object Clorder_DD is a Clorder_DataDictionary

        //AB-StoreTopStart
        Property Integer piReadOnly Public False
        //AB-StoreTopEnd

        Set DDO_Server to (Clients_DD(self))
        Set Constrain_File to Clients.File_Number

        //AB-StoreStart
        Procedure Save_Main_File
            If (NOT(piReadOnly(Self))) Forward Send Save_Main_File
            Else Send Info_Box "Ü ßò®òööú¢Âò ‚Æú† ß®òö£ò´¶ß¶†ûüúÂ.\nÉú§ úß†´®‚ß¶§´ò† ò¢¢òö‚™" "è¢û®¶≠¶®Âò"
        End_Procedure
        
        Procedure Delete_Main_File
            If (NOT(piReadOnly(Self))) Forward Send Delete_Main_File
            Else Send Info_Box "Ü ßò®òööú¢Âò ‚Æú† ß®òö£ò´¶ß¶†ûüúÂ.\nÉú§ úß†´®‚ßú´ò† û õ†òö®ò≠„" "è¢û®¶≠¶®Âò"
        End_Procedure
        
        procedure request_save
                 if (psmodule(self)='01') set field_changed_value of clorder_dd field clorder.module to '01'
            else if (psmodule(self)='02') set field_changed_value of clorder_dd field clorder.module to '02'
            forward send request_save
        end_procedure
        
        Procedure OnConstrain
         //   Constrain clorder.company_code  eq SysCurXR.Company_Code
         //   Constrain clorder.Branch_Code   eq SysCurXR.Branch_Code
         //   Constrain clorder.Year_Year     eq SysCurXR.Year_Year
            If (psModule(Self)<>'') Begin
                Constrain clorder.Module eq (psModule(Self))
            End
        End_Procedure
        
        
        Procedure Update
            String  sNomisma
            Date    dHmnia
            Move clorder.date                       to dHmnia
            If (dHmnia='')  Sysdate4                   clorder.date
            Move clorder.nomisma                    to sNomisma
            Move (Trim(sNomisma))                   to sNomisma
            If (sNomisma='') Move SysCurXr.C_Code0  to clorder.nomisma
        
            Forward Send Update
        End_Procedure
        
        Function Validate_Save  Returns Integer
             Local Integer iReturnVal
             Forward Get Validate_Save  To iReturnVal
             If (Not(iReturnVal)) Begin
                if (clorder.armod = '') begin
                   send info_box 'Ä®£Êõ†¶™ ëÁ§´ò•û™ èò®òööú¢Âò™ °ú§Ê™ !!' 'ë≠·¢£ò'
                   move 1 to ireturnval
                end
                move 'SEND_TERMS' to clorder.codetype
             end
             Function_Return iReturnVal
         End_Function
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // Clorder_DD

    Object Clorderd_DD is a Clorderd_DataDictionary

        //AB-StoreTopStart
        Property Integer piReadOnly Public False
        //AB-StoreTopEnd

        Set DDO_Server to (Clorder_DD(self))
        Set Constrain_File to Clorder.File_Number

        //AB-StoreStart
        Procedure Save_Main_File
            If (NOT(piReadOnly(Self))) Forward Send Save_Main_File
        End_Procedure
        
        Procedure Delete_Main_File
            If (NOT(piReadOnly(Self))) Forward Send Delete_Main_File
        End_Procedure
        
        procedure request_save
                 if (psmodule(self)='01') set field_changed_value of clorderd_dd field clorderd.module to '01'
            else if (psmodule(self)='02') set field_changed_value of clorderd_dd field clorderd.module to '02'
            forward send request_save
        end_procedure
        
        
        Function Validate_Save  Returns Integer
             Local Integer iReturnVal
             local string msgstr sitem sdescr
             local number lnqty diaf lnypolqty nfpa
             Forward Get Validate_Save  To iReturnVal
             If (Not(iReturnVal)) Begin
                get Field_current_Value Of clorderd_dd Field clorderd.pcfpa to nfpa
                move clorderd.item_code to sitem
                move (fsitem(self,sitem)) to sdescr
                if   (sdescr eq '' or clorderd.qty = 0) begin
                   move '' to msgstr
                   move " ÄõÁ§ò´û Ñöö®ò≠„ !! É‚§ ¨ß·®Æú† ÑÂõ¶™ / û ß¶©Ê´û´ò = 0 !! " to msgstr
                   error 3001 msgstr
                end
        
        
                 get pnqty to lnqty
                 if (lnqty <> clorderd.qty) begin
                   if (lnqty > clorderd.qty) begin
                     calc (lnqty - clorderd.qty) to diaf
                     move clorderd.ypol_qty  to lnypolqty
                     move (lnypolqty - diaf) to clorderd.ypol_qty
                  end
                  if (lnqty < clorderd.qty) begin
                     calc (clorderd.qty - lnqty) to diaf
                     move clorderd.ypol_qty to lnypolqty
                     move (lnypolqty + diaf) to clorderd.ypol_qty
                  end
                 end
             End
             Function_Return iReturnVal
         End_Function   // Validate_Save
        
        
        Procedure New_Current_Record  Integer iOldRec  Integer iNewRec
           Forward Send New_Current_Record  iOldRec iNewRec
           // Insert Code Here
           set pnqty         to clorderd.qty
        End_Procedure   // New_Current_Record
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // Clorderd_DD

    Set Main_DD to (Clients_DD(self))
    Set Server to (Clients_DD(self))

    //AB-DDOEnd

    Object dbGroupSub1 is a dbGroupSub
        Set Size to 26 512
        Set Location to -2 2
        Object Company_Company_Name is a dbFormSub
            Entry_Item Syscurxr.Company_name
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 106
            Set Location to 9 63
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            SET ENABLED_STATE TO FALSE
            //AB-StoreEnd

        End_Object    // Company_Company_Name

        Object Branch_Branch_Name is a dbFormSub
            Entry_Item Syscurxr.Branch_name
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 123
            Set Location to 9 245
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            SET ENABLED_STATE TO FALSE
            //AB-StoreEnd

        End_Object    // Branch_Branch_Name

        Object Year_Year_Year is a dbFormSub

            //AB-StoreTopStart
                        
            //AB-StoreTopEnd

            Entry_Item Syscurxr.Year_descr
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 85
            Set Location to 8 422
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            Set enabled_state to false
            
            //AB-StoreEnd

        End_Object    // Year_Year_Year

        Object TextBoxSub1 is a TextBoxSub
            Set Label to "Ñ´ò†®úÂò"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 10
            Set Size to 10 31
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE

            //AB-StoreStart
                        
                        
                        
                        
                        
            //AB-StoreEnd

        End_Object    // TextBoxSub1

        Object TextBoxSub2 is a TextBoxSub
            Set Label to "ìß¶°ò´·©´û£ò"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 175
            Set Size to 10 54
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE

            //AB-StoreStart
                        
                        
            //AB-StoreEnd

        End_Object    // TextBoxSub2

        Object TextBoxSub3 is a TextBoxSub
            Set Label to "ï®„©û"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 375
            Set Size to 10 32
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE
        End_Object    // TextBoxSub3


        //AB-StoreStart
                
                
                
                
                
                
                
                
        //AB-StoreEnd

    End_Object    // dbGroupSub1

    Object Container1 is a dbContainer3d
        Set Border_Style to Border_Normal
        Set Size to 110 337
        Set Location to 26 2
        Object Clorder_Clients_Code is a dbFormSub
            Entry_Item Clients.Client_id
            Set Size to 13 66
            Set Location to 4 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            procedure prompt
                Set psModule Of (sl100(Self)) to (psModule(Self))
                forward send prompt
            end_procedure
            
            
            
            
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // Clorder_Clients_Code

        Object clorder_Aapar is a dbFormSub

            //AB-StoreTopStart
                        
                        
            //AB-StoreTopEnd

            Entry_Item Clorder.Aapar
            Set Server to (Clorder_DD(self))
            Set Size to 13 66
            Set Location to 18 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Prompt_Button_Mode to pb_PromptOn
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            Set Prompt_Object to (SL94_1(Current_object))
            
            Procedure prompt
               Integer iRec fin akyrh istatus
               string lsclient
               get value of (clorder_clients_code(container1(self))) to lsclient
               set psclient of (sl94_1(current_object)) to lsclient
               set psmodule of (sl94_1(current_object)) to (psmodule(self))
               Forward Send Prompt
            End_procedure
            
            Procedure refresh integer iMode
                Integer iRec fin akyrh istatus
                String sNomisma
                Get Field_Current_Value Of clorder_DD Field clorder.Nomisma to sNomisma
                If ((Trim(sNomisma)<>psNomisma(Self)) And (Trim(sNomisma)<>'')) Begin
                    Set psNomisma to (Trim(sNomisma))
                    Send Set_The_Decimal_Points
                End
                Get Field_Current_Value Of (clorder_DD(self)) Field clorder.finish To fin
                Get Field_Current_Value Of (clorder_DD(self)) Field clorder.akyrh  To akyrh
                if (fin = 1 or akyrh = 1) begin
                  move 1 to istatus
                  Set Color Of (FormSub1(container1(current_object))) to clred
                end
                else begin
                  Set Color Of  (FormSub1(container1(current_object))) to cllime
                end
                Set piReadOnly Of clorder_DD to (istatus=1)
                Set piReadOnly Of clorderd_DD to (istatus=1)
                Send Enable_The_Fields to v94_1
                Forward Send Refresh iMode
            End_procedure
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // clorder_Aapar

        Object clorder_Aaparprom is a dbFormSub
            Entry_Item Clorder.Aaparprom
            Set Server to (Clorder_DD(self))
            Set Size to 13 78
            Set Location to 18 252
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
        End_Object    // clorder_Aaparprom

        Object clorder_Date is a dbForm
            Entry_Item Clorder.Date
            Set Server to (Clorder_DD(self))
            Set Size to 13 66
            Set Location to 34 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
        End_Object    // clorder_Date

        Object clorder_Armod is a dbForm
            Entry_Item Clorder.Armod
            Set Server to (Clorder_DD(self))
            Set Size to 13 209
            Set Location to 49 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
        End_Object    // clorder_Armod

        Object clorder_Our_date is a dbForm
            Entry_Item Clorder.Our_date
            Set Server to (Clorder_DD(self))
            Set Size to 13 66
            Set Location to 63 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
        End_Object    // clorder_Our_date

        Object clorder_Rial_Date is a dbFormSub
            Entry_Item Clorder.Rial_date
            Set Server to (Clorder_DD(self))
            Set Size to 13 66
            Set Location to 77 121
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            set Enabled_state to false
            
            //AB-StoreEnd

        End_Object    // clorder_Rial_Date

        Object TextBoxSub4 is a TextBoxSub
            Set Label to "Ä/Ä èò®òööú¢Âò™"
            Set Location to 20 6
            Set Size to 10 66
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub4

        Object TextBoxSub5 is a TextBoxSub
            Set Label to "Ü£/§Âò ëÁ§´ò•û™ èò®òööú¢Âò™"
            Set Location to 34 6
            Set Size to 10 107
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub5

        Object TextBoxSub6 is a TextBoxSub
            Set Label to "ìßúÁü¨§¶™ ëÁ§´ò•û™"
            Set Location to 50 6
            Set Size to 10 79
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub6

        Object TextBoxSub7 is a TextBoxSub
            Set Label to "Öû´¶Á£ú§û Ü£/§Âò èò®·õ¶©û™"
            Set Location to 64 6
            Set Size to 10 104
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub7

        Object TextBoxSub8 is a TextBoxSub
            Set Label to "Ü£/§Âò Ñ°´‚¢ú©û™ èò®òööú¢Âò™"
            Set Location to 79 6
            Set Size to 10 110
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub8

        Object TextBoxSub9 is a TextBoxSub
            Set Label to "åÊ£†©£ò"
            Set Location to 92 6
            Set Size to 10 35
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub9

        Object Clorder_Nomisma is a dbFormSub
            Entry_Item Clorder.Nomisma
            Set Server to (Clorder_DD(self))
            Set Size to 13 41
            Set Location to 92 41
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            Procedure Onkillfocus
                send request_save to clorder_dd
            End_procedure
            
            
            
            Procedure OnChange
                String sNomisma
                If (Focus(Desktop)=clorder_Nomisma(Self)) Begin
                    Get Field_Current_Value Of clorder_DD Field clorder.Nomisma to sNomisma
                    If (Trim(sNomisma)<>psNomisma(Self)) Begin
                        Set psNomisma to (Trim(sNomisma))
                        Send Set_The_Decimal_Points
                    End
                End
            End_Procedure
            
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // Clorder_Nomisma

        Object FormSub1 is a FormSub
            Set Size to 17 66
            Set Location to 91 121
            Set Label_Col_Offset to 2
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            set shadow_state to true
            //AB-StoreEnd

        End_Object    // FormSub1

        Object TextBoxSub10 is a TextBoxSub
            Set Label to "è®¶£ûüú¨´„™"
            Set Location to 4 6
            Set Size to 10 92
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub10

        Object TextBoxSub11 is a TextBoxSub
            Set Label to "èò®òöö.è®¶£ûü."
            Set Location to 20 190
            Set Size to 10 56
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub11

        Object TextBoxSub12 is a TextBoxSub
            Set Label to "Ñß†ôúôòÂ‡©û"
            Set Location to 95 195
            Set Size to 10 52
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub12

        Object TextBoxSub13 is a TextBoxSub
            Set Label to "í®Êß¶™ Ñ°´‚¢ú©û™"
            Set Location to 81 195
            Set Size to 10 63
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub13

        Object TextBoxSub14 is a TextBoxSub
            Set Label to "í®Êß¶™ è¢û®‡£„™"
            Set Location to 65 195
            Set Size to 10 61
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub14

        Object clorder_How_Pay is a dbComboFormSub
            Entry_Item Clorder.How_pay
            Set Server to (Clorder_DD(self))
            Set Size to 13 71
            Set Location to 64 258
            Set Label_Col_Offset to 2
        End_Object    // clorder_How_Pay

        Object clorder_Tropos is a dbComboFormSub
            Entry_Item Clorder.Tropos
            Set Server to (Clorder_DD(self))
            Set Size to 13 71
            Set Location to 79 258
            Set Label_Col_Offset to 2
        End_Object    // clorder_Tropos

        Object dbCheckBoxSub1 is a dbCheckBoxSub
            Entry_Item Clorder.Okey
            Set Server to (Clorder_DD(self))
            Set Size to 13 15
            Set Location to 94 259
        End_Object    // dbCheckBoxSub1

        Object TextBoxSub15 is a TextBoxSub
            Set Label to "Í°¨®û"
            Set Location to 95 281
            Set Size to 10 25
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub15

        Object dbCheckBoxSub2 is a dbCheckBoxSub
            Entry_Item Clorder.Akyrh
            Set Server to (Clorder_DD(self))
            Set Size to 13 13
            Set Location to 93 320

            //AB-StoreStart
            set enabled_state to false
            procedure onchange
               integer fin akyrh
               Get Field_Current_Value Of (clorder_DD(self)) Field clorder.finish To fin
               Get Field_Current_Value Of (clorder_DD(self)) Field clorder.akyrh  To akyrh
               if (fin = 1 or akyrh = 1) begin
                  Set Color Of FormSub1 to clred
               end
               else begin
                 Set Color Of FormSub1 to cllime
               end
            end_procedure
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // dbCheckBoxSub2

        Object Clients_client_name is a dbFormSub
            Entry_Item Clients.Client_name
            Set Size to 13 139
            Set Location to 4 190
            Set Color to clBtnFace
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Prompt_Button_Mode to pb_PromptOff
            Set Enabled_State to FALSE
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Item_Shadow_State Item 0 to TRUE
            Set Shadow_State Item 0 to TRUE
        End_Object    // Clients_client_name

        Object TextBoxSub33 is a TextBoxSub
            Set Label to "Ä®Æ†°„ èò®òöö."
            Set Location to 34 190
            Set Size to 10 54
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub33

        Object Clorder_Order1_Recr is a dbFormSub
            Entry_Item Clorder.Order1_recr
            Set Server to (Clorder_DD(self))
            Set Size to 13 78
            Set Location to 32 252
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            set enabled_state to false
            //AB-StoreEnd

        End_Object    // Clorder_Order1_Recr

    End_Object    // Container1

    Object dbGroupSub2 is a dbGroupSub
        Set Size to 110 172
        Set Location to 24 342
        Object TextBoxSub16 is a TextBoxSub
            Set Label to "ëÁ§¶¢¶ è¶©¶´„´‡§"
            Set Location to 9 12
            Set Size to 10 67
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub16

        Object TextBoxSub17 is a TextBoxSub
            Set Label to "ëÁ§¶¢¶ âòüò®È§ è¶©È§"
            Set Location to 25 12
            Set Size to 10 85
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub17

        Object TextBoxSub18 is a TextBoxSub
            Set Label to "ëÁ§¶¢¶ Ñ°ß´È©ú‡§"
            Set Location to 41 12
            Set Size to 10 67
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub18

        Object TextBoxSub19 is a TextBoxSub
            Set Label to "ëÁ§¶¢¶ Ñß†ôò®Á§©ú‡§"
            Set Location to 57 12
            Set Size to 10 79
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub19

        Object TextBoxSub20 is a TextBoxSub
            Set Label to "ëÁ§¶¢¶ î.è.Ä."
            Set Location to 72 12
            Set Size to 10 71
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub20

        Object TextBoxSub21 is a TextBoxSub
            Set Label to "ëÁ§¶¢ò èò®òööú¢Âò™"
            Set Location to 96 12
            Set Size to 10 73
            Set TypeFace to "MS Sans Serif"
        End_Object    // TextBoxSub21

        Object clorder_Qty is a dbFormSub
            Entry_Item Clorder.Qty
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 7 99
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.#"

            //AB-StoreStart
            set enabled_state to false
            set points item 0 to 1
            
            
            //AB-StoreEnd

        End_Object    // clorder_Qty

        Object clorder_Net is a dbFormSub
            Entry_Item Clorder.Net
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 23 99
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.####"

            //AB-StoreStart
            set enabled_state to false
            
            
            //AB-StoreEnd

        End_Object    // clorder_Net

        Object clorder_Disc is a dbFormSub
            Entry_Item Clorder.Disc
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 39 99
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.####"

            //AB-StoreStart
            set enabled_state to false
            
            
            //AB-StoreEnd

        End_Object    // clorder_Disc

        Object clorder_Extra is a dbFormSub
            Entry_Item Clorder.Extra
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 54 99
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.####"

            //AB-StoreStart
            set enabled_state to false
            
            
            //AB-StoreEnd

        End_Object    // clorder_Extra

        Object clorder_Fpa is a dbFormSub
            Entry_Item Clorder.Fpa
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 70 99
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.####"

            //AB-StoreStart
            set enabled_state to false
            
            
            //AB-StoreEnd

        End_Object    // clorder_Fpa

        Object clorder_Total is a dbFormSub
            Entry_Item Clorder.Total
            Set Server to (Clorder_DD(self))
            Set Size to 13 69
            Set Location to 94 99
            Set TextColor to clYellow
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"
            Set Form_Mask Item 0 to "###,###,###.####"

            //AB-StoreStart
            set enabled_state to false
            
            
            //AB-StoreEnd

        End_Object    // clorder_Total

    End_Object    // dbGroupSub2

    Object dbTabDialogSubS1 is a dbTabDialogSubS
        Set Size to 119 516
        Set Location to 138 0
        Set Rotate_Mode to RM_Rotate
        Set Border_Style to Border_Normal
        Object dbTabPageSubS1 is a dbTabPageSubS
            Set Label to "ÑÂõû èò®òööú¢Âò™"
            Object The_Table is a dbGrid
                Set Main_File to Clorderd.File_Number
                Set Server to (Clorderd_DD(self))
                Set Size to 95 389
                Set Location to 5 0
                Set Wrap_State to TRUE

                Begin_Row
                    Entry_Item Clorderd.Recnum
                    Entry_Item Clorderd.Item_code
                    Entry_Item (fnitem(self,clorderd.item_code))
                    Entry_Item Clorderd.Client_item
                    Entry_Item Clorderd.Qty
                    Entry_Item Clorderd.Unitprice
                    Entry_Item Clorderd.Pcfpa
                    Entry_Item Clorderd.Wax_recr
                End_Row

                Set Form_Width    item 0 to 0
                Set Header_Label  item 0 to "Recnum"
                
                Set Form_Width    item 1 to 70
                Set Header_Label  item 1 to "â‡õ.ÑÂõ¶¨™"
                
                Set Form_Width    item 2 to 69
                Set Header_Label  item 2 to "èú®†ö®.ÑÂõ¶¨™"
                
                Set Form_Width    item 3 to 65
                Set Header_Label  item 3 to "ÑÂõ¶™ è®¶£ûü."
                
                Set Form_Width    item 4 to 43
                Set Header_Label  item 4 to "è¶©Ê´û´ò"
                
                Set Form_Width    item 5 to 50
                Set Header_Label  item 5 to "í†£„ ã¶§."
                
                Set Form_Width    item 6 to 35
                Set Header_Label  item 6 to "%î.è.Ä"
                
                Set Form_Width    item 7 to 51
                Set Header_Label  item 7 to "Äß¶ü„°û"
                

                //AB-StoreStart
                                
                set child_table_state to true
                
                Set Column_Option Item  0 to  NoEnter True
                Set Column_Option Item  2 to  NoEnter True
                Set Column_Option Item  3 to  Noenter true
                set currentrowcolor to 11468799
                set currentcellcolor to 11468799
                
                Function Child_entering returns Integer
                    Integer rval
                    Forward Get Child_Entering to rVal
                    If (NOT(rVal)) Begin
                        If (Should_Save(clorder_DD(Self))) Send Request_Save to clorder_DD
                    End
                    function_return rVal
                End_Function
                
                
                Procedure Prompt_CallBack Integer hPrompt
                    String lsvalue
                    If (psModule(Self)='02') Begin
                        get value of (clorder_clients_code(container1(v94_1(self)))) to lsvalue
                        set fragmaprom of (sl186a(self)) to lsvalue
                    End
                End_Procedure
                
                procedure item_change integer fromi integer toi returns integer
                    Integer iColumn iFieldNumber iFileNumber ici igridid
                    Integer iFromPCT iDecimals iYear iColfrom iColTo
                    Number nQty nTimhMon nQtyTimhMon nPctEkpt nPosoEkpt preis fpa
                    Number nPosoNet nPctFpa nPosoFpa nPosoSynolo nFpa nextra nprice
                    String sNameFrom sNameTo sRecr sval ritem rprom  name  wname;
                           sitem msgstr lscust lsitem lsvalue itemcode sprom
                    local integer rval icol iBase_item
                    Get Column FromI    to iColumn
                    Get Column FromI    to iColFrom
                    Get Column ToI      to iColTo
                    forward get msg_item_change fromi toi to rval
                    if (focus(Desktop) = the_table(self)) begin
                       get Field_current_Value Of clorderd_dd Field clorderd.item_code to lsitem
                       if (lsitem <> '') begin
                         Get Current_Col to iCol
                         Get Base_Item to iBase_item
                         if (icol = 1) begin
                           Get Value item (iBase_item+1) to Sitem
                           Move (fnitem(self,sitem)) to wname
                           set value (iBase_item+2) to wname
                           clear witemcl
                           get field_current_value of clorderd_dd field clorderd.item_code   to sitem
                           get field_current_value of clorder_dd  field clorder.clients_code to sprom
                           move sitem to witemcl.item_code
                           move sprom to witemcl.client_code
                           find eq witemcl by index.1
                           move witemcl.client_itemcode to itemcode
                           set value (iBase_item+3) to itemcode
                         end
                       end
                    end
                
                    Get Data_File  Item iColumn                             to iFileNumber
                    Get Data_Field Item iColumn                             to iFieldNumber
                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameFrom
                    Move (Trim(sNameFrom))                                  to sNameFrom
                    Get Field_Current_Value Of clorderd_DD Field clorderd.qty To nQty
                    Get Field_Current_Value Of clorderd_DD Field clorderd.unitprice   To nTimhMon
                    If ((nQty<>0) And (nTimhMon<>0)) Begin
                        Move (round_number((nQty*nTimhMon),2)) to nQtyTimhMon
                        Get Field_Current_Value Of clorderd_DD Field clorderd.pcdisc     To nPctEkpt
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posodisc   To nPosoEkpt
                        If (sNameFrom=(Uppercase('pcdisc'))) Begin
                            Move  (Round_number(((nQtyTimhMon*nPctEkpt/100)),2))            to nPosoEkpt
                            Set Field_Current_Value Of clorderd_DD Field clorderd.posodisc To nPosoEkpt
                        End
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posodisc  To nPosoEkpt
                        Set Field_Current_Value Of clorderd_DD Field clorderd.net    To (nQtyTimhMon-nPosoEkpt)
                        Move (nQtyTimhMon-nPosoEkpt)                                   To nPosoNet
                        Get Field_Current_Value Of clorderd_DD Field clorderd.pcfpa     To nPctFpa
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posofpa    To nPosoFpa
                        If (sNameFrom=(Uppercase('pcfpa'))) Begin
                            Move  (Round_number(((nPosoNet*nPctFpa/100)),2)) to nPosoFpa
                            Set Field_Current_Value Of clorderd_DD Field clorderd.posofpa To nPosoFpa
                        End
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posofpa     To nPosoFpa
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posoextra   To nextra
                        If (sNameFrom=(Uppercase('posoextra'))) Begin
                            Move  (Round_number((nextra),2)) to nextra
                            Set Field_Current_Value Of clorderd_DD Field clorderd.posoextra To nextra
                        End
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posoextra    To nextra
                        Move (nPosoNet+nPosoFpa+nextra)       to npososynolo
                        Set Field_Current_Value Of clorderd_DD Field clorderd.posototal    To nPosoSynolo
                    End
                    procedure_return rval
                end_procedure
                
                Function Confirm_Delete_clorderd Returns Integer
                    Integer rval
                    Get confirm "É†òö®ò≠„ èò®òööú¢Âò™ ÑÂõ¶¨™ ??"  to rval
                    Function_Return rval
                End_Function
                
                Set Verify_Delete_MSG     to GET_Confirm_delete_clorderd
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // The_Table

            Object Textbox1 is a Textbox
                Set Label to "Ä•Âò Î°ß´‡©û™"
                Set Location to 36 394
                Set Size to 10 55
                Set TypeFace to "MS Sans Serif"
            End_Object    // Textbox1

            Object Textbox2 is a Textbox
                Set Label to "Ä•Âò î.è.Ä."
                Set Location to 50 394
                Set Size to 10 47
                Set TypeFace to "MS Sans Serif"
            End_Object    // Textbox2

            Object Textbox3 is a Textbox
                Set Label to "Ñß†ô·®¨§©û"
                Set Location to 64 394
                Set Size to 10 47
                Set TypeFace to "MS Sans Serif"
            End_Object    // Textbox3

            Object Textbox4 is a Textbox
                Set Label to "ëÁ§¶¢ò ÑÂõ¶¨™"
                Set Color to clNavy
                Set TextColor to clYellow
                Set Location to 85 390
                Set Size to 10 50
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // Textbox4

            Object Clorderd_Wax_Recr is a dbFormSub
                Entry_Item Clorderd.Pcdisc
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 5 451
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                
                Set Points    Item  0 to 0
                
                
                
                //AB-StoreEnd

            End_Object    // Clorderd_Wax_Recr

            Object clorderd_net is a dbFormSub
                Entry_Item Clorderd.Net
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 20 451
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Form_Mask Item 0 to "###,###,###.####"

                //AB-StoreStart
                                
                                
                //AB-StoreEnd

            End_Object    // clorderd_net

            Object clorderd_Posodisc is a dbFormSub
                Entry_Item Clorderd.Posodisc
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 34 451
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Form_Mask Item 0 to "###,###,###.####"

                //AB-StoreStart
                set enabled_state to false
                
                
                //AB-StoreEnd

            End_Object    // clorderd_Posodisc

            Object clorderd_Posofpa is a dbFormSub
                Entry_Item Clorderd.Posofpa
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 48 451
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Form_Mask Item 0 to "###,###,###.####"

                //AB-StoreStart
                set enabled_state to false
                
                
                //AB-StoreEnd

            End_Object    // clorderd_Posofpa

            Object clorderd_Posoextra is a dbFormSub
                Entry_Item Clorderd.Posoextra
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 62 451
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Form_Mask Item 0 to "###,###,###.####"

                //AB-StoreStart
                set enabled_state to false
                
                
                //AB-StoreEnd

            End_Object    // clorderd_Posoextra

            Object clorderd_Posototal is a dbFormSub
                Entry_Item Clorderd.Posototal
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 83 451
                Set Color to clNavy
                Set TextColor to clYellow
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_FontWeight Item 0 to 800
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Form_Mask Item 0 to "###,###,###.####"

                //AB-StoreStart
                set enabled_state to false
                
                
                //AB-StoreEnd

            End_Object    // clorderd_Posototal

            Object Textbox5 is a Textbox
                Set Label to "âòüò®Ê è¶©Ê"
                Set Location to 22 393
                Set Size to 10 49
                Set TypeFace to "MS Sans Serif"
            End_Object    // Textbox5

            Object TextBoxSub30 is a TextBoxSub
                Set Label to "Î°ß´‡©û %"
                Set Color to clNavy
                Set TextColor to clYellow
                Set Location to 7 393
                Set Size to 10 43
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub30

        End_Object    // dbTabPageSubS1

        Object dbTabPageSubS2 is a dbTabPageSubS
            Set Label to "èò®ò°¶¢¶Áüû©û-Ñ§û£ú®È©ú†™ Ñ†õÈ§"
            Object The_Table1 is a dbGrid
                Set Main_File to Clorderd.File_Number
                Set Server to (Clorderd_DD(self))
                Set Size to 95 508
                Set Location to 5 1
                Set Wrap_State to TRUE

                Begin_Row
                    Entry_Item Clorderd.Client_item
                    Entry_Item Clorderd.Qty
                    Entry_Item Clorderd.Posototal
                    Entry_Item Clorderd.Ourdate
                    Entry_Item Clorderd.Rial_date
                    Entry_Item Clorderd.Rial_qty
                    Entry_Item Clorderd.Ypol_qty
                    Entry_Item Clorderd.Akyrh_qty
                    Entry_Item Clorderd.Epistrofh_qty
                    Entry_Item Clorderd.Kinish_posothta
                    Entry_Item Clorderd.Kinhsh_poso
                End_Row

                Set Form_Width    item 0 to 57
                Set Header_Label  item 0 to "ÑÂõ¶™ è®¶£ûü."
                
                Set Form_Width    item 1 to 34
                Set Header_Label  item 1 to "è¶©Ê´."
                
                Set Form_Width    item 2 to 50
                Set Header_Label  item 2 to "è¶©Ê ÑÂõ¶¨™"
                
                Set Form_Width    item 3 to 47
                Set Header_Label  item 3 to "Öû´.Ü£/§Âò"
                
                Set Form_Width    item 4 to 47
                Set Header_Label  item 4 to "Ñ°´. Ü£/§Âò"
                
                Set Form_Width    item 5 to 44
                Set Header_Label  item 5 to "Ñ°´.è¶©Ê´"
                
                Set Form_Width    item 6 to 43
                Set Header_Label  item 6 to "ìßÊ¢. è¶©"
                
                Set Form_Width    item 7 to 44
                Set Header_Label  item 7 to "Í°¨®û è¶©"
                
                Set Form_Width    item 8 to 47
                Set Header_Label  item 8 to "Ñß†©´® è¶©"
                
                Set Form_Width    item 9 to 42
                Set Header_Label  item 9 to "è¶©Ê´ â†§"
                
                Set Form_Width    item 10 to 48
                Set Header_Label  item 10 to "è¶©Ê âÂ§."
                

                //AB-StoreStart
                Set Column_Option Item  0 to   NoEnter True
                Set Column_Option Item  1 to   NoEnter True
                Set Column_Option Item  2 to   NoEnter True
                Set Column_Option Item  5 to   NoEnter True
                Set Column_Option Item  6 to   NoEnter True
                Set Column_Option Item  7 to   NoEnter True
                Set Column_Option Item  8 to   NoEnter True
                set currentrowcolor to 11468799
                set currentcellcolor to 11468799
                
                procedure item_change integer fromi integer toi returns integer
                    Integer iColumn iFieldNumber iFileNumber extrastatus
                    Integer iFromPCT iDecimals iYear iColfrom iColTo
                    Number nQty nTimhMon nQtyTimhMon nPctEkpt nPosoEkpt preis nqtykinhsh
                    Number nPosoNet nPctFpa nPosoFpa nPosoSynolo nFpa nextra
                    String sNameFrom sNameTo sRecr sval ritem rprom  name  wname;
                           sitem msgstr
                    local integer rval icol iBase_item
                    forward get msg_item_change fromi toi to rval
                    Get Column FromI    to iColumn
                    Get Column FromI    to iColFrom
                    Get Column ToI      to iColTo
                    Get Data_File  Item iColumn                             to iFileNumber
                    Get Data_Field Item iColumn                             to iFieldNumber
                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameFrom
                    Move (Trim(sNameFrom))                                  to sNameFrom
                    Get Column ToI                                          to iColumn
                    Get Data_File  Item iColumn                             to iFileNumber
                    Get Data_Field Item iColumn                             to iFieldNumber
                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameTo
                    Move (Trim(sNameTo))                                    to sNameTo
                    Get Field_Current_Value Of clorderd_DD Field clorderd.item_code to sitem
                    if (sitem <> '') begin
                     If (sNameFrom=(Uppercase('kinish_posothta')))  Begin
                        Get Field_Current_Value Of clorderd_DD Field clorderd.kinish_posothta to nQtykinhsh
                        Get Field_Current_Value Of clorderd_DD Field clorderd.unitprice   To nTimhMon
                      if ((nQtykinhsh<>0) and (nTimhMon<>0)) begin
                        Move (round_number((nQtykinhsh*nTimhMon),2)) to nQtyTimhMon
                        Get Field_Current_Value Of clorderd_DD Field clorderd.pcdisc     To nPctEkpt
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posodisc   To nPosoEkpt
                        Move  (Round_number(((nQtyTimhMon*nPctEkpt/100)),2))            to nPosoEkpt
                        Move (nQtyTimhMon-nPosoEkpt)                                   To nPosoNet
                        Set Field_Current_Value Of clorderd_DD Field clorderd.kinhsh_net  To nPosonet
                        Get Field_Current_Value Of clorderd_DD Field clorderd.pcfpa     To nPctFpa
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posofpa    To nPosoFpa
                        Move  (Round_number(((nPosoNet*nPctFpa/100)),2)) to nPosoFpa
                        Set Field_Current_Value Of clorderd_DD Field clorderd.kinhsh_fpa  To nPosofpa
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posoextra   To nextra
                        Move  (Round_number((nextra),2)) to nextra
                        Move (nPosoNet+nPosoFpa+nextra)       to npososynolo
                        Set Field_Current_Value Of clorderd_DD Field clorderd.kinhsh_poso  To nPosoSynolo
                      end
                     end
                  end
                
                procedure_return rval
                end_procedure
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // The_Table1

        End_Object    // dbTabPageSubS2

        Object dbTabPageSubS3 is a dbTabPageSubS
            Set Label to "Éû£†¶¨®öÂò â†§„©ú‡§"
            Object TextBoxSub22 is a TextBoxSub
                Set Label to "èò®ò©´ò´†°Ê"
                Set TextColor to clRed
                Set Location to 8 9
                Set Size to 10 48
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub22

            Object ptyppar_code is a FormSub
                Set Size to 17 59
                Set Location to 5 77
                Set Label_Col_Offset to 2
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                Set Prompt_Object to (sl012(Current_object))
                
                Procedure Prompt
                    Set psModule Of (sl012(self)) to (psModule(Self))
                    Set Modal_State Of (sl012(Self)) to True
                    Forward send prompt
                End_procedure
                
                procedure onchange
                    move syscurxr.company_code to ptyppar.company_code
                    move syscurxr.branch_code  to ptyppar.branch_code
                    move syscurxr.year_year    to ptyppar.year_year
                    get value item 0 to ptyppar.ptyppar_code
                    find eq ptyppar by index.1
                    if (not(found)) set value of (formsub3(self)) to ''
                    else set value of (formsub3(self)) to ptyppar.ptyppar_descr
                    set psptypparrecr to ptyppar.ptyppar_recr
                end_procedure
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // ptyppar_code

            Object ptyppar_hmnia is a FormSub
                Set Size to 17 59
                Set Location to 23 77
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Value Item 0 to " / /    "

                //AB-StoreStart
                procedure onsetfocus
                    date ddate
                    sysdate4 ddate
                    set value item 0 to ddate
                end_procedure
                //AB-StoreEnd

            End_Object    // ptyppar_hmnia

            Object pseira_seira is a FormSub
                Set Size to 13 58
                Set Location to 42 77
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                Procedure Prompt
                    String sVal srecr scode sptyppar
                    get psptypparrecr to srecr
                    if (psmodule(self)='01') begin
                        set prompt_button_mode to pb_prompton
                        set modal_state of (sl013(self)) to true
                        Set Prompt_Object of (pseira_seira(self)) to (sl013(Current_object))
                        set fragmaptyppar_recr of (sl013(self)) to srecr
                        Forward Send Prompt
                    end
                    else begin
                        set prompt_button_mode to pb_promptoff
                        set fragmaptyppar_recr of (sl013(self)) to ''
                        set enabled_state of (pseira_no(dbTabPageSubS3(dbTabDialogSubS1(self)))) to true
                        Forward Send Prompt
                    end
                    if (psmodule(self)='01') begin
                        get value item 0 to scode
                        get value of (ptyppar_code(dbTabPageSubS3(dbTabDialogSubS1(self)))) to sptyppar
                        move syscurxr.company_code to pseira.company_code
                        move syscurxr.branch_code  to pseira.branch_code
                        move syscurxr.year_year    to pseira.year_year
                        move sptyppar to pseira.ptyppar_code
                        move scode to pseira.pseira_seira
                        find eq pseira by index.1
                        if (not(found)) send info_box 'Ä§Áßò®°´û ëú†®· !! É†¶®üÈ©´ú ' 'è¢û®¶≠¶®Âò'
                        else begin
                            if (pseira.pseira_autonum=1);
                               set enabled_state of (pseira_no(dbTabPageSubS3(dbTabDialogSubS1(self)))) to false
                            else set enabled_state of (pseira_no(dbTabPageSubS3(dbTabDialogSubS1(self))))to true
                        end
                    end
                    else set enabled_state of (pseira_no(dbTabPageSubS3(dbTabDialogSubS1(self)))) to true
                
                End_procedure
                
                
                procedure entering
                
                    if (psmodule(self)='01') begin
                        set prompt_button_mode to pb_prompton
                        Set Prompt_Object of (pseira_seira(dbTabPageSubS3(dbTabDialogSubS1(self)))) to (sl013(Current_object))
                
                    end
                    else begin
                        set prompt_button_mode to pb_promptoff
                    end
                    Forward Send entering
                end_procedure
                
                
                
                //AB-StoreEnd

            End_Object    // pseira_seira

            Object pseira_no is a FormSub
                Set Size to 13 58
                Set Location to 57 77
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"
            End_Object    // pseira_no

            Object FormSub8 is a FormSub
                Set Size to 13 109
                Set Location to 82 395
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"
            End_Object    // FormSub8

            Object FormSub3 is a FormSub
                Set Size to 15 269
                Set Location to 7 145
                Set Color to clBtnFace
                Set Label_Col_Offset to 2
                Set Enabled_State to FALSE
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE
            End_Object    // FormSub3

            Object TextBoxSub24 is a TextBoxSub
                Set Label to "Ü£/§Âò"
                Set TextColor to clRed
                Set Location to 26 9
                Set Size to 10 34
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub24

            Object TextBoxSub26 is a TextBoxSub
                Set Label to "ëÁ§¶¢ò èò®ò©´."
                Set TextColor to clNavy
                Set Location to 84 8
                Set Size to 10 57
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub26

            Object clorder_Posodtl is a dbFormSub
                Entry_Item Clorder.Posodtl
                Set Server to (Clorder_DD(self))
                Set Size to 18 59
                Set Location to 80 77
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_FontWeight Item 0 to 800
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set enabled_state to false
                
                
                
                //AB-StoreEnd

            End_Object    // clorder_Posodtl

            Object TextBoxSub27 is a TextBoxSub
                Set Label to "è¶©Ê´û´ò èò®ò©´."
                Set TextColor to clNavy
                Set Location to 86 159
                Set Size to 10 69
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub27

            Object clorder_Qtydtl is a dbFormSub
                Entry_Item Clorder.Qtydtl
                Set Server to (Clorder_DD(self))
                Set Size to 18 87
                Set Location to 79 245
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_FontWeight Item 0 to 800
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set enabled_state to false
                Set points Item  to 1
                //AB-StoreEnd

            End_Object    // clorder_Qtydtl

            Object TextBoxSub28 is a TextBoxSub
                Set Label to "é èò®ò¢òôÈ§"
                Set Location to 82 340
                Set Size to 10 47
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub28

            Object TextBoxSub31 is a TextBoxSub
                Set Label to "ëú†®·"
                Set TextColor to clRed
                Set Location to 42 7
                Set Size to 10 27
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub31

            Object TextBoxSub32 is a TextBoxSub
                Set Label to "Ä®†ü£Ê™"
                Set TextColor to clRed
                Set Location to 58 7
                Set Size to 10 29
                Set FontWeight to 800
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub32

        End_Object    // dbTabPageSubS3

        Object dbTabPageSubS5 is a dbTabPageSubS
            Set Label to "ëÆÊ¢†ò"
            Object dbEditSub2 is a dbEditSub
                Entry_Item Clorder.Sxolia
                Set Server to (Clorder_DD(self))
                Set Size to 60 493
                Set Location to 19 5
            End_Object    // dbEditSub2

        End_Object    // dbTabPageSubS5

    End_Object    // dbTabDialogSubS1

    Object ButtonSub1 is a ButtonSub
        Set Label to "ButtonSub3"
        Set Bitmap to "printer.bmp"
        Set Size to 20 27
        Set Location to 257 5
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set TooltipValue to "Ñ°´Áß‡©û èò®òööú¢Âò™ "
        Procedure OnClick
          string wrecr
          Get Field_Current_Value Of clorder_DD Field clorder.recr To wrecr
          Set psRecr  of (r94_2(self)) to Wrecr
          Set psModule Of r94_2 to (psModule(Self))
          Send runprom1Report to (prom1WQLReport(r94_2(Self)))
        End_Procedure // OnClick
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // ButtonSub1

    Object ButtonSub2 is a ButtonSub

        //AB-StoreTopStart
                
        //AB-StoreTopEnd

        Set Label to "Ä°Á®‡©û é¢û™ íû™ èò®òööú¢Âò™"
        Set Bitmap to "astro9.bmp"
        Set Size to 21 26
        Set Location to 257 41
        Set Border_Style to Border_Normal
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set TooltipValue to "Ä°Á®‡©û é¢û™ íû™ èò®òööú¢Âò™ "
        Procedure OnClick
          integer libpo05 listatus retval iakyrh irecnum ifinish
          string msgstr lsstore wrecr orecr sid
          Get Field_Current_Value Of clorder_DD Field clorder.akyrh to iakyrh
          Get Field_Current_Value Of clorder_DD Field clorder.finish to ifinish
          if ((iakyrh=1) or (ifinish = 1)) begin
              send info_box 'Ü èò®òööú¢Âò ÑÂ§ò† Ä°¨®û û èú®ò†‡£‚§û !! Éú§ ÇÂ§ú´ò† âò££Âò Ñ§‚®öú†ò !!' 'è¢û®¶≠¶®Âò'
          end
          else begin
           Get YesNo_Box "è®¶©¶Æ„ ! Ä®ÆÂùú† û É†òõ†°ò©Âò Ñ§û£‚®‡©û™ Ä®ÆúÂ‡§ ã‚ Ä°Á®‡©û èò®òööú¢Âò™ !! å· ë¨§úÆÂ©‡ ??"  to RetVal
           If (RetVal =MBR_yes) begin
              Get Field_Current_Value Of clorder_DD Field clorder.recnum To irecnum
              Get Field_Current_Value Of clients_DD Field clients.client_id to sid
              Get Field_Current_Value Of clorder_DD Field clorder.recr To wrecr
              move (oDoakyrh(current_object)) to liBpo05
              send beg_upakyrh to libpo05 wrecr  sid
              Send Find_By_Recnum to clorder_DD clorder.File_Number iRecnum
              send beginning_of_data to (the_table(dbTabPageSubS1(dbTabDialogSubS1(current_object))))
              send beginning_of_data to (the_table1(dbTabPageSubS2(dbTabDialogSubS1(current_object))))
           end
          end
        End_Procedure // OnClick
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // ButtonSub2

    Object ButtonSub3 is a ButtonSub

        //AB-StoreTopStart
                
        //AB-StoreTopEnd

        Set Label to "èò®ò¢òô„ é¢û™ íû™ èò®òööú¢Âò™"
        Set Bitmap to "lightgrn.bmp"
        Set Size to 22 23
        Set Location to 257 77
        Set Border_Style to Border_Normal
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set TooltipValue to "E°´‚¢ú©û é¢û™ íû™ èò®òööú¢Âò™ "
        Procedure OnClick
        integer libpo06 listatus retval iakyrh irecnum ifinish
          string msgstr lsstore wrecr orecr sclid
          date lsdate
          Get Field_Current_Value Of clorder_DD Field clorder.akyrh to iakyrh
          Get Field_Current_Value Of clorder_DD Field clorder.finish to ifinish
          if ((iakyrh=1) or (ifinish = 1)) begin
              send info_box 'Ü èò®òööú¢Âò ÑÂ§ò† Ä°¨®û û èú®ò†‡£‚§û !! Éú§ ÇÂ§ú´ò† âò££Âò Ñ§‚®öú†ò !!' 'è¢û®¶≠¶®Âò'
          end
          else begin
          Get YesNo_Box "è®¶©¶Æ„ ! Ä®ÆÂùú† û É†òõ†°ò©Âò Ñ§û£‚®‡©û™ Ä®ÆúÂ‡§ ã‚ Ñ°´‚¢ú©û é¢û™ í„™ èò®òööú¢Âò™ !! å· ë¨§úÆÂ©‡ ??"  to RetVal
          If (RetVal =MBR_yes) begin
              Get Field_Current_Value Of clorder_DD Field clorder.recr To wrecr
              Get Field_Current_Value Of clients_DD Field clients.client_id to sclid
              Get Field_Current_Value Of clorder_DD Field clorder.recnum To irecnum
              move (oDoektel(current_object)) to liBpo06
              send beg_upektel to libpo06 wrecr sclid
              Send Find_By_Recnum to clorder_DD clorder.File_Number iRecnum
              send beginning_of_data to (the_table(dbTabPageSubS1(dbTabDialogSubS1(current_object))))
              send beginning_of_data to (the_table1(dbTabPageSubS2(dbTabDialogSubS1(current_object))))
          end
         end
        End_Procedure // OnClick
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // ButtonSub3

    Object ButtonSub5 is a ButtonSub

        //AB-StoreTopStart
        
        
        //AB-StoreTopEnd

        Set Label to "Éû£†¶¨®öÂò  â†§„©ú‡§ ë´· Ä®ÆúÂò â†§„©ú‡§ "
        Set Bitmap to "auto.bmp"
        Set Size to 20 23
        Set Location to 258 107
        Set Border_Style to Border_Normal
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set TooltipValue to "ãú´ò©Æû£ò´†©£Ê™ èò®òööú¢Âò™ ëú â†§„©ú†™ èò®ò©´ò´†°¶Á !!"
        Procedure OnClick
            integer libpo00 listatus retval ifs irecnum ipath iflag iError_Object_ID
            string msgstr lsno lsstore lsdate lsparast lsrecr lscall lsparal
            string lsseira lsitem infstr lsnomisma lsclient sparticlerecr sflag lstropos
            string swtypkin smodule
            number posodtl qtydtl kinhshposo
            integer Igridid
            Get YesNo_Box "è®¶©¶Æ„ ! Ä®ÆÂùú† û É†òõ†°ò©Âò Ñ§û£‚®‡©û™ Ä®ÆúÂ‡§ â†§„©ú‡§ !! å· ë¨§úÆÂ©‡ ??" to RetVal
            move 0 to ifs
            move '' to lsstore
            move '' to lsitem
            move '' to infstr
            move 0  to iflag
            move (dbTabPageSubS3(dbTabDialogSubS1(self))) to ipath
            move (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) to Igridid
            Get Field_Current_Value Of clorder_DD Field clorder.recnum To irecnum
            If (RetVal =MBR_yes) begin
                get psmodule to smodule
                get value of (ptyppar_code(ipath))    to lsparast
                get value of (ptyppar_hmnia(ipath))   to lsdate
                get value of (pseira_no(ipath))       to lsno
                get value of (pseira_seira(ipath))    to lsseira
                Get Field_Current_Value Of clorder_DD Field clorder.recr   To lsrecr
                get value of (formsub8(ipath)) to lsparal
                Get Field_Current_Value Of clorder_DD Field clorder.posodtl To posodtl
                Get Field_Current_Value Of clorder_DD Field clorder.qtydtl  To qtydtl
                Get Field_Current_Value Of clorder_DD Field clorder.nomisma To lsnomisma
                Get Field_Current_Value Of clorder_DD Field clorder.clients_code To lsclient
                Get Field_Current_Value Of clorder_DD Field clorder.tropos To lstropos
        
            if (psmodule(self)='01') begin
               clear pseira
               move syscurxr.company_code to pseira.company_code
               move syscurxr.branch_code  to pseira.branch_code
               //move syscurxr.year_year    to pseira.year_year
               move lsparast              to pseira.ptyppar_code
               move lsseira               to pseira.pseira_seira
               find eq pseira by index.1
               if (not(found)) begin
                  move 9 to ifs
                  send info_box 'Ä§Áßò®°´û ëú†®· !!' 'è¢û®¶≠¶®Âò'
               end
               else begin
                  if ((pseira.pseira_autonum<>1) and ((lsno='') or (lsno=0))) begin
                     move 10 to ifs
                     send info_box 'ïú†®Êö®ò≠û ©ú†®· £ú ò®.ßò®ò©´ò´†°¶Á 0 !!' 'ä·ü¶™'
                  end
               end
            end
              move syscurxr.company_code to ptyppar.company_code
              move syscurxr.branch_code  to ptyppar.branch_code
              move syscurxr.year_year    to ptyppar.year_year
              move lsparast              to ptyppar.ptyppar_code
              find eq ptyppar by index.1
              if (not(found))     move 1 to ifs
              move ptyppar.wtypkin_code to swtypkin
              clear wflagkin
              move syscurxr.company_code to wflagkin.company_code
              move syscurxr.branch_code  to wflagkin.branch_code
              move syscurxr.year_year    to wflagkin.year_year
              move swtypkin              to wflagkin.wtypkin_code
              find ge wflagkin by index.1
              while (found eq 1 and wflagkin.wtypkin_code = swtypkin)
                    if wflagkin.wflagkin_flag eq '42' move 1 to iflag
              find gt wflagkin by index.1
              loop
              if (psmodule(self) = '02') begin
               if (lsseira = '' or lsno = '' and iflag <> 1) begin
                  move 10 to ifs
                  send info_box 'É‚§ ë¨£ß¢û®È©ò´ú ëú†®· û Ä®†ü£Ê èò®ò©´ò´†°¶Á !!' 'è¢û®¶≠¶®Âò'
               end
              end
              if (lsdate = '')  move 2 to ifs
              if (lsseira = '' and (psmodule(self)='02') AND iflag<>1) move 3 to ifs
              if (lsno = '' and (psmodule(self) = '02') and iflag <>1) move 4 to ifs
              if (qtydtl = 0)   move 6 to ifs
              if (lsparal = '' and psmodule(self) = '02' and iflag <>1)    move 7 to ifs
              send Rebuild_constraints to clorderd_dd
              Set Dynamic_Update_State Of igridid to False
              Send Find  to clorderd_dd FIRST_Record 1
              While (Found eq 1)
                 Get Field_Current_Value Of clorderd_DD Field clorderd.wax_recr  To lsstore
                 Get Field_Current_Value Of clorderd_DD Field clorderd.kinish_posothta  To kinhshposo
                 if (lsstore = '') begin
                     if (kinhshposo<>0)  begin
                        Get Field_Current_Value Of clorderd_DD Field clorderd.item_code  To lsitem
                        move 8 to ifs
                     end
                 end
              Send Find  to clorderd_dd next_Record 1
              loop
              send beginning_of_data to igridid true
              Set Dynamic_Update_State Of igridid to true
        
              if (ifs = 0) begin
                 Begin_transaction
                 Move  Error_Object_ID  to iError_Object_ID
                 move (oDoorders(current_object)) to liBpo00
                 send beg_orders to libpo00 lsparast lsdate lsseira lsno lsparal lsrecr lsnomisma lsclient lstropos smodule
                 end_transaction
                 Move  iError_Object_ID  to Error_Object_ID
                 if (not(err)) begin
                     set value of (ptyppar_code(ipath)) to ''
                     set value of (ptyppar_hmnia(ipath)) to ''
                     set value of (pseira_seira(ipath)) to ''
                     set value of (pseira_no(ipath)) to ''
                     set value of (formsub8(ipath)) to ''
                     get psflag to sflag
                     if ((sflag = '40') or (sflag = '41')) begin
                         Get Psrecr to sParticleRecr
                         Set psFindParticleRecr   Of (Particle(Self)) to (Trim(sParticleRecr))
                         set psmodule             of (particle(self)) to (psmodule(self))
                         send activate_particle
                         Send Request_Cancel
                         send show_cn             to (particle(self))
                     end
                     else begin
                         Send Find_By_Recnum to clorder_DD clorder.File_Number iRecnum
                         if (found = 1) begin
                              send beginning_of_data to (the_table(dbTabPageSubS1(dbTabDialogSubS1(current_object))))  true
                              send beginning_of_data to (the_table1(dbTabPageSubS2(dbTabDialogSubS1(current_object)))) true
                         end
                     end
                 end
                 else begin
                    indicate err false
                    Set Dynamic_Update_State Of igridid to False
                    send request_clear_all
                    Send Find_By_Recnum to clorder_DD clorder.File_Number iRecnum
                    Set Dynamic_Update_State Of igridid to true
                   //clear clorder
                   //move lsrecr to clorder.recr
                   //find eq clorder by index.2
                   //relate clorder
                 end
              end
              else begin
                 if (ifs = 1) send info_box 'Éú§ ìß·®Æú† ´¶ èò®ò©´ò´†°Ê !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 2) send info_box 'Éú§ ë¨£ß¢û®È©ò´ú Ü£/§Âò !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 3) send info_box 'Éú§ ë¨£ß¢û®È©ò´ú ëú†®· !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 4) send info_box 'Éú§ ë¨£ß¢û®È©ò´ú Ä®†ü£Ê !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 5) send info_box 'Éú§ ë¨£ß¢û®È©ò´ú è¶©Ê´û´ú™ - è¶©· !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 6) send info_box 'Éú§ ë¨£ß¢û®È©ò´ú è¶©Ê´û´ú™ - è¶©· !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 7) send info_box 'é èò®ò¢òôÈ§ ÑÂ§ò† Äö§‡©´¶™ !!' 'è¢û®¶≠¶®Âò'
                 if (ifs = 8) begin
                    move 'Éú§ ë¨£ß¢û®È©ò´ú í„§ Äß¶ü„°û ë´¶ ÑÂõ¶™ = ' to infstr
                    append infstr lsitem
                    send info_box infstr 'è¢û®¶≠¶®Âò'
                 end
              end
            end
        
        End_Procedure // OnClick
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // ButtonSub5

    Object Textbox6 is a Textbox
        Set Label to "ÑÂõ¶™ Ç®ò££„™"
        Set TextColor to clNavy
        Set Location to 265 141
        Set Size to 10 54
        Set FontWeight to 800
        Set TypeFace to "MS Sans Serif"
    End_Object    // Textbox6

    Object Clorderd_Item_Code is a dbFormSub
        Entry_Item Clorderd.Item_code
        Set Server to (Clorderd_DD(self))
        Set Size to 13 112
        Set Location to 264 206
        Set Color to clNavy
        Set TextColor to clYellow
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Prompt_Button_Mode to pb_PromptOff
        Set Form_FontWeight Item 0 to 800
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        set enabled_state to false
        procedure onchange
            string sname
            move (fnitem(self,clorderd.item_code)) to sname
            if (sname <> '');
               set value of (formsub9(self)) to sname
            else;
               set value of (formsub9(self)) to ''
        end_procedure
        
        
        
        //AB-StoreEnd

    End_Object    // Clorderd_Item_Code

    Object FormSub9 is a FormSub
        Set Size to 13 192
        Set Location to 264 323
        Set Color to clNavy
        Set TextColor to clYellow
        Set Label_Col_Offset to 2
        Set Form_FontWeight Item 0 to 800
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        set enabled_state to false
        //AB-StoreEnd

    End_Object    // FormSub9


    //AB-StoreStart
    set verify_data_loss_msg    to get_no_confirmation
    set verify_save_msg         to get_no_confirmation
    set verify_exit_msg         to get_no_confirmation
    Procedure Enable_The_Fields
        Integer iakyrh ifinish  istatus
        Get Field_Current_Value Of clorder_DD Field clorder.akyrh to iakyrh
        Get Field_Current_Value Of clorder_DD Field clorder.finish to ifinish
        if ((ifinish = 1) or (iakyrh = 1)) move 1 to istatus
        Set Enabled_State   Of (clorder_aaparprom(container1(Self))) to (istatus=0)
        Set Enabled_State   Of (clorder_date(container1(Self)))      to (istatus=0)
        Set Enabled_State   Of (clorder_armod(container1(Self)))     to (istatus=0)
        Set Enabled_State   Of (clorder_our_date(container1(Self)))  to (istatus=0)
        Set Enabled_State   Of (clorder_nomisma(container1(Self)))   to (istatus=0)
        Set Enabled_State   Of (clorder_how_pay(container1(Self)))   to (istatus=0)
        Set Enabled_State   Of (clorder_tropos(container1(Self)))    to (istatus=0)
        Set Enabled_State   Of (dbcheckboxsub1(container1(Self)))    to (istatus=0)
        Set Read_Only_State Of (clorder_DD(v94_1(Self)))             to (istatus=1)
        Set Enabled_State   Of (buttonsub2(Self))                    to (istatus=0)
        Set Enabled_State   Of (buttonsub3(Self))                    to (istatus=0)
        Set Enabled_State   Of (buttonsub5(Self))                    to (istatus=0)
    End_Procedure
    
    Procedure Set_The_Decimal_Points
        Integer itable ipedia itable1
        String  sCode sNomisma sRecr
        date    dHmnia
    
        Get Field_Current_Value Of clorder_DD Field clorder.nomisma to sNomisma
        Move (Trim(sNomisma)) to sNomisma
        if (snomisma='') move clorder.nomisma to sNomisma
        Clear Nomisma
        Move snomisma to Nomisma.Nomisma_Code
        Find eq Nomisma by Index.1
        Move (the_table(dbTabPageSubS1(dbTabDialogSubS1(Self)))) to itable
        Move (the_table1(dbTabPageSubS2(dbTabDialogSubS1(Self)))) to itable1
        Set Dynamic_Update_State Of itable to False
        Set Visible_State Of itable to False
        Move (dbTabPageSubS1(dbTabDialogSubS1(Self))) to ipedia
        Set Points          Of (clorder_net(dbgroupsub2(self))) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorder_qty(dbgroupsub2(self))) Item  0 to 1
        Set Points          Of (clorder_disc(dbgroupsub2(self))) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorder_extra(dbgroupsub2(self))) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorder_fpa(dbgroupsub2(self))) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorder_total(dbgroupsub2(self))) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorderd_posodisc(ipedia)) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorderd_posofpa(ipedia)) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorderd_posoextra(ipedia)) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorderd_posototal(ipedia)) Item  0 to Nomisma.Dekadika
        Set Points          Of (clorderd_net(ipedia)) Item  0 to Nomisma.Dekadika
        set Points          of (clorder_posodtl(dbTabPageSubS3(dbTabDialogSubS1(self)))) to Nomisma.Dekadika
        Set Numeric_Mask    Of (clorder_net(dbgroupsub2(self))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorder_qty(dbgroupsub2(self))) Item  0 to 12 1 " ,*"
        Set Numeric_Mask    Of (clorder_disc(dbgroupsub2(self))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorder_extra(dbgroupsub2(self))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorder_fpa(dbgroupsub2(self))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorder_total(dbgroupsub2(self))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorderd_net(ipedia)) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorderd_posodisc(ipedia)) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorderd_posofpa(ipedia)) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorderd_posoextra(ipedia)) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorderd_posototal(ipedia)) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Numeric_Mask    Of (clorder_posodtl(dbTabPageSubS3(dbTabDialogSubS1(self)))) Item  0 to 12 Nomisma.Dekadika " ,*"
        Set Points          Of itable            Item  4 to 1
        Set Points          Of itable            Item  6 to 0
        Set Points          Of itable            Item  5 to Nomisma.Dekadika
        Set Numeric_Mask    Of itable            Item  5 to 12   Nomisma.Dekadika " ,*"
        Set Points          Of itable1           Item  1 to 1
        Set Points          Of itable1           Item  5 to 1
        Set Points          Of itable1           Item  6 to 1
        Set Points          Of itable1           Item  7 to 1
        Set Points          Of itable1           Item  8 to 1
        Set Points          Of itable1           Item  9 to 1
        Set Points          Of itable1           Item  2 to Nomisma.Dekadika
        Set Numeric_Mask    Of itable1           Item  2 to 12   Nomisma.Dekadika " ,*"
        Set Points          Of itable1           Item  10 to Nomisma.Dekadika
        Set Numeric_Mask    Of itable1           Item  10 to 12 Nomisma.Dekadika  " ,*"
        Set Visible_State Of itable to true
        Set Dynamic_Update_State Of itable to true
    
    
    End_procedure
    
    
    Procedure Activate_View Returns Integer
        String  sStr sModule sDescr sRecr lsvalue
        Integer rVal iRecnum itable Ipath
        if (psclorderrecr(self)='') begin
           Get psMenuModule  Of Main_Menu  to sModule
           Set psModule to sModule
           Send Clear to Clients_DD
        end
    
        move (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) to itable
        move (dbTabPageSubS3(dbTabDialogSubS1(self))) to Ipath
        set column_prompt_object of itable item 7 to (wax(self))
             if (psmodule(self)='01') set column_prompt_object of itable item 1 to (sl17(self))
        else if (psmodule(self)='02') set column_prompt_object of itable item 1 to (sl186a(self))
        Forward Get Msg_Activate_View to rVal
        Case Begin
            Case (psModule(Self)='01') // è‡¢„©ú†™ / èú¢·´ú™
                Send Rebuild_Constraints to clorder_DD
                set label of v94_1 to "É†òÆúÂ®û©û èò®òööú¢Âò™ èú¢·´û"
                set Header_Label of itable item 3   to 'ÑÂõ¶™ èú¢·´û'
                set label of (textboxsub10(container1(self))) to 'èú¢·´û™'
                set size of  (textboxsub10(container1(self))) to 10 92
                set label of  (textboxsub11(container1(self))) to 'èò®òöö.èú¢·´û'
                set size of  (textboxsub11(container1(self))) to 10 56
                Set Form_Width of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 0 to  0
                Set Form_Width of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 1 to  92
                Set Form_Width of (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) item 2 to  134
                Set Form_Width of (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) item 3 to  0
                set header_label of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 0 to 'ÑÂõ¶™ èú¢·´û'
              //  set column_prompt_object of itable item 1 to (sl17(self))
              Case Break
            Case (psModule(Self)='02') // è®¶£ûüú¨´‚™ / Äö¶®‚™
                Send Rebuild_Constraints to clorder_DD
                set label of v94_1 to "É†òÆúÂ®û©û èò®òööú¢Âò™ è®¶£ûüú¨´„ "
                set Header_Label of itable item 3   to 'ÑÂõ¶™ è®¶£ûü.'
                set label of (textboxsub10(container1(self))) to 'è®¶£ûüú¨´„™'
                set size of  (textboxsub10(container1(self))) to 10 92
                set label of (textboxsub11(container1(self))) to 'èò®òöö.è®¶£ûü.'
                set size of  (textboxsub11(container1(self))) to 10 56
                Set Form_Width of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 0 to  57
                Set Form_Width of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 1 to  35
                Set Form_Width of (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) item 2 to  69
                Set Form_Width of (the_table(dbTabPageSubS1(dbTabDialogSubS1(self)))) item 3 to  65
            //    set column_prompt_object of itable item 1 to (sl186a(self))
                set header_label of (the_table1(dbTabPageSubS2(dbTabDialogSubS1(self)))) item 0 to 'ÑÂõ¶™ è®¶£ûü.'
            Case Break
        Case End
    
        set visible_state of (textboxsub28(Ipath)) to (psmodule(self) = '02')
        set visible_state of (formsub8(Ipath))     to (psmodule(self) = '02')
        set visible_state of (textboxsub33(container1(self))) to (psmodule(self) = '02')
        set visible_state of (clorder_order1_recr(container1(self))) to (psmodule(self) = '02')
        set value of (pseira_seira(Ipath)) to ''
        if (psclorderrecr(self)<>'') begin
            get psclorderrecr to srecr
            set psclorderrecr to ''
      //      clear clorder
      //      move srecr to clorder.recr
      //      find eq  clorder by index.2
      //      if (found=1) begin
      //          move clorder.recnum to irecnum
      //          send clear to clorder_dd
      //          Send Find_By_Recnum to clorder_DD clorder.File_Number iRecnum
      //      end
        end
        Procedure_Return rVal
    End_Procedure
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    //AB-StoreEnd

End_Object    // v94_1


//AB-StoreStart








//AB-StoreEnd

//AB/ End_Object    // prj
