//AB/ Project nProsfor
//AB/ Object prj is a View_Project
//AB/     Set ProjectName to "nProsfor"
//AB/     Set ProjectFileName to "nProsfor.VW"
//AB/     Set GenerateFileName to "NONAME"

// Project Object Structure
//   nProsfor is a dbViewSubS
//     Pelates_DD2 is a Pelates_DataDictionary
//     itemprom_DD2 is a itemprom_DataDictionary
//     Pelates_DD is a DataDictionary
//     Ypprosf_DD is a DataDictionary
//     Yppolhs_DD is a DataDictionary
//     Katergo_DD is a DataDictionary
//     Cn_DD is a DataDictionary
//     Ypoprosf_DD is a DataDictionary
//     Ergasies_DD is a DataDictionary
//     Ergkat_DD is a DataDictionary
//     Catypes_DD is a DataDictionary
//     Caitems_DD is a DataDictionary
//     Catechn_DD is a DataDictionary
//     Camovesd_DD is a DataDictionary
//     Camovedd_DD is a DataDictionary
//     Pelates_Kodikos is a dbForm
//     Pelates_Etairia is a dbForm
//     Pelates_Thlefono is a dbFormSub
//     Pelates_Fax is a dbFormSub
//     Cn_Perigrafh is a dbFormSub
//     TextBoxSub18 is a TextBoxSub
//     Ypoprosf_ is a dbGridSub
//     dbTabDialogSubS1 is a dbTabDialogSubS
//       dbTabPageSubS1 is a dbTabPageSubS
//         Ypprosf_Eponymo is a dbFormSub
//         Yppolhs_Eponymo is a dbFormSub
//         Ypoprosf_Hm_Apostolhs is a dbFormSub
//         Ypoprosf_Periex_Prosf is a dbFormSub
//         Ypoprosf_Sxolia is a dbEditSub
//         TextBoxSub21 is a TextBoxSub
//         TextBoxSub22 is a TextBoxSub
//         TextBoxSub23 is a TextBoxSub
//         TextBoxSub24 is a TextBoxSub
//         TextBoxSub25 is a TextBoxSub
//         TextBoxSub26 is a TextBoxSub
//         dbGroupOik is a dbGroupSub
//           KostosProsf is a TextBoxSub
//           TextBoxSub38 is a TextBoxSub
//           TextBoxSub39 is a TextBoxSub
//           TextBoxSub40 is a TextBoxSub
//           Kostos_Prosf is a dbFormSub
//           Kostos_timol is a dbFormSub
//           Kostos_Protim is a dbFormSub
//           Ypsos_prosf is a dbFormSub
//           Ypsos_timol is a dbFormSub
//           Ypsos_protim is a dbFormSub
//           Kerdos_Prosf is a dbFormSub
//           Kerdos_Timol is a dbFormSub
//           Kerdos_Protim is a dbFormSub
//           pct_kerd_prosf is a dbFormSub
//           pct_kerd_timol is a dbFormSub
//           pct_kerd_protim is a dbFormSub
//         Ypoprosf_Kodikos is a dbFormSub
//         btnPrintProsf is a ButtonSub
//         btnMetasx is a ButtonSub
//         TextBoxSub41 is a TextBoxSub
//         dbCheckBoxSub1 is a dbCheckBoxSub
//         Ypoprosf_Metasx_Date is a cSydbDateForm
//         Ypoprosf_Status is a dbFormSub
//         FormSub1 is a FormSub
//         btnToParag is a ButtonSub
//         btnToProTim is a ButtonSub
//         Ypoprosf_Entypo_Anpel is a dbComboFormSub
//         Ypoprosf_Aities_Mh_Anal is a dbComboFormSub
//       dbTabPageSubS2 is a dbTabPageSubS
//         dbTabDialogSubS2 is a dbTabDialogSubS
//           dbTabPageSubS7 is a dbTabPageSubS
//             dbGridSub4 is a dbGridSub
//             dbGroupSub5 is a dbGroupSub
//               Cn_Tothr is a dbFormSub
//               Cn_Antqty is a dbFormSub
//               Cn_Totnet is a dbFormSub
//               Cn_Totfpa is a dbFormSub
//               Cn_Total is a dbFormSub
//             Textbox17 is a Textbox
//           dbTabPageSubS3 is a dbTabPageSubS
//             Ergasies_Descr is a dbFormSub
//             TextBoxSub29 is a TextBoxSub
//             dbGridSub5 is a dbGridSub
//           dbTabPageSubS4 is a dbTabPageSubS
//             TextBoxSub30 is a TextBoxSub
//             dbGridSub6 is a dbGridSub
//             Ergasies_Descr is a dbFormSub
//         dbGroupSub6 is a dbGroupSub
//           dbFormSub9 is a dbFormSub
//           dbFormSub10 is a dbFormSub
//           dbFormSub11 is a dbFormSub
//           Textbox9 is a Textbox
//           Textbox10 is a Textbox
//           Textbox11 is a Textbox
//         dbGroupSub7 is a dbGroupSub
//           dbFormSub12 is a dbFormSub
//           dbFormSub13 is a dbFormSub
//           Textbox12 is a Textbox
//           Textbox13 is a Textbox
//         dbGroupSub8 is a dbGroupSub
//           dbFormSub14 is a dbFormSub
//           dbFormSub15 is a dbFormSub
//           dbFormSub16 is a dbFormSub
//           Textbox14 is a Textbox
//           Textbox15 is a Textbox
//           Textbox16 is a Textbox
//     TextBoxSub19 is a TextBoxSub
//     TextBoxSub35 is a TextBoxSub
//     TextBoxSub36 is a TextBoxSub
//     Cn_Kodikos_Ergou is a dbFormSub
//     ButtonSub3 is a ButtonSub
//     RadioGroupSub1 is a RadioGroupSub
//       Radio1 is a RadioSub
//       Radio2 is a RadioSub
//       Radio3 is a RadioSub

// Register all objects
Register_Object ButtonSub3
Register_Object btnMetasx
Register_Object btnPrintProsf
Register_Object btnToParag
Register_Object btnToProTim
Register_Object Caitems_DD
Register_Object Camovedd_DD
Register_Object Camovesd_DD
Register_Object Catechn_DD
Register_Object Catypes_DD
Register_Object Cn_Antqty
Register_Object Cn_DD
Register_Object Cn_Kodikos_Ergou
Register_Object Cn_Perigrafh
Register_Object Cn_Total
Register_Object Cn_Totfpa
Register_Object Cn_Tothr
Register_Object Cn_Totnet
Register_Object dbCheckBoxSub1
Register_Object dbFormSub10
Register_Object dbFormSub11
Register_Object dbFormSub12
Register_Object dbFormSub13
Register_Object dbFormSub14
Register_Object dbFormSub15
Register_Object dbFormSub16
Register_Object dbFormSub9
Register_Object dbGridSub4
Register_Object dbGridSub5
Register_Object dbGridSub6
Register_Object dbGroupOik
Register_Object dbGroupSub5
Register_Object dbGroupSub6
Register_Object dbGroupSub7
Register_Object dbGroupSub8
Register_Object dbTabDialogSubS1
Register_Object dbTabDialogSubS2
Register_Object dbTabPageSubS1
Register_Object dbTabPageSubS2
Register_Object dbTabPageSubS3
Register_Object dbTabPageSubS7
Register_Object dbTabPageSubS4
Register_Object Ergasies_DD
Register_Object Ergasies_Descr
Register_Object Ergkat_DD
Register_Object FormSub1
Register_Object itemprom_DD2
Register_Object Katergo_DD
Register_Object Kerdos_Prosf
Register_Object Kerdos_Protim
Register_Object Kerdos_Timol
Register_Object Kostos_Prosf
Register_Object Kostos_Protim
Register_Object Kostos_timol
Register_Object KostosProsf
Register_Object nProsfor
Register_Object Pelates_DD
Register_Object Pelates_DD2
Register_Object Pelates_Etairia
Register_Object Pelates_Fax
Register_Object Pelates_Kodikos
Register_Object Pelates_Thlefono
Register_Object pct_kerd_prosf
Register_Object pct_kerd_protim
Register_Object pct_kerd_timol
Register_Object Radio1
Register_Object Radio2
Register_Object Radio3
Register_Object RadioGroupSub1
Register_Object TextBoxSub18
Register_Object TextBoxSub19
Register_Object TextBoxSub21
Register_Object TextBoxSub22
Register_Object TextBoxSub23
Register_Object TextBoxSub24
Register_Object TextBoxSub25
Register_Object TextBoxSub26
Register_Object TextBoxSub29
Register_Object TextBoxSub30
Register_Object TextBoxSub35
Register_Object TextBoxSub36
Register_Object TextBoxSub38
Register_Object TextBoxSub39
Register_Object TextBoxSub40
Register_Object TextBoxSub41
Register_Object Textbox10
Register_Object Textbox11
Register_Object Textbox12
Register_Object Textbox13
Register_Object Textbox14
Register_Object Textbox15
Register_Object Textbox16
Register_Object Textbox17
Register_Object Textbox9
Register_Object Ypoprosf_
Register_Object Ypoprosf_Aities_Mh_Anal
Register_Object Ypoprosf_DD
Register_Object Ypoprosf_Entypo_Anpel
Register_Object Ypoprosf_Hm_Apostolhs
Register_Object Ypoprosf_Kodikos
Register_Object Ypoprosf_Metasx_Date
Register_Object Ypoprosf_Periex_Prosf
Register_Object Ypoprosf_Status
Register_Object Ypoprosf_Sxolia
Register_Object Yppolhs_DD
Register_Object Yppolhs_Eponymo
Register_Object Ypprosf_DD
Register_Object Ypprosf_Eponymo
Register_Object Ypsos_prosf
Register_Object Ypsos_protim
Register_Object Ypsos_timol


//AB/ AppBuild VIEW


//AB-StoreTopStart
Open ItemProm
Use CN.vw
use dochpar.dg
Use bpNewYpo.dg
Use r16_3.rv
//AB-StoreTopEnd

//AB-IgnoreStart

Use dbView.Sub
Use DFAllEnt.pkg
Use dbForm.Sub
Use Txtbox.Sub
Use dbGrid.Sub
Use dbTabDlgS.Sub
Use dbEdit.Sub
Use dbGroup.Sub
Use Button.Sub
Use dbChkbox.Sub
Use cSydbDateForm.Pkg
Use Form.Sub
Use dbCmbfrm.Sub
Use Rgroup.Sub
Use Radio.Sub

Use PELATES.DD
Use YPPROSF.DD
Use YPPOLHS.DD
Use KATERGO.DD
Use CN.DD
Use YPOPROSF.DD
Use ERGASIES.DD
Use ERGKAT.DD
Use CATYPES.DD
Use CAITEMS.DD
Use CATECHN.DD
Use CAMOVESD.DD
Use CAMOVEDD.DD

//AB-IgnoreEnd

ACTIVATE_VIEW Activate_nProsfor FOR nProsfor

Object nProsfor is a dbViewSubS

    //AB-StoreTopStart
                                                
    property integer    pierr       public  0
    property number     pnqty       public  0
    property number     pnunitpr    public  0
    Property Integer    piPelaths   Public  0
    Property Integer    piErgo      Public  0
    property number     pnfpa       public  0
    property string     pspromitem  public ''
    property integer    piStadio    public  0
    
    Object Pelates_DD2 is a Pelates_DataDictionary
    End_Object    // Pelates_DD
    
    Object itemprom_DD2 is a itemprom_DataDictionary
    End_Object    // itemprom_DD
    
    Function fspelates Returns string
         string sname
         number ncode
         send clear to pelates_dd2
         get field_current_value of camovedd_dd field camovedd.prom_code to ncode
         move ncode to pelates.kodikos
      //   move code to pelates.kodikos
         send find to pelates_dd2 eq 1
         if (found=1) get field_current_value of pelates_dd2 field  pelates.etairia to sname
         else move '' to sname
         function_return sname
    end_Function
    
    Function fnitempromCaitems string name Returns number
         number fpa
         clear caitemsl
         move name to caitemsl.caitems_code
         find eq caitemsl by index.1
         if (found = 1) move caitemsl.caitems_fpa to fpa
         else move 0 to fpa
         function_return fpa
    end_function
    
    Function fnCaitems string name Returns string
          clear caitemsl
          move name to caitemsl.caitems_code
          find eq caitemsl by index.1
          if (found=1) move caitemsl.caitems_name to name
          else         move ''                    to name
          function_return name
    end_Function
    
    //AB-StoreTopEnd

    Set Label to "è®¶©≠¶®· ©ú èú¢·´û"
    Set Size to 292 521
    Set Location to 1 3

    //AB-DDOStart

    Object Pelates_DD is a Pelates_DataDictionary

        //AB-StoreStart
                                                                                    
        //Set Read_Only_State to True
        
        
        //AB-StoreEnd

    End_Object    // Pelates_DD

    Object Ypprosf_DD is a Ypprosf_DataDictionary

        //AB-StoreStart
                                                                                    
        //Set Read_Only_State to True
        
        
        //AB-StoreEnd

    End_Object    // Ypprosf_DD

    Object Yppolhs_DD is a Yppolhs_DataDictionary

        //AB-StoreStart
                                                                                    
        //Set Read_Only_State to True
        
        
        //AB-StoreEnd

    End_Object    // Yppolhs_DD

    Object Katergo_DD is a Katergo_DataDictionary

        //AB-StoreStart
                                                                                    
        //Set Read_Only_State to True
        
        
        //AB-StoreEnd

    End_Object    // Katergo_DD

    Object Cn_DD is a Cn_DataDictionary
        Set DDO_Server to (Pelates_DD(self))
        Set DDO_Server to (Katergo_DD(self))
        Set Constrain_File to Pelates.File_Number

        //AB-StoreStart
                                                                                    
        //Set Read_Only_State to True
        
        Procedure Creating
            Forward Send Creating
            Move Sysfile.hold to CN.Status
        End_Procedure
        
        
        //AB-StoreEnd

    End_Object    // Cn_DD

    Object Ypoprosf_DD is a Ypoprosf_DataDictionary
        Set DDO_Server to (Ypprosf_DD(self))
        Set DDO_Server to (Yppolhs_DD(self))
        Set DDO_Server to (Cn_DD(self))
        Set Constrain_File to Cn.File_Number

        //AB-StoreStart
                                                                                    
        Begin_Constraints
            Constrain Ypoprosf.stadio Eq (piStadio(Self))
        End_Constraints
        
        Procedure Creating
            If ((piStadio(Self)=1) And (Ypoprosf.Stadio=0)) Move (piStadio(Self)) to Ypoprosf.Stadio
            Forward Send Creating
        End_Procedure
        
        //AB-StoreEnd

    End_Object    // Ypoprosf_DD

    Object Ergasies_DD is a Ergasies_DataDictionary

        //AB-StoreStart
                                                                                    
                                                                                    
                                                                                    
        //AB-StoreEnd

    End_Object    // Ergasies_DD

    Object Ergkat_DD is a Ergkat_DataDictionary
        Set DDO_Server to (Ypoprosf_DD(self))
        Set DDO_Server to (Ergasies_DD(self))
        Set Constrain_File to Ypoprosf.File_Number

        //AB-StoreStart
                                                                                    
                                                                                    
                                                                                    
        //AB-StoreEnd

    End_Object    // Ergkat_DD

    Object Catypes_DD is a Catypes_DataDictionary
    End_Object    // Catypes_DD

    Object Caitems_DD is a Caitems_DataDictionary
        Set DDO_Server to (Catypes_DD(self))
    End_Object    // Caitems_DD

    Object Catechn_DD is a Catechn_DataDictionary
    End_Object    // Catechn_DD

    Object Camovesd_DD is a Camovesd_DataDictionary
        Set DDO_Server to (Ergkat_DD(self))
        Set DDO_Server to (Catechn_DD(self))
        Set Constrain_File to Ergkat.File_Number

        //AB-StoreStart
                                                                                    
        //AB-StoreEnd

    End_Object    // Camovesd_DD

    Object Camovedd_DD is a Camovedd_DataDictionary
        Set DDO_Server to (Ergkat_DD(self))
        Set DDO_Server to (Caitems_DD(self))
        Set Constrain_File to Ergkat.File_Number

        //AB-StoreStart
        
        Function Validate_Save  Returns Integer
            Local Integer iReturnVal  ibpoid ierr
            local number lnqty lndiaf lnunitpr
            local string spromitem
            local integer ifpa
            Forward Get Validate_Save  To iReturnVal
            If (Not(iReturnVal)) Begin
                clear itemprom
                move camovedd.prom_code     to itemprom.prom_code
                move caitems.caitems_code   to itemprom.caitems_code
                find eq itemprom by index.1
                if (found=0) begin
                send stop_box 'Éú§ úÂ§ò† ©¨©Æú´†©£‚§¶ ´¶ úÂõ¶™ £ú è®¶£ûüú¨´„ !!'  'ë≠·¢£ò V26'
                move 1 to ireturnval
                end
                else begin
                    move itemprom.prom_itemcode to spromitem
                    move itemprom.fpa           to ifpa
                    set pnfpa to ifpa
                    set pspromitem to spromitem
                end
            end
            Function_Return iReturnVal
        end_Function
        
        procedure request_save
            Local Integer iReturnVal  ibpoid ierr
            local number lnqty diaf lnunitpr lndiaf
            local string spromitem
            local integer ifpa
            forward send request_save
            if (ypoprosf.recnum) begin
                get pnqty to lnqty
                get pnunitpr to lnunitpr
                move 0 to ierr
                move (camovedd.camovedd_qty-lnqty) to lndiaf
                if (ypoprosf.metasx = '1') begin
                    clear clorderd
                    move camovedd.aa_ypoprosforas   to clorderd.aa_ypoprosf
                    move camovedd.prom_code         to clorderd.pelates_kodikos
                    move camovedd.ergasies          to clorderd.ergasies
                    move camovedd.caitems_code      to clorderd.caitems_code
                    find eq clorderd by index.1
                    if (not(found)) begin
                        get pnfpa to ifpa
                        move camovedd.aa_ypoprosforas   to clorderd.aa_ypoprosf
                        move camovedd.prom_code         to clorderd.pelates_kodikos
                        move camovedd.caitems_code      to clorderd.caitems_code
                        move camovedd.ergasies          to clorderd.ergasies
                        move (pspromitem(self))         to clorderd.prom_item
                        move camovedd.camovedd_qty      to clorderd.qty
                        move camovedd.prom_name         to clorderd.onoma
                        move camovedd.camovedd_unitpr   to clorderd.unitprice
                        move (clorderd.unitprice*clorderd.qty) to clorderd.net
                        move ifpa to clorderd.pcfpa
                        move (round_number((clorderd.net * ifpa/100),2)) to clorderd.posofpa
                        move (clorderd.net+clorderd.posofpa) to clorderd.posototal
                        move clorderd.qty to clorderd.ypolprom
                        move clorderd.qty to clorderd.ypol_qty
                        Reread Sysrec
                        Move (Sysrec.Clorderd_rec0+1) to Clorderd.rec0
                        Move (Sysrec.Clorderd_rec0+1) to Sysrec.Clorderd_rec0
                        Saverecord Sysrec
                        Unlock
                        saverecord clorderd
                        Move (Dochpar(Self)) to ibpoid
                        Set pnypoprosf       of iBPOID to camovedd.aa_ypoprosforas
                        send DoProcess       to iBPOID
                        Send Beginning_Of_Data to (dbGridSub6(dbTabPageSubS4(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(Self)))))) True
                    end
                end
            end
        end_procedure
        
        Procedure Backout
            Forward Send Backout
            set pnqty     to camovedd.camovedd_qty
            set pnunitpr  to camovedd.camovedd_unitpr
        end_procedure
        
        Procedure Update
            Forward Send Update
        end_procedure
        
        procedure save_main_file
        Local Integer iReturnVal  ibpoid ierr
        local number lnqty lndiaf lnunitpr
        local string spromitem
        local integer ifpa
        Forward send save_main_file
        
         if (ypoprosf.recnum) begin
            get pnqty to lnqty
            get pnunitpr to lnunitpr
            move 0 to ierr
            move (camovedd.camovedd_qty-lnqty) to lndiaf
            if (ypoprosf.metasx = '1') begin
                clear clorderd
                move camovedd.aa_ypoprosforas       to clorderd.aa_ypoprosf
                move camovedd.prom_code      to clorderd.pelates_kodikos
                move camovedd.ergasies       to clorderd.ergasies
                move camovedd.caitems_code   to clorderd.caitems_code
                find eq clorderd by index.1
                if (found=1)  begin
                    if (camovedd.camovedd_qty > clorderd.qty) move 0 to ierr
                    else if (camovedd.camovedd_qty < clorderd.qty) begin
                          if ((lndiaf + clorderd.qty) < clorderd.ypol_qty) move 1 to ierr
                          else move 0 to ierr
                    end
                    if (ierr=0) begin
                       reread clorderd
                       add lndiaf      to clorderd.qty
                       if (camovedd.camovedd_unitpr <> lnunitpr) move camovedd.camovedd_unitpr to clorderd.unitprice
                       move (clorderd.unitprice*clorderd.qty) to clorderd.net
                       get pnfpa to ifpa
                       move ifpa to clorderd.pcfpa
                       move (round_number((clorderd.net * ifpa/100),2)) to clorderd.posofpa
                       move (clorderd.net+clorderd.posofpa) to clorderd.posototal
                       add  lndiaf to clorderd.ypolprom
                       add lndiaf  to clorderd.ypol_qty
                       saverecord clorderd
                       unlock
                       Move (Dochpar(Self)) to ibpoid
                       Set pnypoprosf       of iBPOID to camovedd.aa_ypoprosforas
                       send DoProcess       to iBPOID
                       Send Beginning_Of_Data to (dbGridSub6(dbTabPageSubS4(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(Self)))))) True
                    end
                    else begin
                       send stop_box 'É‚§ ¨ß·®Æú† ©´„§ ßò®òööú¢Âò õ†òü‚©†£¶ ¨ßÊ¢¶†ß¶ !!' 'ë≠·¢£ò'
                       function_return  1
                    end
                end
            end
         end
        end_procedure
        
        
        
        //AB-StoreEnd

    End_Object    // Camovedd_DD

    Set Main_DD to (Pelates_DD(self))
    Set Server to (Pelates_DD(self))

    //AB-DDOEnd

    Object Pelates_Kodikos is a dbForm
        Entry_Item Pelates.Kodikos
        Set Size to 13 72
        Set Location to 3 65
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
    End_Object    // Pelates_Kodikos

    Object Pelates_Etairia is a dbForm
        Entry_Item Pelates.Etairia
        Set Label to "èú¢·´û™"
        Set Size to 13 305
        Set Location to 2 195
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart
                                                                                    
        Set Enabled_State to False
        
        
        //AB-StoreEnd

    End_Object    // Pelates_Etairia

    Object Pelates_Thlefono is a dbFormSub
        Entry_Item Pelates.Thlefono
        Set Size to 13 255
        Set Location to 17 65
        Set Color to clBtnFace
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Enabled_State to FALSE
        Set Item_Shadow_State Item 0 to TRUE
        Set Shadow_State Item 0 to TRUE
    End_Object    // Pelates_Thlefono

    Object Pelates_Fax is a dbFormSub
        Entry_Item Pelates.Fax
        Set Label to "Fax:"
        Set Size to 13 139
        Set Location to 16 360
        Set Color to clBtnFace
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Enabled_State to FALSE
        Set Item_Shadow_State Item 0 to TRUE
        Set Shadow_State Item 0 to TRUE
    End_Object    // Pelates_Fax

    Object Cn_Perigrafh is a dbFormSub
        Entry_Item Cn.Perigrafh
        Set Server to (Cn_DD(self))
        Set Size to 13 305
        Set Location to 31 195
        Set Color to clBtnFace
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Enabled_State to FALSE
        Set Item_Shadow_State Item 0 to TRUE
        Set Shadow_State Item 0 to TRUE

        //AB-StoreStart
                                                                                    
        Procedure Prompt
            Forward Send Prompt
            Send Ftiaxe_ta_constraints
        End_procedure
        
        Procedure Find_Next
            Forward Send Find_Next
            Send Ftiaxe_ta_constraints
        End_procedure
        
        Procedure Find_Previous
            Forward Send Find_Previous
            Send Ftiaxe_ta_constraints
        End_procedure
        
        Procedure Find_GE
            Forward Send Find_GE
            Send Ftiaxe_ta_constraints
        End_procedure
        
        
        //AB-StoreEnd

    End_Object    // Cn_Perigrafh

    Object TextBoxSub18 is a TextBoxSub
        Set Label to "Ñ®ö¶"
        Set Location to 31 38
        Set Size to 10 17
    End_Object    // TextBoxSub18

    Object Ypoprosf_ is a dbGridSub
        Set Main_File to Ypoprosf.File_Number
        Set Server to (Ypoprosf_DD(self))
        Set Size to 170 79
        Set Location to 104 5
        Set Wrap_State to TRUE

        Begin_Row
            Entry_Item Cn.Kodikos_ergou
            Entry_Item Ypoprosf.Kodikos
        End_Row

        Set Form_Width    item 0 to 38
        Set Header_Label  item 0 to "è®¶©≠."
        
        Set Form_Width    item 1 to 33
        Set Header_Label  item 1 to "ò/ò"
        

        //AB-StoreStart
                                                                                    
        Set Column_Option Item 0 to NoEnter True
        
        Set read_only_state to true
        
        set currentrowcolor to 11468799
        set currentcellcolor to 11468799
        
        procedure mouse_click integer window integer char_pos
            Integer iCN iPel
            forward send mouse_click window char_pos
            if (Current_Record(Pelates_DD(Self))) Begin
                Get Field_Current_Value Of Pelates_DD   Field Pelates.Recnum    to iPel
                Get Field_Current_Value Of Cn_DD        Field Cn.Recnum         to iCn
                Set piPelaths   Of (CN_View(Self))   to iPel
                Set piErgo      Of (CN_View(Self))   to iCN
                Send Activate_CN_View
            end
        end_procedure
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // Ypoprosf_

    Object dbTabDialogSubS1 is a dbTabDialogSubS
        Set Size to 222 426
        Set Location to 53 87
        Object dbTabPageSubS1 is a dbTabPageSubS
            Set Label to "dbTabPageSubS1"
            Object Ypprosf_Eponymo is a dbFormSub
                Entry_Item Ypprosf.Eponymo
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 186
                Set Location to 18 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypprosf_Eponymo

            Object Yppolhs_Eponymo is a dbFormSub
                Entry_Item Yppolhs.Eponymo
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 186
                Set Location to 34 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Yppolhs_Eponymo

            Object Ypoprosf_Hm_Apostolhs is a dbFormSub
                Entry_Item Ypoprosf.Hm_apostolhs
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 66
                Set Location to 50 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypoprosf_Hm_Apostolhs

            Object Ypoprosf_Periex_Prosf is a dbFormSub
                Entry_Item Ypoprosf.Periex_prosf
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 363
                Set Location to 66 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypoprosf_Periex_Prosf

            Object Ypoprosf_Sxolia is a dbEditSub
                Entry_Item Ypoprosf.Sxolia
                Set Server to (Ypoprosf_DD(self))
                Set Size to 54 363
                Set Location to 111 55
            End_Object    // Ypoprosf_Sxolia

            Object TextBoxSub21 is a TextBoxSub
                Set Label to "ìß. è®¶©≠"
                Set Location to 19 12
                Set Size to 10 39
            End_Object    // TextBoxSub21

            Object TextBoxSub22 is a TextBoxSub
                Set Label to "ìß. èÈ¢"
                Set Location to 36 20
                Set Size to 10 29
            End_Object    // TextBoxSub22

            Object TextBoxSub23 is a TextBoxSub
                Set Label to "Ü£/§Âò Äß¶©´¶¢„™"
                Set Location to 49 12
                Set Size to 17 38
                Set Justification_Mode to jMode_Center
            End_Object    // TextBoxSub23

            Object TextBoxSub24 is a TextBoxSub
                Set Label to "èú®†úÆÊ£ú§ò"
                Set Location to 68 6
                Set Size to 10 45
            End_Object    // TextBoxSub24

            Object TextBoxSub25 is a TextBoxSub
                Set Label to "Ñ§´¨ß¶ Ä§òö°È§ èú¢·´û"
                Set Location to 83 18
                Set Size to 25 32
                Set Justification_Mode to jMode_Right
            End_Object    // TextBoxSub25

            Object TextBoxSub26 is a TextBoxSub
                Set Label to "Ä†´Âú™ ãû Ä§·¢ûØû™"
                Set Location to 88 178
                Set Size to 18 37
                Set Justification_Mode to jMode_Center
            End_Object    // TextBoxSub26

            Object dbGroupOik is a dbGroupSub
                Set Size to 38 415
                Set Location to 166 3
                Object KostosProsf is a TextBoxSub
                    Set Label to "âÊ©´¶™"
                    Set Location to 17 4
                    Set Size to 10 28
                End_Object    // KostosProsf

                Object TextBoxSub38 is a TextBoxSub
                    Set Label to "èÈ¢û©û"
                    Set Location to 17 115
                    Set Size to 10 27
                End_Object    // TextBoxSub38

                Object TextBoxSub39 is a TextBoxSub
                    Set Label to "â‚®õ¶™"
                    Set Location to 17 223
                    Set Size to 10 26
                End_Object    // TextBoxSub39

                Object TextBoxSub40 is a TextBoxSub
                    Set Label to "% â‚®õ¶¨™"
                    Set Location to 17 325
                    Set Size to 10 36
                End_Object    // TextBoxSub40

                Object Kostos_Prosf is a dbFormSub
                    Entry_Item Ypoprosf.Kostos_prosf
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 36
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kostos_Prosf

                Object Kostos_timol is a dbFormSub
                    Entry_Item Ypoprosf.Kostos_timol
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 36
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kostos_timol

                Object Kostos_Protim is a dbFormSub
                    Entry_Item Ypoprosf.Kostos_protim
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 36
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                    
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kostos_Protim

                Object Ypsos_prosf is a dbFormSub
                    Entry_Item Ypoprosf.Ypsos_prosf
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 150
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                    
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Ypsos_prosf

                Object Ypsos_timol is a dbFormSub
                    Entry_Item Ypoprosf.Ypsos_timol
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 150
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                        
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Ypsos_timol

                Object Ypsos_protim is a dbFormSub
                    Entry_Item Ypoprosf.Ypsos_protim
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 150
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                        
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Ypsos_protim

                Object Kerdos_Prosf is a dbFormSub
                    Entry_Item Ypoprosf.Kerdos_prosf
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 256
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                            
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kerdos_Prosf

                Object Kerdos_Timol is a dbFormSub
                    Entry_Item Ypoprosf.Kerdos_timol
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 256
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                                
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kerdos_Timol

                Object Kerdos_Protim is a dbFormSub
                    Entry_Item Ypoprosf.Kerdos_protim
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 59
                    Set Location to 16 256
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                                
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // Kerdos_Protim

                Object pct_kerd_prosf is a dbFormSub
                    Entry_Item Ypoprosf.Pct_kerd_prosf
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 45
                    Set Location to 15 366
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                                
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // pct_kerd_prosf

                Object pct_kerd_timol is a dbFormSub
                    Entry_Item Ypoprosf.Pct_kerd_timol
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 45
                    Set Location to 15 366
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                                    
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // pct_kerd_timol

                Object pct_kerd_protim is a dbFormSub
                    Entry_Item Ypoprosf.Pct_kerd_protim
                    Set Server to (Ypoprosf_DD(self))
                    Set Size to 13 45
                    Set Location to 15 366
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                                                                                                                                                                                                                                                                    
                    Set Points Item 0 to 2
                    
                    //AB-StoreEnd

                End_Object    // pct_kerd_protim

            End_Object    // dbGroupOik

            Object Ypoprosf_Kodikos is a dbFormSub
                Entry_Item Ypoprosf.Kodikos
                Set Server to (Ypoprosf_DD(self))
                Set Label to "ò/ò    "
                Set Size to 13 54
                Set Location to 2 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                Procedure onchange
                    string sstat
                    get field_current_value of ypoprosf_dd field ypoprosf.metasx to sstat
                    Set Enabled_State of (dbcheckboxsub1(dbTabPageSubS1(dbTabDialogSubS1(current_object)))) to (sstat <> '1')
                    Set Enabled_State of (ypoprosf_metasx_date(dbTabPageSubS1(dbTabDialogSubS1(current_object)))) to (sstat <> '1')
                    Set Enabled_State of (btnMetasx(dbTabPageSubS1(dbTabDialogSubS1(current_object)))) to (sstat <> '1')
                End_procedure
                
                
                //AB-StoreEnd

            End_Object    // Ypoprosf_Kodikos

            Object btnPrintProsf is a ButtonSub
                Set Bitmap to "Printer1.bmp"
                Set Size to 20 22
                Set Location to 2 315
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart
                Set TooltipValue to "Ñ°´Áß‡©û ´û™ è®¶©≠¶®·™ "
                
                Procedure OnClick
                     number naa
                     Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.aa_ypoprosforas to naa
                     Set pnypoprosf  of (r16_3(self)) to naa
                     set pistadio    of (r16_3(self)) to (pistadio(self))
                     Send runprom1Report to (prom1WQLReport(r16_3(Self)))
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnPrintProsf

            Object btnMetasx is a ButtonSub

                //AB-StoreTopStart
                use douppar.pkg
                
                //AB-StoreTopEnd

                Set Label to "ãú´ò©Æû£ò´†©£Ê™ ëú èò®òööú¢Âú™ è®¶£ûüú¨´È§"
                Set Bitmap to "aggel0.bmp"
                Set Size to 20 22
                Set Location to 25 250
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart
                                                                                                                                                                                                                
                Set TooltipValue to 'ãú´ò©Æû£ò´†©£Ê™ ©ú èò®òööú¢Âò ß®¶™ è®¶£ûüú¨´‚™'
                
                Procedure OnClick
                  integer libpo05## listatus## retval irecnum  ibpoid
                  string msgstr lsstore## wrecr edate mdate ename mname
                  number aaergou aaypoprosf
                  set pierr to 0
                  Get YesNo_Box 'è®¶©¶Æ„ ò®ÆÂùú† û õ†òõ†°ò©Âò £ú´ò©Æû£ò´†©£¶Á ©ú ßò®òööú¢Âò !!\nåò ©¨§úÆÂ©‡ ??' to RetVal
                  If (RetVal =MBR_yes) begin
                     Get Field_Current_Value Of ypoprosf_dd Field ypoprosf.aa_ypoprosforas to aaypoprosf
                     Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.aa_ergou To aaergou
                     Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.metasx_date to edate
                
                     If (edate='') Sysdate4 edate
                
                     if (edate = '') begin
                        move '' to msgstr
                        Move "Éú§ ©¨£ß¢û®Èüû°ú û£/§Âò £ú´ò©Æû£ò´†©£¶Á !!" to MsgStr
                        Send Info_Box MsgStr
                     end
                     else begin
                        begin_transaction
                        move (oDouppar(current_object)) to libpo05##
                        send beg_uppar to libpo05## aaypoprosf edate
                          if (pierr(self)=0) begin
                              Set Field_changed_Value Of ypoprosf_dd Field ypoprosf.metasx_date To edate
                              Set Field_changed_Value Of ypoprosf_DD Field ypoprosf.metasx To '1'
                              send request_save to (ypoprosf_dd(self))
                              Move "Éû£†¶¨®öÂò ßò®òööú¢Âò™ ¶¢¶°¢û®Èüû°ú !!" to MsgStr
                              Send Info_Box MsgStr
                          end
                          if (pierr(self)=1) begin
                             Move "Éú§ ô®Â©°‡ ´û§ ß®¶©≠¶®· ß®¶™ £ú´ò©Æû£ò´†©£Ê !!" to MsgStr
                             Send Info_Box MsgStr
                          end
                          if (pierr(self)=2) begin
                             Move "Éú§ ô®Â©°‡ ú®öò©Âú™ ´û§ ß®¶©≠¶®· ß®¶™ £ú´ò©Æû£ò´†©£Ê !!" to MsgStr
                             Send Info_Box MsgStr
                          end
                          if (pierr(self)=3) begin
                             Move "Éú§ ô®Â©°‡ úÂõû ©´†™ ú®öò©Âú™ ß®¶™ £ú´ò©Æû£ò´†©£Ê !!" to MsgStr
                             Send Info_Box MsgStr
                          end
                          if (pierr(self)=4) begin
                             Move "Éú§ ô®Â©°‡ úÂõû ©´¶ Ä®ÆúÂ¶ ú†õÈ§ !! Ñßò§‚¢úöÆ¶™ Ñ†õÈ§ !!" to MsgStr
                             Send Info_Box MsgStr
                          end
                          if (pierr(self)=5) begin
                             Move "Éú§ ô®Â©°‡ úÂõ¶™/ß®¶£ûüú¨´„ ©´ò ©Á§üú´ò úÂõû !! Ñßò§‚¢úöÆ¶™ Ñ†õÈ§ !!" to MsgStr
                             Send Info_Box MsgStr
                          end
                          if (pierr(self)<>0) begin
                             abort_transaction
                             procedure_return
                          end
                        end_transaction
                     end
                  end
                  set pierr to 0
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnMetasx

            Object TextBoxSub41 is a TextBoxSub
                Set Label to "ãú´ò©Æû£ò´Â©´û°ú"
                Set Location to 46 274
                Set Size to 10 70
                Set FontWeight to 800
            End_Object    // TextBoxSub41

            Object dbCheckBoxSub1 is a dbCheckBoxSub
                Entry_Item Ypoprosf.Metasx
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 12
                Set Location to 44 250
                Set TextColor to clGreen

                //AB-StoreStart
                set enabled_state to false
                //AB-StoreEnd

            End_Object    // dbCheckBoxSub1

            Object Ypoprosf_Metasx_Date is a cSydbDateForm
                Entry_Item Ypoprosf.Metasx_date
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 61
                Set Location to 31 276
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypoprosf_Metasx_Date

            Object Ypoprosf_Status is a dbFormSub
                Entry_Item Cn.Status
                Set Server to (Cn_DD(self))
                Set Label to "Status:"
                Set Size to 13 13
                Set Location to 2 145
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                                                                                                                                                                                                                                                                        
                Procedure OnChange
                    string sStatus
                    Get Field_current_value of CN_dd field CN.status to sStatus
                    move (trim(sStatus)) to sStatus
                    if (sStatus=sysfile.hold) begin
                        set value of formsub1 item 0 to 'HOLD'
                        set textcolor of formsub1 to clYellow
                    end
                    else if (sStatus=sysfile.win) begin
                        set value of formsub1 item 0 to 'WIN'
                        set textcolor of formsub1 to clGreen
                    end
                    else if (sStatus=sysfile.lost) begin
                        set value of formsub1 item 0 to 'LOST'
                        set textcolor of formsub1 to clRED
                    end
                End_Procedure
                
                
                
                //AB-StoreEnd

            End_Object    // Ypoprosf_Status

            Object FormSub1 is a FormSub
                Set Size to 13 72
                Set Location to 2 168
                Set Color to clBtnFace
                Set Label_Col_Offset to 2
                Set Enabled_State to FALSE
                Set Form_FontWeight Item 0 to 800
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE
            End_Object    // FormSub1

            Object btnToParag is a ButtonSub
                Set Bitmap to "Convert2.bmp"
                Set Size to 20 22
                Set Location to 2 250
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart
                Set TooltipValue to "ãú´ò´®¶ß„ è®¶©≠¶®·™ ©ú èò®òööú¢Âò òß¶ èú¢·´û "
                
                Procedure OnClick
                    integer ipelaths iergo iAA_Ypoprosforas iLathos
                    string  skodikos
                    get field_current_value of Pelates_dd   field Pelates.Kodikos           to ipelaths
                    get field_current_value of CN_dd        field CN.AA_ergou               to iergo
                    get field_current_value of ypoprosf_dd  field ypoprosf.kodikos          to skodikos
                    get field_current_value of ypoprosf_dd  field ypoprosf.AA_Ypoprosforas  to iAA_Ypoprosforas
                    move (trim(skodikos)) to skodikos
                    if ((ipelaths) and (iergo) and (skodikos<>'')) begin
                        // Prota des an yparxei hdh paraggelia
                        clear ypoprosf
                        move ipelaths   to ypoprosf.pelaths
                        move iergo      to ypoprosf.aa_ergou
                        move '2'        to ypoprosf.stadio
                        move skodikos   to ypoprosf.kodikos
                        find eq ypoprosf by index.4 // ypoprosf:index.4:pelaths+aa_ergoy+stadio+kodikos
                        if (found) begin
                            send info_box 'Ü ß®¶©≠¶®· úÆú† ûõû £ú´òÆû£ò´†©´úÂ' 'è¢û®¶≠¶®Âò'
                            procedure_return
                        end
                        Begin_Transaction
                         Set piLathos       Of bpNewYpo to  0
                         Set piAA_Ypoprosf  Of bpNewYpo to iAA_Ypoprosforas
                         Set psStadio       Of bpNewYpo to '2' // Paraggelia apo pelath
                         Send DoProcess                 to bpNewYpo
                         Get piLathos       Of bpNewYpo to iLathos
                         Send Ftiaxe_ta_constraints
                         Set Field_Changed_Value Of CN_DD Field CN.STATUS to Sysfile.Win
                         Send Request_Save to CN_DD
                         If (iLathos) Abort_Transaction
                        End_Transaction
                
                        If (iLathos) Begin
                            Send Info_Box ' ' ('Error '+String(iLathos))
                        End
                        Else Begin
                            Send Info_Box 'Ü ß®¶©≠¶®· £ú´ò´®·ßû°ú úß†´¨ÆÈ™\n©ú ßò®òööú¢Âò òß¶ ßú¢·´û' 'è¢û®¶≠¶®Âò'
                        End
                    end
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnToParag

            Object btnToProTim is a ButtonSub
                Set Label to "ButtonSub3"
                Set Bitmap to "Convert3.bmp"
                Set Size to 20 22
                Set Location to 2 283
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart
                                                                                                                                                                                                                                                                        
                Set TooltipValue to "ãú´ò´®¶ß„ èò®òööú¢Âò™ òß¶ èú¢·´û ©ú è®¶´†£¶¢Êöû©û"
                
                Procedure OnClick
                    integer ipelaths iergo iAA_Ypoprosforas iLathos
                    string  skodikos
                    get field_current_value of Pelates_dd   field Pelates.Kodikos           to ipelaths
                    get field_current_value of CN_dd        field CN.AA_ergou               to iergo
                    get field_current_value of ypoprosf_dd  field ypoprosf.kodikos          to skodikos
                    get field_current_value of ypoprosf_dd  field ypoprosf.AA_Ypoprosforas  to iAA_Ypoprosforas
                    move (trim(skodikos)) to skodikos
                    if ((ipelaths) and (iergo) and (skodikos<>'')) begin
                        // Prota des an yparxei hdh protimologhsh
                        clear ypoprosf
                        move ipelaths   to ypoprosf.pelaths
                        move iergo      to ypoprosf.aa_ergou
                        move '3'        to ypoprosf.stadio
                        move skodikos   to ypoprosf.kodikos
                        find eq ypoprosf by index.4 // ypoprosf:index.4:pelaths+aa_ergoy+stadio+kodikos
                        if (found) begin
                            send info_box 'Ü ßò®òööú¢Âò úÆú† ûõû £ú´òÆû£ò´†©´úÂ' 'è¢û®¶≠¶®Âò'
                            procedure_return
                        end
                        Begin_Transaction
                         Set piLathos       Of bpNewYpo to  0
                         Set piAA_Ypoprosf  Of bpNewYpo to iAA_Ypoprosforas
                         Set psStadio       Of bpNewYpo to '3' // è®¶´†£¶¢¶öû©û
                         Send DoProcess                 to bpNewYpo
                         Get piLathos       Of bpNewYpo to iLathos
                         Send Ftiaxe_ta_constraints
                         If (iLathos) Abort_Transaction
                        End_Transaction
                
                        If (iLathos) Begin
                            Send Info_Box ' ' ('Error '+String(iLathos))
                        End
                        Else Begin
                            Send Info_Box 'Ü ßò®òööú¢Âò £ú´ò´®·ßû°ú úß†´¨ÆÈ™\n©ú úöö®ò≠„ ß®¶´†£¶¢Êöû©û™' 'è¢û®¶≠¶®Âò'
                        End
                    end
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnToProTim

            Object Ypoprosf_Entypo_Anpel is a dbComboFormSub
                Entry_Item Ypoprosf.Entypo_anpel
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 94
                Set Location to 89 55
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypoprosf_Entypo_Anpel

            Object Ypoprosf_Aities_Mh_Anal is a dbComboFormSub
                Entry_Item Ypoprosf.Aities_mh_anal
                Set Server to (Ypoprosf_DD(self))
                Set Size to 13 94
                Set Location to 89 218
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Ypoprosf_Aities_Mh_Anal


            //AB-StoreStart
                                                                                                                                                                                                            
            Set Label to 'Çú§†°· ë´¶†ÆúÂò'
            
            //AB-StoreEnd

        End_Object    // dbTabPageSubS1

        Object dbTabPageSubS2 is a dbTabPageSubS
            Set Label to "dbTabPageSubS2"
            Object dbTabDialogSubS2 is a dbTabDialogSubS
                Set Size to 137 419
                Set Location to 2 3
                Object dbTabPageSubS7 is a dbTabPageSubS
                    Set Label to "Ñ®öò©Âú™ è®¶©≠¶®·™ - ëÁ§¶¢ò Ñ®ö¶¨"
                    Object dbGridSub4 is a dbGridSub
                        Set Main_File to Ergkat.File_Number
                        Set Server to (Ergkat_DD(self))
                        Set Size to 114 234
                        Set Location to 2 2
                        Set Wrap_State to TRUE

                        Begin_Row
                            Entry_Item Ergasies.Code
                            Entry_Item Ergasies.Descr
                        End_Row

                        Set Form_Width    item 0 to 77
                        Set Header_Label  item 0 to "â‡õ†°Ê™ Ñ®öò©†È§"
                        
                        Set Form_Width    item 1 to 150
                        Set Header_Label  item 1 to "èú®†ö®ò≠„"
                        

                        //AB-StoreStart
                        set currentrowcolor to 11468799
                        set currentcellcolor to 11468799
                        //AB-StoreEnd

                    End_Object    // dbGridSub4

                    Object dbGroupSub5 is a dbGroupSub
                        Set Size to 84 174
                        Set Location to 30 240
                        Object Cn_Tothr is a dbFormSub
                            Entry_Item Cn.Tothr
                            Set Server to (Cn_DD(self))
                            Set Label to "ó®ú™ Ñ®öò©Âò™"
                            Set Size to 13 102
                            Set Location to 6 69
                            Set Label_Col_Offset to 2
                            Set Label_Justification_Mode to jMode_Right

                            //AB-StoreStart
                            set points item 0 to 1
                            set enabled_state to false
                            //AB-StoreEnd

                        End_Object    // Cn_Tothr

                        Object Cn_Antqty is a dbFormSub
                            Entry_Item Cn.Antqty
                            Set Server to (Cn_DD(self))
                            Set Label to "è¶©Ê´û´ò Ñ†õÈ§"
                            Set Size to 13 102
                            Set Location to 20 69
                            Set Label_Col_Offset to 2
                            Set Label_Justification_Mode to jMode_Right

                            //AB-StoreStart
                            set points item 0 to 1
                            set enabled_state to false
                            Set Numeric_Mask  Item  0 to 14 2  " ,*"
                            //AB-StoreEnd

                        End_Object    // Cn_Antqty

                        Object Cn_Totnet is a dbFormSub
                            Entry_Item Cn.Totnet
                            Set Server to (Cn_DD(self))
                            Set Label to "âòüò®Ê °Ê©´¶™"
                            Set Size to 13 102
                            Set Location to 34 69
                            Set Label_Col_Offset to 2
                            Set Label_Justification_Mode to jMode_Right

                            //AB-StoreStart
                            set enabled_state to false
                            Set Numeric_Mask  Item  0 to 14 2  " ,*"
                            //AB-StoreEnd

                        End_Object    // Cn_Totnet

                        Object Cn_Totfpa is a dbFormSub
                            Entry_Item Cn.Totfpa
                            Set Server to (Cn_DD(self))
                            Set Label to "ëÁ§¶¢¶ î.è.Ä"
                            Set Size to 13 102
                            Set Location to 49 69
                            Set Label_Col_Offset to 2
                            Set Label_Justification_Mode to jMode_Right

                            //AB-StoreStart
                            set enabled_state to false
                            Set Numeric_Mask  Item  0 to 14 2  " ,*"
                            //AB-StoreEnd

                        End_Object    // Cn_Totfpa

                        Object Cn_Total is a dbFormSub
                            Entry_Item Cn.Total
                            Set Server to (Cn_DD(self))
                            Set Label to "ëÁ§¶¢ò ú®ö¶¨"
                            Set Size to 13 102
                            Set Location to 69 69
                            Set Label_Col_Offset to 2
                            Set Label_Justification_Mode to jMode_Right
                            Set Form_FontWeight Item 0 to 800

                            //AB-StoreStart
                            set enabled_state to false
                            Set Numeric_Mask  Item  0 to 14 2  " ,*"
                            //AB-StoreEnd

                        End_Object    // Cn_Total

                    End_Object    // dbGroupSub5

                    Object Textbox17 is a Textbox
                        Set Label to "Çú§†°· ëÁ§¶¢ò Ñ®ö¶¨"
                        Set FontSize to 12 8
                        Set Location to 11 273
                        Set Size to 10 75
                        Set FontWeight to 600
                        Set TypeFace to "ARIAL GREEK"
                    End_Object    // Textbox17


                    //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                    
                    //AB-StoreEnd

                End_Object    // dbTabPageSubS7

                Object dbTabPageSubS3 is a dbTabPageSubS
                    Set Label to "Ñ®öò©Âú™ íúÆ§†°È§ - ìßú®ö¶¢·ô‡§"
                    Object Ergasies_Descr is a dbFormSub
                        Entry_Item Ergasies.Descr
                        Set Server to (Ergkat_DD(self))
                        Set Size to 13 362
                        Set Location to 2 35
                        Set Color to clBtnFace
                        Set TextColor to clNavy
                        Set Label_Col_Offset to 2
                        Set Label_Justification_Mode to jMode_Right
                        Set Prompt_Button_Mode to pb_PromptOff
                        Set Enabled_State to FALSE
                        Set Form_FontWeight Item 0 to 800
                        Set Item_Shadow_State Item 0 to TRUE
                        Set Shadow_State Item 0 to TRUE
                    End_Object    // Ergasies_Descr

                    Object TextBoxSub29 is a TextBoxSub
                        Set Label to "Ñ®öò©Âò"
                        Set TextColor to clNavy
                        Set Location to 3 3
                        Set Size to 10 30
                    End_Object    // TextBoxSub29

                    Object dbGridSub5 is a dbGridSub
                        Set Main_File to Camovesd.File_Number
                        Set Server to (Camovesd_DD(self))
                        Set Ordering to 1
                        Set Size to 99 413
                        Set Location to 18 1
                        Set Wrap_State to TRUE

                        Begin_Row
                            Entry_Item Catechn.Catechn_name
                            Entry_Item Camovesd.Camovesd_item
                            Entry_Item (fncaitems(self,camovesd.camovesd_item))
                            Entry_Item Camovesd.Camovesd_time
                            Entry_Item Camovesd.Camovesd_net
                            Entry_Item Camovesd.Camovesd_kat
                            Entry_Item Camovesd.Camovesd_fpa
                            Entry_Item Camovesd.Camovesd_total
                            Entry_Item Camovesd.Kostos
                            Entry_Item Camovesd.Pct_kerdos
                            Entry_Item Camovesd.Poso_kerdos
                            Entry_Item Camovesd.Polhsh
                        End_Row

                        Set Form_Width    item 0 to 70
                        Set Header_Label  item 0 to "íúÆ§†°Ê™"
                        
                        Set Form_Width    item 1 to 49
                        Set Header_Label  item 1 to "ÑÂõ¶™"
                        
                        Set Form_Width    item 2 to 77
                        Set Header_Label  item 2 to "èú®†ö®ò≠„"
                        
                        Set Form_Width    item 3 to 53
                        Set Header_Label  item 3 to "ó®ú™/è¶©¶´"
                        
                        Set Form_Width    item 4 to 50
                        Set Header_Label  item 4 to "âòü. Ä£¶†ô„"
                        
                        Set Form_Width    item 5 to 19
                        Set Header_Label  item 5 to "%"
                        
                        Set Form_Width    item 6 to 42
                        Set Header_Label  item 6 to "î.è.Ä"
                        
                        Set Form_Width    item 7 to 47
                        Set Header_Label  item 7 to "ëÁ§¶¢¶"
                        
                        Set Form_Width    item 8 to 50
                        Set Header_Label  item 8 to "âÊ©´¶™"
                        
                        Set Form_Width    item 9 to 24
                        Set Header_Label  item 9 to "%â‚®õ¶¨™"
                        
                        Set Form_Width    item 10 to 50
                        Set Header_Label  item 10 to "â‚®õ¶™"
                        
                        Set Form_Width    item 11 to 50
                        Set Header_Label  item 11 to "èÈ¢û©û"
                        

                        //AB-StoreStart
                        //set auto_regenerate_state to TRUE
                        
                        set currentrowcolor to 11468799
                        set currentcellcolor to 11468799
                        
                        
                        set points item 4 to 2
                        
                        set column_option item  8 to noput true
                        set column_option item 10 to noput true
                        set column_option item 11 to noput true
                        
                        Set child_table_state        to TRUE
                        
                        procedure item_change integer fromi integer toi returns integer
                            local integer rval icol iBase_item
                            Local String rval##
                            number nkostos npct nposo npolhsh
                        
                            forward get msg_item_change fromi toi to rval
                            if (focus(Desktop) = dbgridsub5(self)) begin
                               Get Current_Col to iCol
                               Get Base_Item to iBase_item
                               if (icol = 1) begin
                                  Get Value Item (iBase_item+1) to rval##
                                  Move (fncaitems(self,Rval##)) to rval##
                                  set value item (iBase_item+2)  to Rval##
                               end
                               Get field_current_value of camovesd_dd field camovesd.kostos     to nkostos
                               Get field_current_value of camovesd_dd field camovesd.pct_kerdos to npct
                               Move (round_number((nkostos*npct/100),2))                        to nposo
                               Set field_current_value of camovesd_dd field camovesd.poso_kerdos to nposo
                               Set field_current_value of camovesd_dd field camovesd.polhsh     to (nkostos+nposo)
                            end
                            procedure_return rval
                        end_procedure
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        //AB-StoreEnd

                    End_Object    // dbGridSub5

                End_Object    // dbTabPageSubS3

                Object dbTabPageSubS4 is a dbTabPageSubS
                    Set Label to "Äßò†´¶Á£ú§ò ÑÂõû"
                    Object TextBoxSub30 is a TextBoxSub
                        Set Label to "Ñ®öò©Âò"
                        Set TextColor to clNavy
                        Set Location to 2 3
                        Set Size to 10 33
                    End_Object    // TextBoxSub30

                    Object dbGridSub6 is a dbGridSub

                        //AB-StoreTopStart
                                                                            
                        //AB-StoreTopEnd

                        Set Main_File to Camovedd.File_Number
                        Set Server to (Camovedd_DD(self))
                        Set Size to 103 411
                        Set Location to 18 1
                        Set Wrap_State to TRUE

                        Begin_Row
                            Entry_Item Camovedd.Recnum
                            Entry_Item Caitems.Caitems_name
                            Entry_Item Camovedd.Prom_code
                            Entry_Item Camovedd.Prom_name
                            Entry_Item Camovedd.Camovedd_qty
                            Entry_Item Camovedd.Camovedd_unitpr
                            Entry_Item Camovedd.Camovedd_net
                            Entry_Item Camovedd.Pct_kerdos
                            Entry_Item Camovedd.Poso_kerdos
                            Entry_Item Camovedd.Polhsh
                        End_Row

                        Set Form_Width    item 0 to 0
                        Set Header_Label  item 0 to ""
                        
                        Set Form_Width    item 1 to 58
                        Set Header_Label  item 1 to "ÑÂõ¶™"
                        
                        Set Form_Width    item 2 to 51
                        Set Header_Label  item 2 to "â‡õ.è®¶£."
                        
                        Set Form_Width    item 3 to 50
                        Set Header_Label  item 3 to "Ñß‡§¨£Âò"
                        
                        Set Form_Width    item 4 to 45
                        Set Header_Label  item 4 to "è¶©Ê´û´ò"
                        
                        Set Form_Width    item 5 to 55
                        Set Header_Label  item 5 to "í†£„ ã¶§·õ¶™"
                        
                        Set Form_Width    item 6 to 54
                        Set Header_Label  item 6 to "âÊ©´¶™"
                        
                        Set Form_Width    item 7 to 24
                        Set Header_Label  item 7 to "%âú®õ¶™"
                        
                        Set Form_Width    item 8 to 54
                        Set Header_Label  item 8 to "â‚®õ¶™"
                        
                        Set Form_Width    item 9 to 54
                        Set Header_Label  item 9 to "èÈ¢û©û"
                        

                        //AB-StoreStart
                                                                            
                        set column_shadow_state item 0 to true
                        set column_shadow_state item 6 to true
                        set column_shadow_state item 8 to true
                        set column_option       item 9 to NoPut True
                        
                        set points item 4 to 1 // è¶©¶´û´ò
                        set points item 5 to 2 // í†£û £¶§òõ¶™
                        set points item 6 to 2 // åú´-â¶©´¶™
                        set points item 7 to 2 // % °ú®õ¶¨™
                        set points item 8 to 2 // è¶©¶ °ú®õ¶¨™
                        set points item 9 to 2 // è‡¢û©û
                        
                        Set child_table_state        to TRUE
                        
                        set currentrowcolor     to 11468799
                        set currentcellcolor    to 11468799
                        
                        
                        procedure item_change integer fromi integer toi returns integer
                            local integer rval icol iBase_item igridid iColumn iColFrom iColTo iFileNumber iFieldNumber
                            Local String rval## sstr sname snamefrom scode sitem  lsitem
                            local number ncode price
                            number nkostos npct nposo npolhsh
                        
                            forward get msg_item_change fromi toi to rval
                            move (dbgridsub6(dbTabPageSubS4(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(self)))))) to igridid
                            if (focus(Desktop) = igridid) begin
                               Get Current_Col to iCol
                               Get Base_Item to iBase_item
                               if (icol = 1) begin
                                  Get Field_Current_Value Of caitems_DD Field caitems.caitems_code To sstr
                                  set Fragmaprom to sstr
                               end
                               if (icol = 2) begin
                                  Get Value Item (iBase_item+2) to ncode
                                  if (ncode<>0) begin
                                     Move (fspelates(self)) to sname
                                     set Field_Changed_Value Of camovedd_DD Field camovedd.prom_name To sname
                                     set value item (iBase_item+3)  to sname
                                  end
                               end
                        
                                Get Field_Current_Value Of caitems_DD Field caitems.caitems_code To lsitem
                                if ((lsitem <> '') and (camovedd.recnum=0)) begin
                                    Get Column FromI    to iColumn
                                    Get Column FromI    to iColFrom
                                    Get Column ToI      to iColTo
                        
                        
                                    Get Data_File  Item iColumn                             to iFileNumber
                                    Get Data_Field Item iColumn                             to iFieldNumber
                                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameFrom
                                    Move (Trim(sNameFrom))                                  to sNameFrom
                        
                                    If (sNameFrom=(Uppercase('camovedd_qty'))) Begin
                                        clear itemprom
                                        Get Field_Current_Value Of camovedd_DD Field camovedd.prom_code To ncode
                                        Get Field_Current_Value Of caitems_DD Field caitems.caitems_code To sitem
                                        move ncode to itemprom.prom_code
                                        move sitem to itemprom.caitems_code
                                        find eq itemprom by index.1
                                        if (found=1) Set Field_Changed_Value Of camovedd_DD Field camovedd.camovedd_unitpr To itemprom.prom_lprice
                                    end
                                end
                        
                               Get field_current_value of camovedd_dd field camovedd.kostos     to nkostos
                               Get field_current_value of camovedd_dd field camovedd.pct_kerdos to npct
                               Move (round_number((nkostos*npct/100),2))                        to nposo
                               Set field_current_value of camovedd_dd field camovedd.poso_kerdos to nposo
                               Set field_current_value of camovedd_dd field camovedd.polhsh     to (nkostos+nposo)
                        
                            end
                           procedure_return rval
                        end_procedure
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        //AB-StoreEnd

                    End_Object    // dbGridSub6

                    Object Ergasies_Descr is a dbFormSub
                        Entry_Item Ergasies.Descr
                        Set Server to (Ergkat_DD(self))
                        Set Size to 13 379
                        Set Location to 2 35
                        Set Color to clBtnFace
                        Set TextColor to clNavy
                        Set Label_Col_Offset to 2
                        Set Label_Justification_Mode to jMode_Right
                        Set Prompt_Button_Mode to pb_PromptOff
                        Set Enabled_State to FALSE
                        Set Form_FontWeight Item 0 to 800
                        Set Item_Shadow_State Item 0 to TRUE
                        Set Shadow_State Item 0 to TRUE
                    End_Object    // Ergasies_Descr

                End_Object    // dbTabPageSubS4

            End_Object    // dbTabDialogSubS2

            Object dbGroupSub6 is a dbGroupSub
                Set Label to "Ñ®öò©Âú™ íúÆ§†°È§"
                Set Size to 56 165
                Set Location to 144 4
                Object dbFormSub9 is a dbFormSub
                    Entry_Item Ergkat.Tothr
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 9 104
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set points item 0 to 1
                    set enabled_state to false
                    //AB-StoreEnd

                End_Object    // dbFormSub9

                Object dbFormSub10 is a dbFormSub
                    Entry_Item Ergkat.Totkhr
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 24 104
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    
                    //AB-StoreEnd

                End_Object    // dbFormSub10

                Object dbFormSub11 is a dbFormSub
                    Entry_Item Ergkat.Totpag
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 38 104
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    //AB-StoreEnd

                End_Object    // dbFormSub11

                Object Textbox9 is a Textbox
                    Set Label to "ëÁ§¶¢¶ Ñ®öò´¶‡®È§ "
                    Set Location to 12 5
                    Set Size to 10 79
                End_Object    // Textbox9

                Object Textbox10 is a Textbox
                    Set Label to "âÊ©´¶™ Äß¶ ó®ú™ Ñ®öò©Âò™"
                    Set Location to 26 5
                    Set Size to 10 98
                End_Object    // Textbox10

                Object Textbox11 is a Textbox
                    Set Label to "âÊ©´¶™ Äß¶ Ä¢¢ú™ Ä£¶†ô‚™"
                    Set Location to 39 5
                    Set Size to 10 97
                End_Object    // Textbox11

            End_Object    // dbGroupSub6

            Object dbGroupSub7 is a dbGroupSub
                Set Label to "ÑÂõû"
                Set Size to 56 119
                Set Location to 144 172
                Object dbFormSub12 is a dbFormSub
                    Entry_Item Ergkat.Antqty
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 50
                    Set Location to 14 65
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set points item 0 to 1
                    set enabled_state to false
                    //AB-StoreEnd

                End_Object    // dbFormSub12

                Object dbFormSub13 is a dbFormSub
                    Entry_Item Ergkat.Antnet
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 50
                    Set Location to 31 65
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    //AB-StoreEnd

                End_Object    // dbFormSub13

                Object Textbox12 is a Textbox
                    Set Label to "è¶©Ê´û´ò Ñ†õÈ§"
                    Set Location to 14 4
                    Set Size to 10 58
                End_Object    // Textbox12

                Object Textbox13 is a Textbox
                    Set Label to "âÊ©´¶™ Ñ†õÈ§"
                    Set Location to 31 4
                    Set Size to 10 50
                End_Object    // Textbox13

            End_Object    // dbGroupSub7

            Object dbGroupSub8 is a dbGroupSub
                Set Label to "ë¨§¶¢†°Ê âÊ©´¶™"
                Set Size to 56 127
                Set Location to 144 293
                Object dbFormSub14 is a dbFormSub
                    Entry_Item Ergkat.Totnet
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 8 64
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    //AB-StoreEnd

                End_Object    // dbFormSub14

                Object dbFormSub15 is a dbFormSub
                    Entry_Item Ergkat.Totfpa
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 23 64
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    //AB-StoreEnd

                End_Object    // dbFormSub15

                Object dbFormSub16 is a dbFormSub
                    Entry_Item Ergkat.Total
                    Set Server to (Ergkat_DD(self))
                    Set Size to 13 56
                    Set Location to 38 64
                    Set Label_Col_Offset to 2
                    Set Label_Justification_Mode to jMode_Right

                    //AB-StoreStart
                    set enabled_state to false
                    Set Numeric_Mask  Item  0 to 14 2  " ,*"
                    //AB-StoreEnd

                End_Object    // dbFormSub16

                Object Textbox14 is a Textbox
                    Set Label to "âòüò®Ê âÊ©´¶™"
                    Set Location to 12 6
                    Set Size to 10 55
                End_Object    // Textbox14

                Object Textbox15 is a Textbox
                    Set Label to "ëÁ§¶¢¶ î.è.Ä"
                    Set Location to 25 6
                    Set Size to 10 58
                End_Object    // Textbox15

                Object Textbox16 is a Textbox
                    Set Label to "íú¢†°Ê âÊ©´¶™"
                    Set Location to 39 6
                    Set Size to 10 52
                End_Object    // Textbox16

            End_Object    // dbGroupSub8


            //AB-StoreStart
                                                                                                                                                                                                            
            Set Label to 'Ä§·¢¨©û'
            
            
            //AB-StoreEnd

        End_Object    // dbTabPageSubS2

    End_Object    // dbTabDialogSubS1

    Object TextBoxSub19 is a TextBoxSub
        Set Label to "è®¶©≠¶®‚™"
        Set Location to 93 4
        Set Size to 9 41
        Set FontWeight to 600
        Set Justification_Mode to jMode_Center
    End_Object    // TextBoxSub19

    Object TextBoxSub35 is a TextBoxSub
        Set Label to "â‡õ. èú¢·´û"
        Set Location to 5 12
        Set Size to 10 43
        Set Justification_Mode to jMode_Left
    End_Object    // TextBoxSub35

    Object TextBoxSub36 is a TextBoxSub
        Set Label to "íû¢‚≠‡§¶"
        Set Location to 19 20
        Set Size to 10 35
    End_Object    // TextBoxSub36

    Object Cn_Kodikos_Ergou is a dbFormSub
        Entry_Item Cn.Kodikos_ergou
        Set Server to (Cn_DD(self))
        Set Size to 13 72
        Set Location to 31 65
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
    End_Object    // Cn_Kodikos_Ergou

    Object ButtonSub3 is a ButtonSub
        Set Size to 14 13
        Set Location to 2 140
        Set Focus_Mode to Pointer_Only

        //AB-StoreStart
                                                                                                                                                
        Set TooltipValue to 'âò®´‚¢¢ò èú¢·´û'
        
        Procedure OnClick
            Integer iCN iPel
            if (Current_Record(Pelates_DD(Self))) Begin
                Get Field_Current_Value Of Pelates_DD   Field Pelates.Recnum    to iPel
                Get Field_Current_Value Of Cn_DD        Field Cn.Recnum         to iCn
                Set piPelaths   Of (CN_View(Self))   to iPel
                Set piErgo      Of (CN_View(Self))   to iCN
                Send Activate_CN_View
            end
        End_Procedure // OnClick
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // ButtonSub3

    Object RadioGroupSub1 is a RadioGroupSub
        Set Size to 39 77
        Set Location to 48 4
        Object Radio1 is a RadioSub
            Set Label to "è®¶©≠¶®‚™"
            Set Size to 10 54
            Set Location to 8 5
        End_Object    // Radio1

        Object Radio2 is a RadioSub
            Set Label to "èò®òööú¢Âú™"
            Set Size to 10 63
            Set Location to 18 5
        End_Object    // Radio2

        Object Radio3 is a RadioSub
            Set Label to "è®¶´†£¶¢Êöû©û"
            Set Size to 10 66
            Set Location to 28 5
        End_Object    // Radio3


        //AB-StoreStart
                                                                                                                                                
        Procedure Notify_Select_State integer iToItem integer iFromItem
            Set piStadio to (iToItem+1)
            Send Ftiaxe_ta_constraints
        End_Procedure
        
        
        
        //AB-StoreEnd

    End_Object    // RadioGroupSub1


    //AB-StoreStart
                                                            
    Set Verify_Exit_Msg   to Get_No_Confirmation
    Set Verify_Save_Msg   to Get_No_Confirmation
    
    Procedure Activate_View Returns Integer
        date ddate
        Integer rVal
        If (piPelaths(Self)<>0) Begin
            Send Find_By_Recnum to Pelates_DD Pelates.File_Number (piPelaths(Self))
            If (piErgo(Self)<>0) Send Find_By_Recnum to CN_DD CN.File_Number (piErgo(Self))
        End
        Set piPelaths   to 0
        Set piErgo      to 0
        set fragmaitem of (sl22(self)) to ''
        Forward Get Msg_Activate_view to rVal
        Procedure_Return rVal
    End_Procedure
    
    Procedure Set_The_Buttons
        Set Enabled_State Of (btnToParag          (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=1)
        Set Enabled_State Of (btnToProtim         (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Enabled_State Of (btnMetasx           (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Visible_State Of (Ypoprosf_Metasx_Date(dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Enabled_State Of (Ypoprosf_Metasx_Date(dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Visible_State Of (dbCheckBoxSub1      (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Enabled_State Of (dbCheckBoxSub1      (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
        Set Visible_State Of (TextBoxSub41        (dbTabPageSubS1(dbTabDialogSubS1(Self)))) to (piStadio(Self)=2)
    
        Set Visible_State Of (Kostos_Prosf  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Enabled_State Of (Kostos_Prosf  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Visible_State Of (Ypsos_Prosf   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Enabled_State Of (Ypsos_Prosf   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Visible_State Of (Kerdos_Prosf  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Enabled_State Of (Kerdos_Prosf  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Visible_State Of (Pct_Kerd_Prosf(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
        Set Enabled_State Of (Pct_Kerd_Prosf(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=1)
    
        Set Visible_State Of (Kostos_Timol  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Enabled_State Of (Kostos_Timol  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Visible_State Of (Ypsos_Timol   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Enabled_State Of (Ypsos_Timol   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Visible_State Of (Kerdos_Timol  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Enabled_State Of (Kerdos_Timol  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Visible_State Of (Pct_Kerd_Timol(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
        Set Enabled_State Of (Pct_Kerd_Timol(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=2)
    
        Set Visible_State Of (Kostos_Protim  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Enabled_State Of (Kostos_Protim  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Visible_State Of (Ypsos_Protim   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Enabled_State Of (Ypsos_Protim   (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Visible_State Of (Kerdos_Protim  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Enabled_State Of (Kerdos_Protim  (dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Visible_State Of (Pct_Kerd_Protim(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
        Set Enabled_State Of (Pct_Kerd_Protim(dbGroupOik(dbTabPageSubS1(dbTabDialogSubS1(Self))))) to (piStadio(Self)=3)
    
    End_Procedure
    
    Procedure Ftiaxe_ta_constraints
        Send Rebuild_Constraints to Ypoprosf_DD
        Send Rebuild_Constraints to ErgKat_DD
        Send Rebuild_Constraints to Camovedd_DD
        Send Rebuild_Constraints to Camovesd_DD
        Send beginning_of_data   to ypoprosf_ true
        Send Beginning_Of_Data   to (dbGridSub4(dbTabPageSubS7(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(Self)))))) True
        Send Beginning_Of_Data   to (dbGridSub5(dbTabPageSubS3(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(Self)))))) True
        Send Beginning_Of_Data   to (dbGridSub6(dbTabPageSubS4(dbTabDialogSubS2(dbTabPageSubS2(dbTabDialogSubS1(Self)))))) True
             If (piStadio(Self)=1) Set Label Of nProsfor to 'è®¶©≠¶®· ©ú èú¢·´û'
        Else If (piStadio(Self)=2) Set Label Of nProsfor to 'èò®òööú¢Âò òß¶ èú¢·´û'
        Else If (piStadio(Self)=3) Set Label Of nProsfor to 'è®¶´†£¶¢Êöû©û èú¢·´û'
        Send Set_The_Buttons
    End_procedure
    
    
    
    
    //AB-StoreEnd

End_Object    // nProsfor


//AB-StoreStart
            
            
            
            
            
            
//AB-StoreEnd

//AB/ End_Object    // prj
