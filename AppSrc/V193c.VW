//AB/ Project V193c:anaprosarmogh DEOP
//AB/ Object prj is a View_Project
//AB/     Set ProjectName to "V193c:anaprosarmogh DEOP"
//AB/     Set ProjectFileName to "V193c.VW"

// Project Object Structure
//   V193c is a dbViewSubS
//     Country_DD2 is a Country_DataDictionary
//     Towns_DD2 is a Towns_DataDictionary
//     Cities_DD2 is a Cities_DataDictionary
//     Areas_DD2 is a Areas_DataDictionary
//     Payresp_DD2 is a Payresp_DataDictionary
//     Clients_DD2 is a Clients_DataDictionary
//     Constrct_DD2 is a Constrct_DataDictionary
//     Salesmen_DD2 is a Salesmen_DataDictionary
//     Mhxanik_DD2 is a Mhxanik_DataDictionary
//     Cn_DD2 is a Cn_DataDictionary
//     Btnordh_DD2 is a Btnordh_DataDictionary
//     Btnordd_DD2 is a Btnordd_DataDictionary
//     Btnordh_DD3 is a Btnordh_DataDictionary
//     oRecrArray is a Set
//     Syscurxr_DD is a DataDictionary
//     Country_DD is a DataDictionary
//     Towns_DD is a DataDictionary
//     Cities_DD is a DataDictionary
//     Areas_DD is a DataDictionary
//     Payresp_DD is a DataDictionary
//     Clients_DD is a DataDictionary
//     Constrct_DD is a DataDictionary
//     Salesmen_DD is a DataDictionary
//     Mhxanik_DD is a DataDictionary
//     Cn_DD is a DataDictionary
//     Timokat_DD is a DataDictionary
//     Btnordh_DD is a DataDictionary
//     Btnordd_DD is a DataDictionary
//     dbGroupSub1 is a dbGroupSub
//       Company_Company_Name is a dbFormSub
//       Branch_Branch_Name is a dbFormSub
//       Year_Year_Year is a dbFormSub
//       TextBoxSub1 is a TextBoxSub
//       TextBoxSub2 is a TextBoxSub
//       TextBoxSub3 is a TextBoxSub
//     dbTabDialogSubS1 is a dbTabDialogSubS
//       dbTabPageSubS1 is a dbTabPageSubS
//         cboWitemKat is a ComboFormSub
//         cboPoiothta is a ComboFormSub
//         TextBoxSub1012 is a TextBoxSub
//         TextBoxSub1013 is a TextBoxSub
//         RadioGroupSub3 is a RadioGroupSub
//           Radio1 is a RadioSub
//           Radio2 is a RadioSub
//         frmPct is a FormSub
//         frmPoso is a FormSub
//         TextBoxSub1014 is a TextBoxSub
//         TextBoxSub1015 is a TextBoxSub
//         Timokat_ is a dbGridSub
//         btnCbo1Add is a ButtonSub
//         btnCbo1Sub is a ButtonSub
//         btnCbo2Add is a ButtonSub
//         btnCbo2Sub is a ButtonSub
//         btnZeroTimokat is a ButtonSub
//         ButtonSub5 is a ButtonSub
//       dbTabPageSubS2 is a dbTabPageSubS
//         RadioGroupSub2 is a RadioGroupSub
//           Radio3 is a RadioSub
//           Radio4 is a RadioSub
//         TextBoxSub1007 is a TextBoxSub
//         client_apo is a FormSub
//         client_aponame is a FormSub
//         date_apo1008 is a TextBoxSub
//         enarxh_apo is a FormSub
//         enarxh_eos is a FormSub
//         date_apo is a FormSub
//         date_eos is a FormSub
//         enarxh_date is a FormSub
//         lhxh_date is a FormSub
//         ButtonSub4 is a ButtonSub
//         ButtonSub2 is a ButtonSub
//         eidos_apo is a FormSub
//         timh_apo is a FormSub
//         timh_eos is a FormSub
//         TextBoxSub1009 is a TextBoxSub
//         dbListSub1 is a dbListSub
//         frmCount is a FormSub
//         TextBoxSub1010 is a TextBoxSub
//         ButtonSub3 is a ButtonSub
//         TextBoxSub1011 is a TextBoxSub
//         date_apo1017 is a TextBoxSub
//         date_apo1018 is a TextBoxSub
//         date_apo1019 is a TextBoxSub
//         apo_eidos is a TextBoxSub
//         date_apo1029 is a TextBoxSub
//         TextBoxSub1022 is a TextBoxSub
//         frmitemCount is a FormSub
//         TextBoxSub1030 is a TextBoxSub
//         fpolhths is a FormSub

// Register all objects
Register_Object Areas_DD
Register_Object Areas_DD2
Register_Object apo_eidos
Register_Object Branch_Branch_Name
Register_Object Btnordd_DD
Register_Object Btnordd_DD2
Register_Object Btnordh_DD
Register_Object Btnordh_DD2
Register_Object Btnordh_DD3
Register_Object ButtonSub2
Register_Object ButtonSub3
Register_Object ButtonSub4
Register_Object ButtonSub5
Register_Object btnCbo1Add
Register_Object btnCbo1Sub
Register_Object btnCbo2Add
Register_Object btnCbo2Sub
Register_Object btnZeroTimokat
Register_Object Cities_DD
Register_Object Cities_DD2
Register_Object Clients_DD
Register_Object Clients_DD2
Register_Object Cn_DD
Register_Object Cn_DD2
Register_Object Company_Company_Name
Register_Object Constrct_DD
Register_Object Constrct_DD2
Register_Object Country_DD
Register_Object Country_DD2
Register_Object cboPoiothta
Register_Object cboWitemKat
Register_Object client_apo
Register_Object client_aponame
Register_Object date_apo
Register_Object date_apo1008
Register_Object date_apo1017
Register_Object date_apo1018
Register_Object date_apo1019
Register_Object date_apo1029
Register_Object date_eos
Register_Object dbGroupSub1
Register_Object dbListSub1
Register_Object dbTabDialogSubS1
Register_Object dbTabPageSubS1
Register_Object dbTabPageSubS2
Register_Object eidos_apo
Register_Object enarxh_apo
Register_Object enarxh_date
Register_Object enarxh_eos
Register_Object fpolhths
Register_Object frmCount
Register_Object frmitemCount
Register_Object frmPct
Register_Object frmPoso
Register_Object lhxh_date
Register_Object Mhxanik_DD
Register_Object Mhxanik_DD2
Register_Object oRecrArray
Register_Object Payresp_DD
Register_Object Payresp_DD2
Register_Object Radio1
Register_Object Radio2
Register_Object Radio3
Register_Object Radio4
Register_Object RadioGroupSub2
Register_Object RadioGroupSub3
Register_Object Salesmen_DD
Register_Object Salesmen_DD2
Register_Object Syscurxr_DD
Register_Object TextBoxSub1
Register_Object TextBoxSub1007
Register_Object TextBoxSub1009
Register_Object TextBoxSub1010
Register_Object TextBoxSub1011
Register_Object TextBoxSub1012
Register_Object TextBoxSub1013
Register_Object TextBoxSub1014
Register_Object TextBoxSub1015
Register_Object TextBoxSub1022
Register_Object TextBoxSub1030
Register_Object TextBoxSub2
Register_Object TextBoxSub3
Register_Object Timokat_
Register_Object Timokat_DD
Register_Object Towns_DD
Register_Object Towns_DD2
Register_Object timh_apo
Register_Object timh_eos
Register_Object V193c
Register_Object Year_Year_Year


//AB/ AppBuild VIEW


//AB-StoreTopStart
use wait.dg
use sl024.sl
use sl100.sl
use sl108.sl
open witemkat
Open Codemast
open timokat
Open Item
Open Witemx
use v193.vw
use SL22S.sl
//AB-StoreTopEnd

//AB-IgnoreStart

Use dbView.Sub
Use DFAllEnt.pkg
Use dbGroup.Sub
Use dbForm.Sub
Use Txtbox.Sub
Use dbTabDlgS.Sub
Use Cmbfrm.Sub
Use Rgroup.Sub
Use Radio.Sub
Use Form.Sub
Use dbGrid.Sub
Use Button.Sub
Use dbList.Sub

Use SYSCURXR.DD
Use COUNTRY.DD
Use TOWNS.DD
Use CITIES.DD
Use AREAS.DD
Use PAYRESP.DD
Use CLIENTS.DD
Use CONSTRCT.DD
Use SALESMEN.DD
Use MHXANIK.DD
Use CN.DD
Use TIMOKAT.DD
Use BTNORDH.DD
Use BTNORDD.DD

//AB-IgnoreEnd

ACTIVATE_VIEW Activate_V193c FOR V193c

Object V193c is a dbViewSubS

    //AB-StoreTopStart
    property integer    piepil          public 0
    property integer    piTxtID         public 0
    property integer    piPanoKato      public 0
    Property Integer    piCbo1          Public 0
    Property Integer    piCbo2          Public 0
    Property Number     pnPct           Public 0
    Property Number     pnPoso          Public 0
    Property Integer    piListID        Public 0
    Property Integer    pifromloop      Public 0
    Property String     psClient        Public ''
    Property String     psitem          Public ''
    Property String     psslsid         Public ''
    property date       pdapo           public ''
    Property Date       pdEos           Public ''
    property date       pdenarxh        public ''
    Property Date       pdlhxh          Public ''
    
    Object Country_DD2 is a Country_DataDictionary
    End_Object    // Country_DD
    
    Object Towns_DD2 is a Towns_DataDictionary
        Set DDO_Server to (Country_DD2(self))
    End_Object    // Towns_DD
    
    Object Cities_DD2 is a Cities_DataDictionary
        Set DDO_Server to (Towns_DD2(self))
    End_Object    // Cities_DD
    
    Object Areas_DD2 is a Areas_DataDictionary
    End_Object    // Areas_DD
    
    Object Payresp_DD2 is a Payresp_DataDictionary
    End_Object    // Payresp_DD
    
    Object Clients_DD2 is a Clients_DataDictionary
        Set DDO_Server to (Cities_DD2(self))
        Set DDO_Server to (Areas_DD2(self))
        Set DDO_Server to (Payresp_DD2(self))
    End_Object    // Clients_DD
    
    Object Constrct_DD2 is a Constrct_DataDictionary
    End_Object    // Constrct_DD
    
    Object Salesmen_DD2 is a Salesmen_DataDictionary
    End_Object    // Salesmen_DD
    
    Object Mhxanik_DD2 is a Mhxanik_DataDictionary
    End_Object    // Mhxanik_DD
    
    Object Cn_DD2 is a Cn_DataDictionary
        Set DDO_Server to (Clients_DD2(self))
        Set DDO_Server to (Constrct_DD2(self))
        Set DDO_Server to (Salesmen_DD2(self))
        Set DDO_Server to (Mhxanik_DD2(self))
    End_Object    // Cn_DD
    
    Object Btnordh_DD2 is a Btnordh_DataDictionary
        Set DDO_Server to (Cn_DD2(self))
        send defineallextendedfields
        set piactive to 1
    End_Object    // Btnordh_DD
    
    Object Btnordd_DD2 is a Btnordd_DataDictionary
        Set DDO_Server to (Btnordh_DD2(self))
        Set Constrain_File to Btnordh.File_Number
    End_Object    // Btnordd_DD
    
    Object Btnordh_DD3 is a Btnordh_DataDictionary
        send defineallextendedfields
        set piactive to 1
    
        begin_constraints
            Date    ldeos ldapo
            date    denarxh dlhxh
            String  lsApopel sslsid
            Integer iEpil
            if (pifromloop(self)=0) begin
                Set Ordering to 7
                Get piepil      to iEpil
                Get psClient    to lsApopel
                get psslsid     to sslsid
                Get pdEos       to ldEos
                Get pdapo       to ldapo
                get pdenarxh    to denarxh
                get pdlhxh      to dlhxh
                if (ldapo='') move '01/01/2000' to ldapo
                if (ldEos='') move '31/12/2100' to ldEos
                if (denarxh='') move '01/01/2000' to denarxh
                if (dlhxh='') move '31/12/2100' to dlhxh
                constrain btnordh.deop_active eq 0
                constrain btnordh.statero     eq iepil
                constrain btnordh.deop_lhxh   between ldapo and ldeos
                constrain btnordh.deop_date   between denarxh and dlhxh
                if (lsapopel<>'') constrain btnordh.client_id eq lsapopel
                if (sslsid <> '') constrain btnordh.user_id   eq sslsid
            end
            else begin
                Set Ordering to 7
                Constrain Btnordh as (fiIsOK(Self)=1)
            end
        End_constraints
    End_Object    // Btnordh_DD3
    
    Object oRecrArray is a Set
    End_Object // oRecrArray
    
    Function fiIsOk Returns Integer
        Integer isFound
        Get Find_Element of oRecrArray (Trim(btnordh.Recr)) to isFound
        If (isFound >-1)    Function_Return 1
        Else                Function_Return 0
    End_Function
    //AB-StoreTopEnd

    Set Label to "Ä§òß®¶©ò®£¶ö„ ´†£È§ É.Ñ.é.è"
    Set Size to 292 525
    Set Location to 1 3

    //AB-DDOStart

    Object Syscurxr_DD is a Syscurxr_DataDictionary
    End_Object    // Syscurxr_DD

    Object Country_DD is a Country_DataDictionary
    End_Object    // Country_DD

    Object Towns_DD is a Towns_DataDictionary
        Set DDO_Server to (Country_DD(self))
    End_Object    // Towns_DD

    Object Cities_DD is a Cities_DataDictionary
        Set DDO_Server to (Towns_DD(self))
    End_Object    // Cities_DD

    Object Areas_DD is a Areas_DataDictionary
    End_Object    // Areas_DD

    Object Payresp_DD is a Payresp_DataDictionary
    End_Object    // Payresp_DD

    Object Clients_DD is a Clients_DataDictionary
        Set DDO_Server to (Cities_DD(self))
        Set DDO_Server to (Areas_DD(self))
        Set DDO_Server to (Payresp_DD(self))
    End_Object    // Clients_DD

    Object Constrct_DD is a Constrct_DataDictionary
    End_Object    // Constrct_DD

    Object Salesmen_DD is a Salesmen_DataDictionary
    End_Object    // Salesmen_DD

    Object Mhxanik_DD is a Mhxanik_DataDictionary
    End_Object    // Mhxanik_DD

    Object Cn_DD is a Cn_DataDictionary
        Set DDO_Server to (Clients_DD(self))
        Set DDO_Server to (Constrct_DD(self))
        Set DDO_Server to (Salesmen_DD(self))
        Set DDO_Server to (Mhxanik_DD(self))
    End_Object    // Cn_DD

    Object Timokat_DD is a Timokat_DataDictionary
    End_Object    // Timokat_DD

    Object Btnordh_DD is a Btnordh_DataDictionary
        Set DDO_Server to (Cn_DD(self))

        //AB-StoreStart
                                                        
        send defineallextendedfields
        
        begin_constraints
            Date    ldeos ldapo
            date    denarxh dlhxh
            String  lsApopel sslsid
            Integer iEpil
        
            if (pifromloop(self)=0) begin
                Set Ordering to 7
                Get piepil      to iEpil
                Get psClient    to lsApopel
                get psslsid     to sslsid
                Get pdEos       to ldEos
                Get pdapo       to ldapo
                get pdenarxh    to denarxh
                get pdlhxh      to dlhxh
                if (ldapo='') move '01/01/2000' to ldapo
                if (ldEos='') move '31/12/2100' to ldEos
                if (denarxh='') move '01/01/2000' to denarxh
                if (dlhxh='') move '31/12/2100' to dlhxh
                constrain btnordh.deop_active eq 0
                constrain btnordh.statero     eq iepil
                constrain btnordh.deop_lhxh   between ldapo and ldeos
                constrain btnordh.deop_date   between denarxh and dlhxh
                if (lsapopel<>'') constrain btnordh.client_id eq lsapopel
                if (sslsid <> '') constrain btnordh.user_id   eq sslsid
            end
            else begin
                Set Ordering to 7
                Constrain Btnordh as (fiIsOK(Self)=1)
            end
        End_constraints
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //AB-StoreEnd

    End_Object    // Btnordh_DD

    Object Btnordd_DD is a Btnordd_DataDictionary
        Set DDO_Server to (Btnordh_DD(self))
        Set Constrain_File to Btnordh.File_Number

        //AB-StoreStart
                                                                                                                                                                            
                                                                                                                                                                            
                                                                                                                                                                            
                                                                                                                                                                            
                                                                                                                                                                            
        //AB-StoreEnd

    End_Object    // Btnordd_DD

    Set Main_DD to (Btnordh_DD(self))
    Set Server to (Btnordh_DD(self))

    //AB-DDOEnd

    Object dbGroupSub1 is a dbGroupSub
        Set Size to 26 512
        Set Location to -3 1
        Set Visible_State to FALSE
        Object Company_Company_Name is a dbFormSub
            Entry_Item Syscurxr.Company_name
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 106
            Set Location to 9 63
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            SET ENABLED_STATE TO FALSE
            //AB-StoreEnd

        End_Object    // Company_Company_Name

        Object Branch_Branch_Name is a dbFormSub
            Entry_Item Syscurxr.Branch_name
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 123
            Set Location to 9 245
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            SET ENABLED_STATE TO FALSE
            //AB-StoreEnd

        End_Object    // Branch_Branch_Name

        Object Year_Year_Year is a dbFormSub

            //AB-StoreTopStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
            //AB-StoreTopEnd

            Entry_Item Syscurxr.Year_descr
            Set Server to (Syscurxr_DD(self))
            Set Size to 13 85
            Set Location to 8 422
            Set Label_Col_Offset to 2
            Set Label_Justification_Mode to jMode_Right
            Set Form_TypeFace Item 0 to "MS Sans Serif"

            //AB-StoreStart
            Set enabled_state to false
            
            //AB-StoreEnd

        End_Object    // Year_Year_Year

        Object TextBoxSub1 is a TextBoxSub
            Set Label to "Ñ´ò†®úÂò"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 10
            Set Size to 10 31
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE

            //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
            //AB-StoreEnd

        End_Object    // TextBoxSub1

        Object TextBoxSub2 is a TextBoxSub
            Set Label to "ìß¶°ò´·©´û£ò"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 175
            Set Size to 10 54
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE

            //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
            //AB-StoreEnd

        End_Object    // TextBoxSub2

        Object TextBoxSub3 is a TextBoxSub
            Set Label to "ï®„©û"
            Set Auto_Size_State to FALSE
            Set TextColor to clNavy
            Set FontSize to 4 0
            Set Location to 10 375
            Set Size to 10 32
            Set FontWeight to 800
            Set Justification_Mode to jMode_Right
            Set TypeFace to "MS Sans Serif"
            Set Enabled_State to TRUE
        End_Object    // TextBoxSub3


        //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
        //AB-StoreEnd

    End_Object    // dbGroupSub1

    Object dbTabDialogSubS1 is a dbTabDialogSubS
        Set Size to 272 519
        Set Location to 2 0
        Object dbTabPageSubS1 is a dbTabPageSubS

            //AB-StoreTopStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
            Function fsStripCodeFromDescr String asDescr Returns String
                Integer iPos iLen
                String rVal
                Move (Trim(asDescr))    to asDescr
                Move (Pos('-',asDescr)) to iPos
                Move (Length(asDescr))  to iLen
                Move (Trim(Right(asDescr,(iLen-iPos)))) to rVal
                Function_Return rVal
            End_Function
            
            
            //AB-StoreTopEnd

            Set Label to "dbTabPageSubS1"
            Object cboWitemKat is a ComboFormSub
                Set Size to 14 139
                Set Location to 12 3
                Set Label_Col_Offset to 2

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                //AB-StoreEnd

            End_Object    // cboWitemKat

            Object cboPoiothta is a ComboFormSub
                Set Size to 14 111
                Set Location to 12 144
                Set Label_Col_Offset to 2
            End_Object    // cboPoiothta

            Object TextBoxSub1012 is a TextBoxSub
                Set Label to "Ñß†¢¶ö„ °ò´ûö¶®†È§ ú†õÈ§"
                Set Location to 2 3
                Set Size to 7 91
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1012

            Object TextBoxSub1013 is a TextBoxSub
                Set Label to "Ñß†¢¶ö„ ß¶†¶´„´‡§"
                Set Location to 2 144
                Set Size to 7 65
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1013

            Object RadioGroupSub3 is a RadioGroupSub
                Set Size to 18 95
                Set Location to 9 273
                Object Radio1 is a RadioSub
                    Set Label to "ÄÁ•û©û"
                    Set Size to 10 39
                    Set Location to 7 5
                End_Object    // Radio1

                Object Radio2 is a RadioSub
                    Set Label to "ãúÂ‡©û"
                    Set Size to 10 41
                    Set Location to 7 51
                End_Object    // Radio2


                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Procedure Notify_Select_State integer iToItem integer iFromItem
                    Set piPanoKato to iToItem // 0=ÄÁ•û©û 1=ãúÂ‡©û
                End_Procedure
                
                //AB-StoreEnd

            End_Object    // RadioGroupSub3

            Object frmPct is a FormSub
                Set Size to 13 39
                Set Location to 12 389
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Numeric_Window
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set Numeric_Mask Item 0 to 4 2
                
                Procedure OnChange
                    Number nNum
                    Get Value Item 0 to nNum
                    Set pnPct to nNum
                End_Procedure
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // frmPct

            Object frmPoso is a FormSub
                Set Size to 13 55
                Set Location to 12 449
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Numeric_Window
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set Numeric_Mask Item 0 to 8 2
                
                Procedure OnChange
                    Number nNum
                    Get Value Item 0 to nNum
                    Set pnPoso to nNum
                End_Procedure
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // frmPoso

            Object TextBoxSub1014 is a TextBoxSub
                Set Label to "% è¶©¶©´Ê "
                Set Location to 2 385
                Set Size to 10 38
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1014

            Object TextBoxSub1015 is a TextBoxSub
                Set Label to "è¶©Ê"
                Set Location to 2 483
                Set Size to 10 19
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1015

            Object Timokat_ is a dbGridSub

                //AB-StoreTopStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Function fswitemkat string asCode Returns string
                    clear witemkat
                    move asCode to witemkat.witemkat_code
                    find eq witemkat by index.1
                    function_return (Trim(witemkat.witemkat_descr))
                end_Function
                
                Function fsitem string asCode Returns string
                    clear item
                    move asCode to item.item_code
                    find eq item by index.5
                    function_return (Trim(item.item_descr))
                end_Function
                
                Function FsitemWitemkatCode string asCode Returns string
                    clear item
                    move asCode to item.item_code
                    find eq item by index.5
                    function_return (Trim(item.WitemKat_Code))
                end_Function
                
                Function FsitemWitemkatDescr string asCode Returns string
                    String sWitemkat
                    clear item
                    move asCode to item.item_code
                    find eq item by index.5
                    Move (FsitemWitemkatCode(Self,Item.Item_Code)) to sWitemkat
                    function_return (Trim(fswitemkat(Self,sWitemkat)))
                end_Function
                
                Function fsLektiko Integer aiVal Returns String
                    If (aiVal=0) Function_Return 'ÄÁ•û©û'
                    Else         Function_Return 'ãúÂ‡©û'
                End_Function
                
                //AB-StoreTopEnd

                Set Main_File to Timokat.File_Number
                Set Server to (Timokat_DD(self))
                Set Size to 208 502
                Set Location to 29 3
                Set Wrap_State to TRUE

                Begin_Row
                    Entry_Item Timokat.Recnum
                    Entry_Item Timokat.Item_code
                    Entry_Item (fsitem(self,timokat.item_code))
                    Entry_Item Timokat.Witemkat_code
                    Entry_Item (fswitemkat(self,timokat.witemkat_code))
                    Entry_Item Timokat.Poiothta
                    Entry_Item Timokat.Panokato
                    Entry_Item (fsLektiko(Self,Timokat.Panokato))
                    Entry_Item Timokat.Poso
                    Entry_Item Timokat.Pososto
                End_Row

                Set Form_Width    item 0 to 0
                Set Header_Label  item 0 to ""
                
                Set Form_Width    item 1 to 53
                Set Header_Label  item 1 to "ÑÂõ¶™"
                
                Set Form_Width    item 2 to 92
                Set Header_Label  item 2 to "èú®†ö®ò≠„"
                
                Set Form_Width    item 3 to 53
                Set Header_Label  item 3 to "âò´ûö¶®Âò"
                
                Set Form_Width    item 4 to 90
                Set Header_Label  item 4 to "èú®†ö®ò≠„"
                
                Set Form_Width    item 5 to 47
                Set Header_Label  item 5 to "è¶†Ê´û´ò"
                
                Set Form_Width    item 6 to 26
                Set Header_Label  item 6 to "Ä/ã"
                
                Set Form_Width    item 7 to 47
                Set Header_Label  item 7 to "ãú´òô¶¢„"
                
                Set Form_Width    item 8 to 47
                Set Header_Label  item 8 to "è¶©Ê"
                
                Set Form_Width    item 9 to 43
                Set Header_Label  item 9 to "è¶©¶©´Ê"
                

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set Column_Option           item  0  to Noenter True
                Set Column_Option           item  2  to Noenter True
                Set Column_Option           item  3  to Noenter True
                Set Column_Option           item  4  to Noenter True
                Set Column_Option           item  5  to Noenter True
                Set Column_Option           item  7  to Noenter True
                
                
                procedure item_change integer fromi integer toi returns integer
                    local integer rval icol iBase_item iGridID iCurrItem iFileNumber iFieldNumber
                    Local String Sval sQUAL svalue sNameFrom
                    local integer iColumn
                    move (timokat_(self)) to igridid
                    forward get msg_item_change fromi toi to rval
                    if (focus(Desktop) = igridid) begin
                        Get Column fromi to iCol
                        Get Base_Item to iBase_item
                        if (icol=3) begin
                            Get Value Item (iBase_item+3) to Sval
                            Move (Fswitemkat(self,Sval))  to Svalue
                            Set value item (iBase_item+4) to svalue
                        end
                        if (icol=1) begin
                            Get Value Item (iBase_item+1) to Sval
                            Move (Fsitem(self,Sval))   to Svalue
                            Set value item (iBase_item+2) to svalue
                            Move (FsitemWitemkatCode(self,Sval)) to Svalue
                            Set value item (iBase_item+3) to svalue
                            Move (FsitemWitemkatDescr(self,Sval)) to Svalue
                            Set value item (iBase_item+4) to svalue
                        End
                        If (iCol=6) Begin
                            Get Value Item (iBase_item+6) to Sval
                            Move (fsLektiko(self,Sval))   to Svalue
                            Set value item (iBase_item+7) to svalue
                        End
                    End
                    procedure_return rval
                end_procedure
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // Timokat_

            Object btnCbo1Add is a ButtonSub
                Set Label to "+"
                Set Size to 9 11
                Set Location to 2 116
                Set Focus_Mode to Pointer_Only
                Set Form_FontWeight Item 0 to 600
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'è®¶©ü„°û ú†õÈ§ ß¶¨ ò§¶Â°¶¨§ ©´û§ úß†¢úö£‚§û °ò´ûö¶®Âò'
                
                Procedure OnClick
                    String  sVal sCode
                    Number  nPct nPoso
                    Integer iPanoKato iMet
                    Get pnPct                       to nPct
                    Get pnPoso                      to nPoso
                    Get piPanoKato                  to iPanoKato
                
                    If ((nPct<>0) And (nPoso<>0)) Begin
                        Send Info_Box 'ÑÆú´ú ô·¢ú† ò•Âò °ò† ©´¶ ß¶©¶©´Ê °ò† ©´¶ ß¶©Ê.\nÑ§ò òß¶ ´ò õÁ¶ ß®‚ßú† §ò úÂ§ò† £ûõú§†°Ê.\nÜ õ†òõ†°ò©Âò õ†ò°Êßû°ú' 'è¢û®¶≠¶®Âò'
                        Procedure_Return
                    End
                
                    Get Value Of cboWitemkat item 0 to sVal
                    Move (Trim(sVal))               to sVal
                    Get fsStripCodeFromDescr sVal   to sCode
                    Clear Item
                    Move sCode to Item.Witemkat_Code
                    Find Gt Item by index.4
                    While ((Found) And (Item.Witemkat_Code=sCode))
                        Clear Timokat
                        Move Item.Item_Code to Timokat.Item_Code
                        Find Eq Timokat by index.1
                        If (Not(Found)) Begin
                            Add 1 to iMet
                            Move Item.Witemkat_Code to Timokat.Witemkat_Code
                            Move Item.Item_Qual     to Timokat.Poiothta
                            Move iPanoKato          to Timokat.PanoKato
                            Move nPct               to Timokat.Pososto
                            Move nPoso              to Timokat.Poso
                            Saverecord Timokat
                        End
                        Find Gt Item by index.4
                    Loop
                    Send Beginning_Of_Data to Timokat_ True
                    If (iMet) Send Info_Box ('è®¶©´‚üû°ò§ '+String(iMet)+' úÂõû') 'è¢û®¶≠¶®Âò'
                    Else      Send Info_Box 'Éú§ ß®¶©´‚üû°ú °ò§‚§ò úÂõ¶™' 'è¢û®¶≠¶®Âò'
                End_Procedure // OnClick
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnCbo1Add

            Object btnCbo1Sub is a ButtonSub
                Set Label to "-"
                Set Size to 9 11
                Set Location to 2 129
                Set Focus_Mode to Pointer_Only
                Set Form_FontWeight Item 0 to 600
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'Ä≠òÂ®ú©û ú†õÈ§ ß¶¨ ò§¶Â°¶¨§ ©´û§ úß†¢úö£‚§û °ò´ûö¶®Âò'
                
                Procedure OnClick
                    String sVal sCode
                    Get Value Of cboWitemkat item 0 to sVal
                    Move (Trim(sVal))               to sVal
                    Get fsStripCodeFromDescr sVal   to sCode
                    Clear Timokat
                    Lock
                    Move sCode to Timokat.Witemkat_Code
                    Find Gt Timokat by index.2
                    While ((Found) And (Timokat.Witemkat_Code=sCode))
                        Delete Timokat
                        Find Gt Timokat by index.2
                    Loop
                    Unlock
                    Send Beginning_Of_Data to Timokat_ True
                End_Procedure // OnClick
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnCbo1Sub

            Object btnCbo2Add is a ButtonSub
                Set Label to "+"
                Set Size to 9 11
                Set Location to 2 231
                Set Focus_Mode to Pointer_Only
                Set Form_FontWeight Item 0 to 600
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'è®¶©ü„°û ú†õÈ§ £ú ´û§ úß†¢úö£‚§û ß¶†Ê´û´ò'
                
                Procedure OnClick
                    String  sVal
                    Number  nPct nPoso
                    Integer iPanoKato iMet
                    Get pnPct                       to nPct
                    Get pnPoso                      to nPoso
                    Get piPanoKato                  to iPanoKato
                
                    If ((nPct<>0) And (nPoso<>0)) Begin
                        Send Info_Box 'ÑÆú´ú ô·¢ú† ò•Âò °ò† ©´¶ ß¶©¶©´Ê °ò† ©´¶ ß¶©Ê.\nÑ§ò òß¶ ´ò õÁ¶ ß®‚ßú† §ò úÂ§ò† £ûõú§†°Ê.\nÜ õ†òõ†°ò©Âò õ†ò°Êßû°ú' 'è¢û®¶≠¶®Âò'
                        Procedure_Return
                    End
                
                    Get Value Of cboPoiothta item 0 to sVal
                    Move (Trim(sVal))               to sVal
                    Clear Item
                    Move sVal to Item.Item_Qual
                    Find Gt Item by index.6
                    While ((Found) And (Item.Item_Qual=sVal))
                        Clear Timokat
                        Move Item.Item_Code to Timokat.Item_Code
                        Find Eq Timokat by index.1
                        If (Not(Found)) Begin
                            Add 1 to iMet
                            Move Item.Witemkat_Code to Timokat.Witemkat_Code
                            Move Item.Item_Qual     to Timokat.Poiothta
                            Move iPanoKato          to Timokat.PanoKato
                            Move nPct               to Timokat.Pososto
                            Move nPoso              to Timokat.Poso
                            Saverecord Timokat
                        End
                        Find Gt Item by index.6
                    Loop
                    Send Beginning_Of_Data to Timokat_ True
                    If (iMet) Send Info_Box ('è®¶©´‚üû°ò§ '+String(iMet)+' úÂõû') 'è¢û®¶≠¶®Âò'
                    Else      Send Info_Box 'Éú§ ß®¶©´‚üû°ú °ò§‚§ò úÂõ¶™' 'è¢û®¶≠¶®Âò'
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnCbo2Add

            Object btnCbo2Sub is a ButtonSub
                Set Label to "-"
                Set Size to 9 11
                Set Location to 2 244
                Set Focus_Mode to Pointer_Only
                Set Form_FontWeight Item 0 to 600
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'Ä≠òÂ®ú©û ú†õÈ§ £ú ´û§ úß†¢úö£‚§û ß¶†Ê´û´ò'
                
                Procedure OnClick
                    String sVal
                    Get Value Of cboPoiothta item 0 to sVal
                    Move (Trim(sVal)) to sVal
                    Clear Timokat
                    Lock
                    Move sVal to Timokat.Poiothta
                    Find Gt Timokat by index.3
                    While ((Found) And (Timokat.Poiothta=sVal))
                        Delete Timokat
                        Find Gt Timokat by index.3
                    Loop
                    Unlock
                    Send Beginning_Of_Data to Timokat_ True
                End_Procedure // OnClick
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // btnCbo2Sub

            Object btnZeroTimokat is a ButtonSub
                Set Label to "ãûõú§†©£Ê™"
                Set Size to 9 95
                Set Location to 1 273
                Set Focus_Mode to Pointer_Only
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'É†òö®ò≠„ Ê¢‡§ ´‡§ ú†õÈ§ òß¶ ´¶§ ßÂ§ò°ò'
                
                Procedure OnClick
                    Integer iYes
                    Get YesNo_Box 'åò ©ô„©‡ Ê¢ò ´ò úÂõû òß¶ ´¶§ ßÂ§ò°ò ß®¶©ò®£¶ö„™ ´†£È§ ?' to iYes
                    If (iYes=MBR_NO) Procedure_Return
                    Zerofile Timokat
                    Send Beginning_Of_Data to Timokat_ True
                End_Procedure // OnClick
                
                
                //AB-StoreEnd

            End_Object    // btnZeroTimokat

            Object ButtonSub5 is a ButtonSub
                Set Label to "ButtonSub5"
                Set Bitmap to "abnsel.bmp"
                Set Size to 13 15
                Set Location to 12 431
                Set Focus_Mode to Pointer_Only
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set TooltipValue to 'Ñ§û£‚®‡©û Ê¢‡§ ´‡§ ú†õÈ§ £ú ´¶ ß¶©¶©´Ê û ´¶ ß¶©Ê ß¶¨ ‚Æú´ú ß¢û°´®¶¢¶ö„©ú†'
                
                Procedure OnClick
                    String  sVal sCode
                    Number  nPct nPoso
                    Integer iMet iPanoKato
                
                    Get Value Of frmPct     item 0 to nPct
                    Get Value Of frmPoso    item 0 to nPoso
                    Get piPanoKato                 to iPanoKato
                
                    If ((nPct<>0) And (nPoso<>0)) Begin
                        Send Info_Box 'ÑÆú´ú ô·¢ú† ò•Âò °ò† ©´¶ ß¶©¶©´Ê °ò† ©´¶ ß¶©Ê.\nÑ§ò òß¶ ´ò õÁ¶ ß®‚ßú† §ò úÂ§ò† £ûõú§†°Ê.\nÜ õ†òõ†°ò©Âò õ†ò°Êßû°ú' 'è¢û®¶≠¶®Âò'
                        Procedure_Return
                    End
                
                    Clear Timokat
                    Lock
                    Find Gt Timokat.Recnum
                    While (Found)
                        Add 1 to iMet
                        Move iPanoKato          to Timokat.PanoKato
                        Move nPct               to Timokat.Pososto
                        Move nPoso              to Timokat.Poso
                        Saverecord Timokat
                        Find Gt Timokat.Recnum
                    Loop
                    Unlock
                    Send Beginning_Of_Data to Timokat_ True
                    If (iMet) Send Info_Box ('í®¶ß¶ß¶Âûüû°ò§ ¶† ´†£‚™ ©ú '+String(iMet)+' úÂõû') 'è¢û®¶≠¶®Âò'
                    Else      Send Info_Box 'Éú§ ô®‚üû°ò§ úÂõû ß®¶™ ´®¶ß¶ß¶Âû©û' 'è¢û®¶≠¶®Âò'
                End_Procedure // OnClick
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // ButtonSub5


            //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
            Set Label to 'Ñß†¢¶ö„ ú†õÈ§ ß®¶™ ò§òß®¶©ò®£¶ö„'
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // dbTabPageSubS1

        Object dbTabPageSubS2 is a dbTabPageSubS
            Set Label to "dbTabPageSubS2"
            Object RadioGroupSub2 is a RadioGroupSub
                Set Label to "Ñß†¢¶ö„ É.Ñ.é.è"
                Set Size to 25 171
                Set Location to 1 -1
                Object Radio3 is a RadioSub
                    Set Label to "ãû ©´òüú®Ê´û´ò™"
                    Set Size to 10 75
                    Set Location to 10 5
                End_Object    // Radio3

                Object Radio4 is a RadioSub
                    Set Label to "ë´òüú®Ê´û´ò ´†£È§"
                    Set Size to 10 81
                    Set Location to 10 85
                End_Object    // Radio4


                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Procedure Notify_Select_State integer iNewItem integer iOldItem
                    Integer licount
                    If iNewItem Eq 0        set piepil   to 0
                    Else If iNewItem Eq 1   Set piepil   to 1
                    Send Constrain_The_Records
                    Get Select_Count of dbListsub1 to liCount
                    set enabled_State of (buttonsub3(self)) to (liCount)
                    If (liCount)    Set Label of (buttonsub2(self)) to "çú£ò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                    Else            Set Label of (buttonsub2(self)) to "ãò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                End_Procedure
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // RadioGroupSub2

            Object TextBoxSub1007 is a TextBoxSub
                Set Label to "èú¢·´û™"
                Set Location to 6 179
                Set Size to 10 33
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1007

            Object client_apo is a FormSub
                Set Size to 13 77
                Set Location to 4 217
                Set Label_Col_Offset to 2
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                Set Prompt_Object to (sl100(Current_object))
                
                Procedure Prompt
                    Set psModule Of (sl100(Self)) to '01'
                    forward send prompt
                end_procedure
                
                procedure onchange
                    string sclient scode
                    get value item 0 to scode
                    Move (fsclient(Self,scode)) to sclient
                    set value of (client_aponame(self)) to sclient
                    Set psClient to sCode
                end_procedure
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // client_apo

            Object client_aponame is a FormSub
                Set Size to 13 80
                Set Location to 4 296
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set enabled_state to false
                //AB-StoreEnd

            End_Object    // client_aponame

            Object date_apo1008 is a TextBoxSub
                Set Label to "ä„•û É.Ñ.é.è òßÊ"
                Set Location to 38 226
                Set Size to 10 60
                Set TypeFace to "MS Sans Serif"
            End_Object    // date_apo1008

            Object enarxh_apo is a FormSub
                Set Size to 13 63
                Set Location to 21 290
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                
                Procedure OnChange
                    Date dHmnia
                    Get Value Item 0    to dHmnia
                    Set pdenarxh        to dHmnia
                End_Procedure
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // enarxh_apo

            Object enarxh_eos is a FormSub
                Set Size to 13 85
                Set Location to 20 426
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                
                Procedure OnChange
                    Date dHmnia
                    Get Value Item 0    to dHmnia
                    Set pdlhxh          to dHmnia
                End_Procedure
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // enarxh_eos

            Object date_apo is a FormSub
                Set Size to 13 63
                Set Location to 36 290
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                
                Procedure OnChange
                    Date dHmnia
                    Get Value Item 0    to dHmnia
                    Set pdapo           to dHmnia
                End_Procedure
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // date_apo

            Object date_eos is a FormSub
                Set Size to 13 85
                Set Location to 35 427
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                
                Procedure OnChange
                    Date dHmnia
                    Get Value Item 0    to dHmnia
                    Set pdEos           to dHmnia
                End_Procedure
                
                
                
                
                //AB-StoreEnd

            End_Object    // date_eos

            Object enarxh_date is a FormSub
                Set Size to 13 73
                Set Location to 30 132
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                //AB-StoreEnd

            End_Object    // enarxh_date

            Object lhxh_date is a FormSub
                Set Size to 13 73
                Set Location to 45 132
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                set prompt_object to (ocalendar(self))
                
                
                //AB-StoreEnd

            End_Object    // lhxh_date

            Object ButtonSub4 is a ButtonSub
                Set Label to "ÑÁ®ú©û úöö®ò≠È§"
                Set Size to 14 261
                Set Location to 66 249
                Set Form_FontWeight Item 0 to 600
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                                                                                        
                Procedure OnClick
                    string  lsapopel srecr sitem
                    integer iepil iint
                    date    ldeos ldapo denarxh dlhxh
                    number  napo neos
                
                    get psitem to sitem
                    set value of (frmitemcount(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to 0
                    get value of (timh_apo(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to napo
                    get value of (timh_eos(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to neos
                    set pifromloop to 0
                    if (sitem<>'') begin
                        Send Delete_Data to oRecrArray
                        Get piepil      to iEpil
                        Get psClient    to lsApopel
                        Get pdEos       to ldEos
                        Get pdapo       to ldapo
                        get pdenarxh    to denarxh
                        get pdlhxh      to dlhxh
                        if (ldapo='') move '01/01/2000' to ldapo
                        if (ldEos='') move '31/12/2100' to ldEos
                        if (denarxh='') move '01/01/2000' to denarxh
                        if (dlhxh='') move '31/12/2100' to dlhxh
                        Clear BtnorDH
                        Move  0                         to btnordh.deop_active
                        move iepil                      to btnordh.statero
                        move ldapo                      to btnordh.deop_lhxh
                        move denarxh                    to btnordh.deop_date
                        Find Gt Btnordh by index.7
                        While ((Found) And (btnordh.deop_active=0);
                                       And (btnordh.statero=iepil);
                                       And (btnordh.deop_lhxh<=ldeos);
                                       And (btnordh.deop_date<=dlhxh))
                            If ((lsApopel='') OR ((lsApopel<>'') And (Btnordh.Client_ID=lsAPopel))) Begin
                                move btnordh.recr to srecr
                                clear btnordd
                                move srecr to btnordd.btnordh_recr
                                find gt btnordd by index.1
                                While ((Found) And (btnordd.btnordh_recr=srecr))
                                    if (neos = 0) move 999999999 to neos
                                    if ((btnordd.vitem=sitem)and(btnordd.VUNITPRICE => napo)and(btnordd.VUNITPRICE <= neos)) begin
                                        Send Add_Element to oRecrArray (Trim(srecr))
                                        add 1 to iint
                                        set value of (frmitemcount(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to iint
                                        goto next
                                    end
                                    find gt btnordd by index.1
                                loop
                            End
                            next:
                            Find Gt Btnordh by index.7
                        Loop
                        set pifromloop to 1
                    end
                    Send constrain_the_records
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // ButtonSub4

            Object ButtonSub2 is a ButtonSub
                Set Label to "ãò®°·®†©£ò úß†¢úö£‚§‡§ úöö®ò≠È§"
                Set Size to 14 204
                Set Location to 66 0
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                
                Procedure Mark_All
                   Integer inum
                   send rebuild_constraints to (BTNORDH_dd3(self))
                   send find to (btnordh_dd3(self)) first_record 7
                
                   While (Found=1)
                      set array_value of (selected_items(dblistsub1(self))) item inum to btnordh.recnum
                      add 1 to inum
                      send find to (btnordh_dd3(self)) next_record 7
                   Loop
                   If (Select_Count(Dblistsub1(Self))>0) Set label of (buttonsub2(self)) to 'çú£ò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è'
                   Else                                  Set Label Of (Buttonsub2(Self)) To 'ãò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è'
                End_Procedure
                
                
                Procedure Unmark_All
                   Send Delete_Data to (Selected_Items(dblistsub1(self)))
                   Set Label Of (Buttonsub2(Self)) To 'ãò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è'
                End_Procedure
                
                
                Procedure Onclick
                   Integer licount
                   If (current_record(dblistsub1(Self))) begin
                       If (select_Count(dblistsub1(Self)) Gt 0) send unmark_all
                       Else                                     send mark_all
                   End
                   Else Set Label Of (Buttonsub2(Self)) To 'ãò®°·®†©£ò ¶¢‡§ ´‡§ úöö®ò≠È§'
                   Set enabled_State of (buttonsub3(self)) to (Select_Count(Dblistsub1(Self)))
                   Send Beginning_Of_Data    to (dblistsub1(self))
                   Get Select_Count of dbListsub1 to liCount
                   Set Value of (frmCount(self)) item 0 to (Select_Count(dblistsub1(Self)))
                   Set enabled_State of (buttonsub3(self)) to (liCount)
                   If (liCount)    Set Label of (buttonsub2(self)) to "çú£ò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                   Else            Set Label of (buttonsub2(self)) to "ãò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                End_Procedure
                
                
                
                
                //AB-StoreEnd

            End_Object    // ButtonSub2

            Object eidos_apo is a FormSub
                Set Size to 13 63
                Set Location to 50 290
                Set Label_Col_Offset to 2
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                Set Prompt_Object to (SL22S(Current_object))
                procedure onchange
                    string sitem
                    get value item 0 to sitem
                    set psitem to sitem
                
                end_procedure
                
                
                //AB-StoreEnd

            End_Object    // eidos_apo

            Object timh_apo is a FormSub
                Set Size to 13 31
                Set Location to 51 427
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"
            End_Object    // timh_apo

            Object timh_eos is a FormSub
                Set Size to 13 31
                Set Location to 51 462
                Set Label_Col_Offset to 2
                Set Form_TypeFace Item 0 to "MS Sans Serif"
            End_Object    // timh_eos

            Object TextBoxSub1009 is a TextBoxSub
                Set Label to "Ü£/§Âò ‚§ò®•û™ §‚‡§ É.Ñ.é.è"
                Set Location to 32 1
                Set Size to 10 101
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1009

            Object dbListSub1 is a dbListSub
                Set Main_File to Btnordh.File_Number
                Set Ordering to 7
                Set Size to 160 505
                Set Location to 80 3

                Begin_Row
                    Entry_Item ('')
                    Entry_Item Btnordh.Aa_deop
                    Entry_Item Btnordh.Client_id
                    Entry_Item Clients.Client_name
                    Entry_Item Btnordh.Cn_code
                    Entry_Item Cn.Cn_descr
                    Entry_Item Btnordh.Deop_date
                    Entry_Item Btnordh.Deop_lhxh
                End_Row

                Set Form_Width    item 0 to 16
                Set Header_Label  item 0 to ""
                Set Column_Checkbox_State  item 0 to True
                
                Set Form_Width    item 1 to 70
                Set Header_Label  item 1 to "â‡õ†°Ê™ É.Ñ.é.è"
                
                Set Form_Width    item 2 to 62
                Set Header_Label  item 2 to "â‡õ. èú¢·´û"
                
                Set Form_Width    item 3 to 100
                Set Header_Label  item 3 to "Ñß‡§¨£Âò"
                
                Set Form_Width    item 4 to 60
                Set Header_Label  item 4 to "â‡õ.Ñ®ö¶¨"
                
                Set Form_Width    item 5 to 100
                Set Header_Label  item 5 to "èú®†ö®ò≠„"
                
                Set Form_Width    item 6 to 45
                Set Header_Label  item 6 to "Ñ§ò®•û "
                
                Set Form_Width    item 7 to 45
                Set Header_Label  item 7 to "ä„•û"
                

                //AB-StoreStart
                                                                                                                                                                                                                                                        
                Set Select_Mode                     to Multi_Select
                Set Column_Option           item 0  to Noenter False
                Set Column_checkBox_state   item 0  to true
                Set Auto_Shadow_State               to False
                Set Auto_Index_State                to True
                Set Popup_Search_State              to True
                Set Find_Search_State               to False
                
                Set Color                           to 15263976
                Set TextColor                       to clWindowText
                Set CurrentRowColor                 to 14205112
                Set Highlight_row_color             to 14205112
                Set CurrentRowTextColor             to clWindowText
                Set CurrentCellColor                to 14205112
                Set CurrentCellTextColor            to clBtnText
                
                Procedure Toggle_Select
                    Local integer iBase iOffset iCol
                    Move 0 to iOffset
                    Set Enabled_State of ButtonSub3 to False
                    Get Base_Item to iBase
                    Get Current_Col to iCol
                    Forward Send Toggle_Select
                    Send DoDisplayCheckBox (iBase+iOffset) (Select_State(self,iBase))
                    If (Select_Count(dblistsub1(Self)) Gt 0) begin
                       Set Label of (buttonSub2(self)) to "çú£ò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                       Set Enabled_State of ButtonSub3 to True
                    end
                    else begin
                       Set Label of (buttonSub2(self)) to "ãò®°·®†©£ò Ê¢‡§ ´‡§ É.Ñ.é.è"
                       Set Enabled_State of ButtonSub3 to false
                    end
                    Set value of (frmCount(self)) item 0 to (Select_Count(dblistsub1(Self)))
                    Set Dynamic_Update_State to true
                
                End_Procedure  //Toggle_Select
                
                Procedure Entry_Display Integer i1 Integer i2
                    Local integer iBase iOffset iSelItemsID bState
                    Get base_Item to iBase
                    move 0 to iOffset
                    move (Selected_Items(self)) to iSelItemsID
                    Forward Send Entry_Display i1 i2
                    Get find_element of iSelItemsID btnordh.recnum to bState
                    Send DoDisplayCheckBox (iBase+iOffset) (bState<>-1)
                End_Procedure // Entry_Display
                
                procedure mouse_click integer window integer char_pos
                    string sdeop
                    Integer iBase
                    forward send mouse_click window char_pos
                    Get Base_Item to iBase
                    Get Value Item (iBase+1) to sDeop
                    Set psdeop  Of (v193(Self)) to sdeop
                    If (Trim(sDeop)<>'') Send Activate_v193
                end_procedure
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // dbListSub1

            Object frmCount is a FormSub

                //AB-StoreTopStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                //AB-StoreTopEnd

                Set Size to 13 31
                Set Location to 243 106
                Set TextColor to clRed
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                Set Shadow_state to true
                //AB-StoreEnd

            End_Object    // frmCount

            Object TextBoxSub1010 is a TextBoxSub
                Set Label to "Ñß†¢úö£‚§ò É.Ñ.é.è = "
                Set Auto_Size_State to FALSE
                Set FontSize to 4 0
                Set Location to 243 3
                Set Size to 13 88
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
                Set Enabled_State to TRUE
            End_Object    // TextBoxSub1010

            Object ButtonSub3 is a ButtonSub

                //AB-StoreTopStart
                                                                                                                                                    
                                                                                                                                                    
                //AB-StoreTopEnd

                Set Label to "ÉÜãàéìêÇàÄ åÑóå É.Ñ.é.è "
                Set Size to 12 169
                Set Location to 244 336
                Set Form_FontWeight Item 0 to 800
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                                                                                                                                                    
                                                                                                                                                    
                Procedure OnClick
                    date enarxhdate lhxhdate ddate datecreated currdate deopenarxh
                    Integer iInt iCount ierr imsg irecnum icheck ilast rval ilocked istatero irec
                    integer ipanokato iupdate ifrom
                    string  scnrecr ssxolia msgstr suserid scodegl sitem sclient squal oaadeop
                    string  ssign sxp saxia sflaggl smodule skatish selxr saadeop sel sRecr
                    number nunitprice ndisc nprice ntotal neleiph nqty nxrm3 npagiaxrm3 naxia
                    number npagiaxrprice nanopagia nsthsimo neleipes nposo npososto ndiscposo
                
                    move 0 to ierr
                    Send Delete_Data to oRecrArray
                    get yesno_box "åò ß®¶Æ‡®„©‡ ©´û§ õû£†¶¨®öÂò §‚‡§ É.Ñ.é.è £ú ò§òß®¶©ò®£¶©£‚§ú™ ´†£‚™ ??" to imsg
                
                    If (imsg =MBR_yes) begin
                        indicate err false
                        Set piTxtID to (Wait(Self))
                        Set Button_State    of (piTxtID(Self))  to False
                        Set BarVisibleState of (piTxtID(Self))  to '' False
                        Send Popup                              to (piTxtID(Self))
                        get value of (enarxh_date(self)) to enarxhdate
                        get value of (lhxh_date(self)) to lhxhdate
                        if (enarxhdate ge lhxhdate) begin
                            If (piTxtID(Self)<>0) Send Deactivate to (piTxtID(Self))
                            error 3616 'Ü£/§Âò ‚§ò®•û™ => û£/§Âò ¢„•û™'
                            procedure_return
                        end
                        if (enarxhdate='' or lhxhdate='') begin
                            If (piTxtID(Self)<>0) Send Deactivate to (piTxtID(Self))
                            error 3617 'Ü£/§Âò ‚§ò®•û™ - ¢„•û™ §‚‡§ É.Ñ.é.è  ¶Æ† °ú§„'
                            procedure_return
                        end
                        Get Select_Count of (dblistsub1(Self)) to iInt
                        If (iInt>0) Begin
                            move 0 to ifrom
                            For iCount from 0 to (iInt-1)
                
                
                                begin_transaction
                
                                    Send DoExceptFile to ghoFileModeInfo BtnordH.File_Number
                                    Send DoExceptFile to ghoFileModeInfo BtnordD.File_Number
                                    Send DoExceptFile to ghoFileModeInfo SysrecC.File_Number
                                    Send DoExceptFile to ghoFileModeInfo CN.File_Number
                                    Send DoExceptFile to ghoFileModeInfo Clients.File_Number
                                    Send DoExceptFile to ghoFileModeInfo Payresp.File_Number
                
                                    Send DoExceptFile to ghoFileModeInfo Constrct.File_Number
                                    Send DoExceptFile to ghoFileModeInfo Mhxanik.File_Number
                                    Send DoExceptFile to ghoFileModeInfo Salesmen.File_Number
                
                                    Send DoSetFileModeToReadOnly to ghoFileModeInfo
                
                                    Get array_value of (Selected_Items(dblistsub1(self))) Item iCount to iRecnum
                                    move '' to msgstr
                                    Clear BtnordH
                                    move irecnum to btnordh.recnum
                                    Find Eq Btnordh.recnum
                                    If (Found) Begin
                                        move 0 to iupdate
                                        Move btnordh.recr to srecr
                                        Move btnordh.sxolia  to ssxolia
                                        Move btnordh.eleiph  to neleiph
                                        Move btnordh.velxr   to sel
                                        Move btnordh.user_id to suserid
                                        Move btnordh.statero to istatero
                                        Move btnordh.cn_recr to scnrecr
                                        Move btnordh.deop_lhxh to currdate
                                        Move btnordh.deop_date to deopenarxh
                                        Move btnordh.aa_deop to saadeop
                
                                        if (enarxhdate le deopenarxh) begin
                                            move '' to msgstr
                                            move 'Ü£/§Âò ‚§ò®•û™ §‚‡§ É.Ñ.é.è < Ü£/§Âò ‚§ò®•û™ ©´¶ É.Ñ.é.è = ' to msgstr
                                            append msgstr saadeop
                                            move 1 to ifrom
                                            error 8810 msgstr
                                        end
                                        if (lhxhdate lt currdate) begin
                                            move '' to msgstr
                                            move 'Ü£/§Âò ¢„•û™ §‚‡§ É.Ñ.é.è <= Ü£/§Âò ¢„•û™ ©´¶ É.Ñ.é.è = ' to msgstr
                                            append msgstr saadeop
                                            move 1 to ifrom
                                            error 8811 msgstr
                                        end
                                        if (enarxhdate le currdate) begin
                                            move 1 to iupdate
                                            clear btnordh
                                            move irecnum to btnordh.recnum
                                            find eq btnordh.recnum
                                            if (found=1) begin
                                                move (enarxhdate-1) to btnordh.deop_lhxh
                                                saverecord btnordh
                                            end
                                        end
                                        sysdate4 ddate
                                        send clear to btnordh_dd2
                                        move scnrecr to cn.cn_recr
                                        send find to cn_dd2 eq 2
                                        if (not(found)) error 3615 'Éú§ ô®Â©°‡ ´¶ ‚®ö¶ °ò´· ´û§ õû£†¶¨®öÂò §‚¶¨ É.Ñ.é.è'
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.eleiph  to neleiph
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.velxr   to sel
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.user_id to suserid
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.statero to istatero
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.deop_date to enarxhdate
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.deop_lhxh to lhxhdate
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.deop_active to 0
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.locked to 1
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.date_modify to ddate
                                        move '' to ssxolia
                                        append ssxolia 'Éû£†¶¨®ö„üû°ú òßÊ °Á°¢‡£ò £òù†°„™ ò§òß®¶©ò®£¶ö„™ ´†£È§ ´û§ '
                                        append ssxolia ddate
                                        append ssxolia '. ë¨©Æú´†ùÊ£ú§¶ É.Ñ.é.è = '
                                        append ssxolia saadeop
                                        move saadeop  to oaadeop
                                        Set field_CHANGED_value of btnordh_dd2 field btnordh.sxolia  to ssxolia
                                        send request_save to btnordh_dd2
                                        get field_current_value of btnordh_dd2 field btnordh.aa_deop to saadeop
                                        Send UpdateWait to (piTxtID(Self))  ('Ñ§û£‚®‡©û ò®ÆúÂ¶¨ É.Ñ.é.è £ú §‚¶ É.Ñ.é.è '+(string (saadeop)))
                                        Clear Btnordd
                                        Move srecr to btnordd.btnordh_recr
                                        Find gt btnordd by index.1
                                        while ((found=1) and (btnordd.btnordh_recr=srecr))
                                            Move btnordd.recnum  to irec
                                            Move btnordd.vitem   to sitem
                                            Move btnordd.vqual   to squal
                                            Move btnordd.vqty    to nqty
                                            Move btnordd.vunitprice to nunitprice
                                            Move btnordd.vdisc   to ndisc
                                            Move btnordd.vdiscposo   to ndiscposo
                                            Move btnordd.vprice  to nprice
                                            Move btnordd.vkatish to skatish
                                            Move btnordd.vxrm3   to nxrm3
                                            Move btnordd.vpagiaxrm3 to npagiaxrm3
                                            Move btnordd.vpagiaxrprice to npagiaxrprice
                                            Move btnordd.vsthsimo   to nsthsimo
                                            Move btnordd.veleipes   to neleipes
                                            Move btnordd.velxr      to selxr
                                            if (iupdate=1) begin
                                                move 0 to iupdate
                                                reread btnordd
                                                move (enarxhdate-1) to btnordd.deop_date
                                                saverecord btnordd
                                                unlock
                                            end
                                            send clear to btnordd_dd2
                                            set field_changed_value of btnordd_dd2 field btnordd.vitem   to sitem
                                            set field_changed_value of btnordd_dd2 field btnordd.vqual   to squal
                                            set field_changed_value of btnordd_dd2 field btnordd.vqty    to nqty
                                            clear timokat
                                            move sitem to timokat.item_code
                                            find eq timokat by index.1
                                            if (found=1) begin
                                                move timokat.panokato  to ipanokato
                                                move timokat.poso      to nposo
                                                move timokat.pososto   to npososto
                                                if (ipanokato=0) begin
                                                    if (nposo<>0) begin
                                                        move (nunitprice+nposo) to ntotal
                                                        set field_changed_value of btnordd_dd2 field btnordd.vunitprice to ntotal
                                                        move (round_number(((ntotal * ndisc) / 100),2)) to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vdiscposo to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vprice  to (ntotal-naxia)
                                                        set field_changed_value of btnordd_dd2 field btnordd.vanopagia  to nunitprice
                                                    end
                                                    else if (npososto<>0) begin
                                                        move (round_number(((nunitprice * npososto) / 100),2)) to ntotal
                                                        Move (nunitprice + ntotal) to ntotal
                                                        set field_changed_value of btnordd_dd2 field btnordd.vunitprice to ntotal
                                                        move (round_number(((ntotal * ndisc) / 100),2)) to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vdiscposo to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vprice  to (ntotal-naxia)
                                                        set field_changed_value of btnordd_dd2 field btnordd.vanopagia  to nunitprice
                                                    end
                                                end
                                                else if (ipanokato=1) begin
                                                    if (nposo<>0) begin
                                                        move (nunitprice-nposo) to ntotal
                                                        set field_changed_value of btnordd_dd2 field btnordd.vunitprice to ntotal
                                                        move (round_number(((ntotal * ndisc) / 100),2)) to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vdiscposo to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vprice  to (ntotal-naxia)
                                                        set field_changed_value of btnordd_dd2 field btnordd.vanopagia  to nunitprice
                                                    end
                                                    else if (npososto<>0) begin
                                                        move (round_number(((nunitprice * npososto) / 100),2)) to ntotal
                                                        Move (nunitprice - ntotal) to ntotal
                                                        set field_changed_value of btnordd_dd2 field btnordd.vunitprice to ntotal
                                                        move (round_number(((ntotal * ndisc) / 100),2)) to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vdiscposo to naxia
                                                        set field_changed_value of btnordd_dd2 field btnordd.vprice  to (ntotal-naxia)
                                                        set field_changed_value of btnordd_dd2 field btnordd.vanopagia  to nunitprice
                                                    end
                                                end
                                            end
                                            else begin
                                                set field_changed_value of btnordd_dd2 field btnordd.vunitprice to nunitprice
                                                set field_changed_value of btnordd_dd2 field btnordd.vprice  to nprice
                                                set field_changed_value of btnordd_dd2 field btnordd.vdiscposo to ndiscposo
                                            end
                                            set field_changed_value of btnordd_dd2 field btnordd.vdisc   to ndisc
                                            set field_changed_value of btnordd_dd2 field btnordd.vkatish to skatish
                                            set field_changed_value of btnordd_dd2 field btnordd.vxrm3   to nxrm3
                                            set field_changed_value of btnordd_dd2 field btnordd.vpagiaxrm3 to npagiaxrm3
                                            set field_changed_value of btnordd_dd2 field btnordd.vpagiaxrprice to npagiaxrprice
                                            set field_changed_value of btnordd_dd2 field btnordd.vsthsimo   to nsthsimo
                                            set field_changed_value of btnordd_dd2 field btnordd.veleipes   to neleipes
                                            set field_changed_value of btnordd_dd2 field btnordd.velxr      to selxr
                                            Set field_changed_value of btnordd_dd2 field btnordd.vactive to 0
                                            send request_save to btnordd_dd2
                                            Send UpdateWait to (piTxtID(Self))  ('Ñ§û£‚®‡©û É.Ñ.é.è £ú úÂõ¶™ '+(string (sitem)))
                                            clear btnordd
                                            move irec to btnordd.recnum
                                            find eq btnordd.recnum
                                            find gt btnordd by index.1
                                        loop
                                    end
                                end_transaction
                                unlock
                
                                If (ghoFileModeInfo) Send DoRestoreFileModeInfo to ghoFileModeInfo
                
                
                                [err] move 1 to ierr
                                if ((ierr=1) and (ifrom=0)) begin
                                    indicate err false
                                    move 1 to ierr
                                    move 'èò®¶¨©†·©´û°ú ë≠·¢£ò ©´„§ ò§òß®¶©ò®£¶ö„  É.Ñ.é.è = ' TO msgstr
                                    append msgstr oaadeop
                                    send info_box msgstr
                                end
                                indicate err false
                            Loop
                        end
                        else send info_box 'Éú§ ¨ß·®Æ¶¨§ úß†¢úö£‚§ò É.Ñ.é.è ö†ò ò§òß®¶©ò®£¶ö„ ' 'è¢û®¶≠¶®Âò'
                        Set Value of (frmCount(self)) item 0 to 0
                        Send Delete_Data to (Selected_Items(dblistsub1(self)))
                        Set Label Of (Buttonsub2(Self)) To 'ãò®°·®†©£ò ¶¢‡§ ´‡§ úöö®ò≠È§'
                    end
                    else send info_box 'Ü õ†òõ†°ò©Âò ò°¨®Èüû°ú òßÊ ´¶§ Æ®„©´û' 'è¢û®¶≠¶®Âò'
                    send beginning_of_data to (dblistsub1(dbTabPageSubS2(dbTabDialogSubS1(self)))) true
                    If (piTxtID(Self)<>0) Send Deactivate to (piTxtID(Self))
                End_Procedure // OnClick
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                //AB-StoreEnd

            End_Object    // ButtonSub3

            Object TextBoxSub1011 is a TextBoxSub
                Set Label to "Ü£/§Âò ¢„•û™ §‚‡§ É.Ñ.é.è"
                Set Location to 47 1
                Set Size to 10 98
                Set FontWeight to 600
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1011

            Object date_apo1017 is a TextBoxSub
                Set Label to "ä„•û É.Ñ.é.è úÈ™"
                Set Location to 37 363
                Set Size to 10 59
                Set TypeFace to "MS Sans Serif"
            End_Object    // date_apo1017

            Object date_apo1018 is a TextBoxSub
                Set Label to "Ñ§ò®•û É.Ñ.é.è òßÊ"
                Set Location to 25 218
                Set Size to 10 68
                Set TypeFace to "MS Sans Serif"
            End_Object    // date_apo1018

            Object date_apo1019 is a TextBoxSub
                Set Label to "Ñ§ò®•û É.Ñ.é.è úÈ™"
                Set Location to 23 356
                Set Size to 10 66
                Set TypeFace to "MS Sans Serif"
            End_Object    // date_apo1019

            Object apo_eidos is a TextBoxSub
                Set Label to "É.Ñ.é.è ßú®†‚Æ¶¨§ ´¶ úÂõ¶™"
                Set Location to 49 219
                Set Size to 17 69
                Set Justification_Mode to jMode_Center
                Set TypeFace to "MS Sans Serif"
            End_Object    // apo_eidos

            Object date_apo1029 is a TextBoxSub
                Set Label to "í†£„ ã¶§. =>"
                Set Location to 51 381
                Set Size to 12 45
                Set TypeFace to "MS Sans Serif"
            End_Object    // date_apo1029

            Object TextBoxSub1022 is a TextBoxSub
                Set Label to "<="
                Set Location to 52 497
                Set Size to 10 16
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1022

            Object frmitemCount is a FormSub

                //AB-StoreTopStart
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                //AB-StoreTopEnd

                Set Size to 13 31
                Set Location to 66 211
                Set Color to clBtnFace
                Set TextColor to clBlue
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Enabled_State to FALSE
                Set Form_TypeFace Item 0 to "MS Sans Serif"
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE

                //AB-StoreStart
                Set Shadow_state to true
                //AB-StoreEnd

            End_Object    // frmitemCount

            Object TextBoxSub1030 is a TextBoxSub
                Set Label to "è‡¢û´„™"
                Set Location to 6 382
                Set Size to 10 35
                Set TypeFace to "MS Sans Serif"
            End_Object    // TextBoxSub1030

            Object fpolhths is a FormSub
                Set Size to 13 85
                Set Location to 4 426
                Set Label_Col_Offset to 2
                Set Prompt_Button_Mode to pb_PromptOn
                Set Form_TypeFace Item 0 to "MS Sans Serif"

                //AB-StoreStart
                Set Prompt_Object to (sl108(Current_object))
                
                procedure onchange
                    string sclient scode
                    get value item 0 to scode
                    Set psslsid to sCode
                end_procedure
                //AB-StoreEnd

            End_Object    // fpolhths


            //AB-StoreStart
            set label to 'Ñß†¢¶ö„ °ò´·©´ò©û™ É.Ñ.é.è ß®¶™ ò§òß®¶©ò®£¶ö„'
            
            Procedure Constrain_The_Records
                Integer liCount iID
                Get piListID to iID
            
                Send Rebuild_Constraints    to (btnordh_DD(Self))
                Send Rebuild_Constraints    to (btnordh_DD3(Self))
                Send Delete_Data            to (Selected_Items(iID))
                Send Beginning_Of_Data      to iID True
            
                Get Select_Count            of iID                  to liCount
                Set enabled_State           of (buttonsub3(self))   to (liCount)
                If (liCount) Set Label      of (buttonsub2(self))   to "çú£ò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
                Else         Set Label      of (buttonsub2(self))   to "ãò®°·®†©£ò ¶¢‡§ ´‡§ É.Ñ.é.è"
            End_Procedure
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            //AB-StoreEnd

        End_Object    // dbTabPageSubS2

    End_Object    // dbTabDialogSubS1


    //AB-StoreStart
    Procedure Fill_The_Combos
        Integer iCbo1 iCbo2
        Get piCbo1 to iCbo1
        Get piCbo2 to iCbo2
        Send Delete_Data to iCbo1
        Clear Witemkat
        Find Gt Witemkat.Recnum
        While (Found)
            Send Combo_Add_Item to iCbo1 (Trim(Witemkat.Witemkat_Descr)+' - '+Trim(Witemkat.Witemkat_Code))
            Find Gt Witemkat.Recnum
        Loop
        Send Delete_Data to iCbo2
        Clear CodeMast
        Move 'QUAL' to Codemast.Type
        Find Gt CodeMast by index.1
        While ((Found=1) And (Codemast.Type='QUAL'))
            Send Combo_Add_Item to iCbo2 (Trim(Codemast.Code))
            Find Gt CodeMast by index.1
        Loop
    End_Procedure
    
    Procedure Activate_View Returns Integer
        String   sModule
        integer  rval iID
        Forward Get Msg_Activate_View to rVal
        Move (cboWitemKat(dbTabPageSubS1(dbTabDialogSubS1(v193c(Self))))) to iID
        Set piCbo1      to iID
        Move (cboPoiothta(dbTabPageSubS1(dbTabDialogSubS1(v193c(Self))))) to iID
        Set piCbo2      to iID
        Move (dbListSub1(dbTabPageSubS2 (dbTabDialogSubS1(v193c(Self))))) to iID
        Set piListID    to iID
        Send Fill_The_Combos
        set value of (eidos_apo(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to ''
        set value of (timh_apo(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to 0
        set value of (timh_eos(dbTabPageSubS2(dbTabDialogSubS1(v193c(Self))))) to 0
        set pifromloop to 0
        set psitem to ''
        Procedure_Return rVal
    End_Procedure
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    //AB-StoreEnd

End_Object    // V193c


//AB-StoreStart



















//AB-StoreEnd

//AB/ End_Object    // prj
