//AB/ Project v32a
//AB/ Object prj is a View_Project
//AB/     Set ProjectName to "v32a"
//AB/     Set ProjectFileName to "v32a.VW"
//AB/     Set GenerateFileName to "NONAME"

// Project Object Structure
//   v32a is a dbViewSubS
//     MyArray2 is a Array
//       Pelates_DD2 is a Pelates_DataDictionary
//     itemprom_DD2 is a itemprom_DataDictionary
//     Pelates_DD is a DataDictionary
//     Ypprosf_DD is a DataDictionary
//     Yppolhs_DD is a DataDictionary
//     YpYlop_DD is a DataDictionary
//     Katergo_DD is a DataDictionary
//     Cn_DD is a DataDictionary
//     Ypoprosf_DD is a DataDictionary
//     Clorderd_DD is a DataDictionary
//     Pelatesa_DD is a DataDictionary
//     Parprom_DD is a DataDictionary
//     Parpromd_DD is a DataDictionary
//     Pelates_Kodikos is a dbForm
//     Pelates_Etairia is a dbForm
//     Cn_Perigrafh is a dbFormSub
//     TextBoxSub18 is a TextBoxSub
//     Cn_Kodikos_Ergou is a dbFormSub
//     Ypoprosf_ is a dbGridSub
//     dbTabDialogSubS1 is a dbTabDialogSubS
//       dbPageSub2 is a dbTabPageSubS
//         The_Table is a dbGrid
//         Textbox1 is a Textbox
//         dbFormSub1 is a dbFormSub
//         Textbox3 is a Textbox
//         Custdtl_Posofpa is a dbFormSub
//         Textbox5 is a Textbox
//         Custdtl_Posototal is a dbFormSub
//         TextBoxSub39 is a TextBoxSub
//         TextBoxSub40 is a TextBoxSub
//         Clorderd_Onoma is a dbFormSub
//         ButtonSub8 is a ButtonSub
//         TextBoxSub54 is a TextBoxSub
//         Clorderd_Paradosh is a dbComboFormSub
//         TextBoxSub55 is a TextBoxSub
//         Clorderd_Paradosh_Date is a dbFormSub
//       dbTabPageSubS3 is a dbTabPageSubS
//         The_Table1 is a dbGrid
//         TextBoxSub41 is a TextBoxSub
//         Clorderd_Onoma is a dbFormSub
//         TextBoxSub42 is a TextBoxSub
//         Textbox6 is a Textbox
//         dbFormSub2 is a dbFormSub
//         Textbox8 is a Textbox
//         Custdtl_Posofpa is a dbFormSub
//         Textbox9 is a Textbox
//         Custdtl_Posototal is a dbFormSub
//         ButtonSub6 is a ButtonSub
//         ButtonSub7 is a ButtonSub
//         Clorderd_Caitems_Code is a dbFormSub
//         Clorderd_Recnum is a dbFormSub
//         TextBoxSub53 is a TextBoxSub
//         ButtonSub12 is a ButtonSub
//       dbTabPageSubS4 is a dbTabPageSubS
//         TextBoxSub44 is a TextBoxSub
//         TextBoxSub46 is a TextBoxSub
//         FormSub4 is a FormSub
//         FormSub2 is a FormSub
//         FormSub7 is a FormSub
//         FormSub8 is a FormSub
//         FormSub5 is a FormSub
//         TextBoxSub49 is a TextBoxSub
//         ComboFormSub1 is a ComboFormSub
//         ButtonSub4 is a ButtonSub
//         TextBoxSub51 is a TextBoxSub
//         TextBoxSub52 is a TextBoxSub
//     TextBoxSub19 is a TextBoxSub
//     TextBoxSub35 is a TextBoxSub
//     FormSub1 is a FormSub
//     frmRed is a FormSub
//     frmGreen is a FormSub
//     TextBoxSub36 is a TextBoxSub
//     TextBoxSub37 is a TextBoxSub
//     frmGreen is a FormSub
//     TextBoxSub38 is a TextBoxSub
//     Ypoprosf_Date is a dbFormSub
//     Ypoprosf_Rial_Date is a dbFormSub
//     ButtonSub10 is a ButtonSub
//     Pelates_Kodik is a dbFormSub
//     Pelates_Etairia is a dbFormSub
//     RadioGroupSub1 is a RadioGroupSub
//       Radio1 is a RadioSub
//       Radio2 is a RadioSub
//       Radio3 is a RadioSub

// Register all objects
Register_Object ButtonSub10
Register_Object ButtonSub12
Register_Object ButtonSub4
Register_Object ButtonSub6
Register_Object ButtonSub7
Register_Object ButtonSub8
Register_Object Clorderd_Caitems_Code
Register_Object Clorderd_DD
Register_Object Clorderd_Onoma
Register_Object Clorderd_Paradosh
Register_Object Clorderd_Paradosh_Date
Register_Object Clorderd_Recnum
Register_Object Cn_DD
Register_Object Cn_Kodikos_Ergou
Register_Object Cn_Perigrafh
Register_Object ComboFormSub1
Register_Object Custdtl_Posofpa
Register_Object Custdtl_Posototal
Register_Object dbFormSub1
Register_Object dbFormSub2
Register_Object dbPageSub2
Register_Object dbTabDialogSubS1
Register_Object dbTabPageSubS3
Register_Object dbTabPageSubS4
Register_Object FormSub1
Register_Object FormSub2
Register_Object FormSub4
Register_Object FormSub5
Register_Object FormSub7
Register_Object FormSub8
Register_Object frmGreen
Register_Object frmRed
Register_Object itemprom_DD2
Register_Object Katergo_DD
Register_Object MyArray2
Register_Object Parprom_DD
Register_Object Parpromd_DD
Register_Object Pelates_DD
Register_Object Pelates_DD2
Register_Object Pelates_Etairia
Register_Object Pelates_Kodik
Register_Object Pelates_Kodikos
Register_Object Pelatesa_DD
Register_Object Radio1
Register_Object Radio2
Register_Object Radio3
Register_Object RadioGroupSub1
Register_Object TextBoxSub18
Register_Object TextBoxSub19
Register_Object TextBoxSub35
Register_Object TextBoxSub36
Register_Object TextBoxSub37
Register_Object TextBoxSub38
Register_Object TextBoxSub39
Register_Object TextBoxSub40
Register_Object TextBoxSub41
Register_Object TextBoxSub42
Register_Object TextBoxSub44
Register_Object TextBoxSub46
Register_Object TextBoxSub49
Register_Object TextBoxSub51
Register_Object TextBoxSub52
Register_Object TextBoxSub53
Register_Object TextBoxSub54
Register_Object TextBoxSub55
Register_Object Textbox1
Register_Object Textbox3
Register_Object Textbox5
Register_Object Textbox6
Register_Object Textbox8
Register_Object Textbox9
Register_Object The_Table
Register_Object The_Table1
Register_Object v32a
Register_Object Ypoprosf_
Register_Object Ypoprosf_Date
Register_Object Ypoprosf_DD
Register_Object Ypoprosf_Rial_Date
Register_Object Yppolhs_DD
Register_Object Ypprosf_DD
Register_Object YpYlop_DD


//AB/ AppBuild VIEW


//AB-StoreTopStart
Open ItemProm
use r16_2.rv
use sl31.sl
use v29_1v.vw
use dochpar.dg
Use nProsfor.vw
Use slPelata.sl
Use Cn.sl
use doakyrh.pkg
use doektel.pkg
use doupcamoves.pkg
use analysh.dg
Use StoixPar.dg
use doupmovesd.pkg
Use v40.vw

//AB-StoreTopEnd

//AB-IgnoreStart

Use dbView.Sub
Use DFAllEnt.pkg
Use dbForm.Sub
Use Txtbox.Sub
Use dbGrid.Sub
Use dbTabDlgS.Sub
Use Button.Sub
Use dbCmbfrm.Sub
Use Form.Sub
Use Cmbfrm.Sub
Use Rgroup.Sub
Use Radio.Sub

Use PELATES.DD
Use YPPROSF.DD
Use YPPOLHS.DD
Use YPYLOP.DD
Use KATERGO.DD
Use CN.DD
Use YPOPROSF.DD
Use CLORDERD.DD
Use PELATESA.DD
Use PARPROM.DD
Use PARPROMD.DD

//AB-IgnoreEnd

ACTIVATE_VIEW Activate_v32a FOR v32a

Object v32a is a dbViewSubS

    //AB-StoreTopStart
    property integer pierr      public 0
    property number  fpreis##   public 0
    property number  pifpa      public 0
    property string  pspromitem public ''
    property number  pnqty      public 0
    property integer pirec0     public 0
    property string  pnpelates  public ''
    property integer piState    public 0
    property integer pirec0camoves public 0

    Object MyArray2 is a Array

        Object Pelates_DD2 is a Pelates_DataDictionary
        End_Object    // Pelates_DD

        Function fspelates Returns string
             string sname
             number ncode
             send clear to pelates_dd2
             get field_current_value of clorderd_dd field clorderd.pelates_kodikos to ncode
             move ncode to pelates.kodikos
             send find to pelates_dd2 eq 1
             if (found=1) get field_current_value of pelates_dd2 field  pelates.etairia to sname
             else move '' to sname
             function_return sname
        end_Function

    End_Object


    //Object PelatesA_DD is a PelatesA_DataDictionary
    //End_Object    // PelatesA_DD

    //Object PelatesA_DD2 is a PelatesA_DataDictionary
    //End_Object    // PelatesA_DD

    Object itemprom_DD2 is a itemprom_DataDictionary
    End_Object    // itemprom_DD

    Function fnitemprom string item string prom Returns string
          clear itemprom
          move item to itemprom.caitems_code
          move prom to itemprom.prom_code
          find eq itemprom by index.1
          move itemprom.prom_itemcode to item
          set fpreis## to itemprom.prom_lprice
          function_return item
    end_Function

    Function fnCaitems string name Returns string
          clear caitemsl
          move name to caitemsl.caitems_code
          find eq caitemsl by index.1
          move caitemsl.caitems_name to name
          if (clorderd.eidos_paroxhs=2) move clorderd.paroxh_name to name
       //   set pifpa to caitemsl.caitems_fpa
          function_return name
    end_Function



    //AB-StoreTopEnd

    Set Label to "èò®òööú¢Âú™ ß®¶™ è®¶£ûüú¨´‚™"
    Set Size to 292 527
    Set Location to -1 3

    //AB-DDOStart

    Object Pelates_DD is a Pelates_DataDictionary

        //AB-StoreStart

        Set Read_Only_State to True

        Procedure OnConstrain
            Constrain Pelates.is_Client Eq '1'
        End_Procedure




        //AB-StoreEnd

    End_Object    // Pelates_DD

    Object Ypprosf_DD is a Ypprosf_DataDictionary
        Set Constrain_File to Cn.File_Number

        //AB-StoreStart

        Set Read_Only_State to True

        //AB-StoreEnd

    End_Object    // Ypprosf_DD

    Object Yppolhs_DD is a Yppolhs_DataDictionary

        //AB-StoreStart

        Set Read_Only_State to True

        //AB-StoreEnd

    End_Object    // Yppolhs_DD

    Object YpYlop_DD is a Ypylop_DataDictionary

        //AB-StoreStart

        Set Read_Only_State to True

        //AB-StoreEnd

    End_Object    // YpYlop_DD

    Object Katergo_DD is a Katergo_DataDictionary
    End_Object    // Katergo_DD

    Object Cn_DD is a Cn_DataDictionary
        Set DDO_Server to (Pelates_DD(self))
        Set DDO_Server to (Katergo_DD(self))
        Set Constrain_File to Pelates.File_Number

        //AB-StoreStart

        Set Read_Only_State to True

        //AB-StoreEnd

    End_Object    // Cn_DD

    Object Ypoprosf_DD is a Ypoprosf_DataDictionary
        Set DDO_Server to (Ypprosf_DD(self))
        Set DDO_Server to (Yppolhs_DD(self))
        Set DDO_Server to (YpYlop_DD(self))
        Set DDO_Server to (Cn_DD(self))
        Set Constrain_File to Cn.File_Number

        //AB-StoreStart

        Begin_Constraints
            Constrain Ypoprosf.Stadio Eq '2'
        End_Constraints


        Set Read_Only_State to True

        //AB-StoreEnd

    End_Object    // Ypoprosf_DD

    Object Clorderd_DD is a Clorderd_DataDictionary
        Set DDO_Server to (Ypoprosf_DD(self))
        Set Constrain_File to Ypoprosf.File_Number

        //AB-StoreStart

        Function Validate_Save  Returns Integer
             Local Integer iReturnVal
             local string msgstr
             local number lnqty diaf lnypolqty
             Forward Get Validate_Save  To iReturnVal
             If (Not(iReturnVal)) Begin
        //          // Insert Code Here
                 if ((clorderd.qtyprom <> 0) and (clorderd.pelates_kodikos=0));
                    error 25000 'Éú§ £ß¶®úÂ §ò öÂ§ú† °Â§û©û ©ú è®¶£ûüú¨´„ = 0)'
                 if ((clorderd.kinish_posothta <> 0) and (clorderd.pelates_kodikos=0));
                    error 25000 'Éú§ £ß¶®úÂ §ò öÂ§ú† °Â§û©û ©ú è®¶£ûüú¨´„ = 0)'
                 if (clorderd.caitems_code eq "" or clorderd.qty = 0) begin
                   move "" to msgstr
                   move " ÄõÁ§ò´û Ñöö®ò≠„. Éú§ ©¨£ß¢û®Èüû°ò§ ´ò òßò®òÂ´û´ò ßúõÂò " to msgstr
                   error 317 msgstr
                 end

                 get pnqty to lnqty
                 if (lnqty <> clorderd.qty) begin
                   if (lnqty > clorderd.qty) begin
                     calc (lnqty - clorderd.qty) to diaf
                     move clorderd.ypol_qty  to lnypolqty
                     move (lnypolqty - diaf) to clorderd.ypol_qty
                  end
                  if (lnqty < clorderd.qty) begin
                     calc (clorderd.qty - lnqty) to diaf
                     move clorderd.ypol_qty to lnypolqty
                     move (lnypolqty + diaf) to clorderd.ypol_qty
                  end
                 end
             End
             Function_Return iReturnVal
         End_Function   // Validate_Save


        Procedure New_Current_Record  Integer iOldRec  Integer iNewRec
           Forward Send New_Current_Record  iOldRec iNewRec
           // Insert Code Here
           set pnqty         to clorderd.qty
        End_Procedure   // New_Current_Record
        //Set Allow_Foreign_New_Save_State to true

        begin_constraints
            string npelates
            Integer iState
            get pnpelates to npelates
            Get piState Of v32a to iState
            if (npelates <> '') constrain clorderd.pelates_kodikos eq npelates
            If (iState) Begin
                If (iState=1) Constrain clorderd.Eidos_Paroxhs Eq 0
                Else          Constrain clorderd.Eidos_Paroxhs Ne 0
            End
        end_constraints











        //AB-StoreEnd

    End_Object    // Clorderd_DD

    Object Pelatesa_DD is a Pelatesa_DataDictionary
    End_Object    // Pelatesa_DD

    Object Parprom_DD is a Parprom_DataDictionary
    End_Object    // Parprom_DD

    Object Parpromd_DD is a Parpromd_DataDictionary
        Set DDO_Server to (Parprom_DD(self))
        Set Constrain_File to Parprom.File_Number
    End_Object    // Parpromd_DD

    Set Main_DD to (Pelates_DD(self))
    Set Server to (Pelates_DD(self))

    //AB-DDOEnd

    Object Pelates_Kodikos is a dbForm
        Entry_Item Pelates.Kodikos
        Set Size to 13 72
        Set Location to 4 65
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart

        Procedure Prompt
            Set piPelProm Of (slPelat(Self)) to 1 // Pelates
            Forward Send Prompt
        End_procedure

        //AB-StoreEnd

    End_Object    // Pelates_Kodikos

    Object Pelates_Etairia is a dbForm
        Entry_Item Pelates.Etairia
        Set Size to 13 359
        Set Location to 4 141
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart

        Set Enabled_State to False


        //AB-StoreEnd

    End_Object    // Pelates_Etairia

    Object Cn_Perigrafh is a dbFormSub
        Entry_Item Cn.Perigrafh
        Set Server to (Cn_DD(self))
        Set Size to 13 359
        Set Location to 18 141
        Set Color to clBtnFace
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Enabled_State to FALSE
        Set Item_Shadow_State Item 0 to TRUE
        Set Shadow_State Item 0 to TRUE
    End_Object    // Cn_Perigrafh

    Object TextBoxSub18 is a TextBoxSub
        Set Label to "Ñ®ö¶"
        Set Location to 18 12
        Set Size to 10 20
    End_Object    // TextBoxSub18

    Object Cn_Kodikos_Ergou is a dbFormSub
        Entry_Item Cn.Kodikos_ergou
        Set Server to (Cn_DD(self))
        Set Size to 13 72
        Set Location to 18 65
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart

        Procedure Prompt
            Integer iCode
            Get Field_Current_value Of pelates_DD field pelates.kodikos to iCode
            Set piPel Of (CN(Self)) to iCode
            Forward Send Prompt
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        End_procedure

        Procedure find_next
            forward send find_next
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        end_procedure

        Procedure find_previous
            forward send find_previous
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        end_procedure

        Procedure find_Ge
            forward send find_ge
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        end_procedure

        Procedure End_Of_Data
            forward send End_Of_Data
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        end_procedure

        Procedure Beginning_Of_Data
            forward send Beginning_Of_Data
            Send Rebuild_Constraints to Ypoprosf_DD
            Send Rebuild_Constraints to Clorderd_DD
            Send Beginning_Of_Data to Ypoprosf_ True
            Send Beginning_Of_Data to (The_Table(dbPageSub2(dbTabDialogSubS1(self)))) true
        end_procedure




        //AB-StoreEnd

    End_Object    // Cn_Kodikos_Ergou

    Object Ypoprosf_ is a dbGridSub
        Set Main_File to Ypoprosf.File_Number
        Set Server to (Ypoprosf_DD(self))
        Set Size to 218 79
        Set Location to 52 3
        Set Wrap_State to TRUE

        Begin_Row
            Entry_Item Cn.Kodikos_ergou
            Entry_Item Ypoprosf.Kodikos
        End_Row

        Set Form_Width    item 0 to 38
        Set Header_Label  item 0 to "è®¶©≠."

        Set Form_Width    item 1 to 33
        Set Header_Label  item 1 to "ò/ò"


        //AB-StoreStart
        set read_only_state to true
        set no_create_state to true
        Set Column_Option Item 0 to NoEnter True

        set currentrowcolor to 11468799
        set currentcellcolor to 11468799

        procedure mouse_click integer window integer char_pos
            Integer iCN iPel
            forward send mouse_click window char_pos
            if (Current_Record(Self)) Begin
                Get Field_Current_Value Of Pelates_DD   Field Pelates.Recnum    to iPel
                Get Field_Current_Value Of Cn_DD        Field Cn.Recnum         to iCn
                Set piPelaths   Of (nProsfor(Self)) to iPel
                Set piErgo      Of (nProsfor(Self)) to iCN
                Send Activate_nProsfor
            end
        end_procedure




        //AB-StoreEnd

    End_Object    // Ypoprosf_

    Object dbTabDialogSubS1 is a dbTabDialogSubS
        Set Size to 199 439
        Set Location to 55 84
        Object dbPageSub2 is a dbTabPageSubS
            Set Label to "dbTabPageSubS2"
            Object The_Table is a dbGrid
                Set Main_File to Clorderd.File_Number
                Set Server to (Clorderd_DD(self))
                Set Ordering to 1
                Set Size to 136 430
                Set Location to 1 3
                Set Wrap_State to TRUE

                Begin_Row
                    Entry_Item Clorderd.Recnum
                    Entry_Item Clorderd.Ergasies
                    Entry_Item Clorderd.Caitems_code
                    Entry_Item Clorderd.Pelates_kodikos
                    Entry_Item (fncaitems(self,clorderd.caitems_code))
                    Entry_Item Clorderd.Prom_item
                    Entry_Item Clorderd.Qty
                    Entry_Item Clorderd.Unitprice
                    Entry_Item Clorderd.Qtyprom
                    Entry_Item Clorderd.Ypolprom
                End_Row

                Set Form_Width    item 0 to 0
                Set Header_Label  item 0 to ""

                Set Form_Width    item 1 to 37
                Set Header_Label  item 1 to "Ñ®öò©"

                Set Form_Width    item 2 to 47
                Set Header_Label  item 2 to "â‡õ.ÑÂõ¶¨™"

                Set Form_Width    item 3 to 53
                Set Header_Label  item 3 to "è®¶£ûüú¨´„™"

                Set Form_Width    item 4 to 75
                Set Header_Label  item 4 to "èú®†ö®.ÑÂõ¶¨™"

                Set Form_Width    item 5 to 56
                Set Header_Label  item 5 to "ÑÂõ¶™ è®¶£ûü."

                Set Form_Width    item 6 to 35
                Set Header_Label  item 6 to "è¶©Ê´"

                Set Form_Width    item 7 to 38
                Set Header_Label  item 7 to "í†£„ ã¶§"

                Set Form_Width    item 8 to 39
                Set Header_Label  item 8 to "è¶© èò®"

                Set Form_Width    item 9 to 44
                Set Header_Label  item 9 to "ìß ßò®òö."


                //AB-StoreStart

                set child_table_state to true
                //Set Read_Only_State to true
                Set points Item  6 to  2
                Set Column_Option Item  0 to  NoEnter True
                set column_prompt_object item 3 to (itemprom(self))

                Set Column_Option Item  4 to  NoEnter True
                Set Column_Option Item  9 to  NoEnter True
                Set Column_Option Item  5 to  NoEnter True
                set currentrowcolor to 11468799
                set currentcellcolor to 11468799

                Procedure prompt_callback integer hPrompt_object
                   Local String lsValue
                   integer oID
                   Forward send prompt_callback hPrompt_object
                   set Fragmaitem of (sl22(self)) to ''
                End_procedure

                Procedure refresh integer iMode
                    Integer iRec
                    Forward Send Refresh iMode
                End_procedure

                procedure key integer ikey
                    integer icurrent icol
                    get current_item to icurrent
                    get current_col icurrent to icol
                    if ((icol=2) or (icol=3)) procedure_return
                    forward send key ikey
                end_procedure



                procedure item_change integer fromi integer toi returns integer
                    Integer iColumn iFieldNumber iFileNumber iColfrom iColTo
                    Number nQty nTimhMon nQtyTimhMon nPctEkpt nPosoEkpt preis## fpa##
                    Number nPosoNet nPctFpa nPosoFpa nPosoSynolo nFpa nextra
                    String sNameFrom sNameTo  rval## ritem## rprom##  name##  wname##;
                           sitem## msgstr## lscust## lsitem## lsvalue sname
                    local integer rval icol iBase_item
                    forward get msg_item_change fromi toi to rval
                    Get Column FromI    to iColumn
                    Get Column FromI    to iColFrom
                    Get Column ToI      to iColTo
                    if (focus(Desktop) = the_table(self)) begin
                       get Field_current_Value Of clorderd_dd Field clorderd.caitems_code to lsitem##
                       if (lsitem## <> '') begin
                        Get Current_Col to iCol
                        Get Base_Item to iBase_item
                        Get fsPelates Of MyArray2 to sname
                        if (sname<>'') Set Field_Changed_Value Of clorderd_dd Field clorderd.onoma to sname
                        get field_current_value of clorderd_dd field clorderd.caitems_code to lsvalue
                        set Fragmaprom1 of (itemprom(self)) to ''
                        set fragmaprom  of (itemprom(self)) to lsvalue
                        Get Field_current_Value Of clorderd_dd Field clorderd.pelates_kodikos to rprom##
                        move lsvalue to ritem##
                        move ritem## to sitem##
                        Move (fnitemprom(self,Ritem##,rprom##)) to ritem##
                        Move (fncaitems(self,sitem##)) to wname##
                       if (icol=2) set value (iBase_item+4) to wname##
                       if (icol=2) set value (iBase_item+5) to ritem##
                       Set Field_Changed_Value Of clorderd_dd Field clorderd.prom_item to ritem##
                       get Field_current_Value Of clorderd_dd Field clorderd.unitprice to preis##
                       if (preis## = 0) begin
                            get fpreis## to preis##
                            Set Field_Changed_Value Of clorderd_dd Field clorderd.unitprice to preis##
                       end

                      end
                    end

                    Get Data_File  Item iColumn                             to iFileNumber
                    Get Data_Field Item iColumn                             to iFieldNumber
                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameFrom
                    Move (Trim(sNameFrom))                                  to sNameFrom

                    Get Column ToI                                          to iColumn
                    Get Data_File  Item iColumn                             to iFileNumber
                    Get Data_Field Item iColumn                             to iFieldNumber
                    Get_Attribute DF_FIELD_NAME Of iFileNumber iFieldNumber to sNameTo
                    Move (Trim(sNameTo))                                    to sNameTo
                    Get Field_Current_Value Of clorderd_DD Field clorderd.qty To nQty
                    Get Field_Current_Value Of clorderd_DD Field clorderd.unitprice   To nTimhMon
                    If ((nQty<>0) And (nTimhMon<>0)) Begin
                        Move (round_number((nQty*nTimhMon),2)) to nQtyTimhMon
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posodisc   To nPosoEkpt
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posodisc  To nPosoEkpt
                        Set Field_Changed_Value Of clorderd_DD Field clorderd.net    To (nQtyTimhMon-nPosoEkpt)
                        Move (round_number((nQtyTimhMon-nPosoEkpt),2))                                   To nPosoNet
                        Get Field_Current_Value Of clorderd_DD Field clorderd.posofpa     To nPosoFpa
                        Move (nPosoNet+nPosoFpa+nextra)       to npososynolo
                        Set Field_Changed_Value Of clorderd_DD Field clorderd.posototal    To nPosoSynolo
                    End

                    procedure_return rval
                end_procedure

                Function Confirm_Delete_clorderd Returns Integer
                    Integer rval
                    Get confirm "É†òö®ò≠„ èò®òööú¢Âò™ ÑÂõ¶¨™ ??"  to rval
                    Function_Return rval
                End_Function




                //AB-StoreEnd

            End_Object    // The_Table

            Object Textbox1 is a Textbox
                Set Label to "âòüò®·"
                Set Location to 167 158
                Set Size to 10 27
            End_Object    // Textbox1

            Object dbFormSub1 is a dbFormSub
                Entry_Item Clorderd.Net
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 166 186
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart





                //AB-StoreEnd

            End_Object    // dbFormSub1

            Object Textbox3 is a Textbox
                Set Label to "î.è.Ä"
                Set Location to 167 239
                Set Size to 10 22
            End_Object    // Textbox3

            Object Custdtl_Posofpa is a dbFormSub
                Entry_Item Clorderd.Posofpa
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 166 263
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart







                //AB-StoreEnd

            End_Object    // Custdtl_Posofpa

            Object Textbox5 is a Textbox
                Set Label to "ëÁ§¶¢¶"
                Set Location to 167 316
                Set Size to 10 25
            End_Object    // Textbox5

            Object Custdtl_Posototal is a dbFormSub
                Entry_Item Clorderd.Posototal
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 166 342
                Set TextColor to 10485760
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                set enabled_state to false





                //AB-StoreEnd

            End_Object    // Custdtl_Posototal

            Object TextBoxSub39 is a TextBoxSub
                Set Label to "ëÁ§¶¢ò Ç®ò££„™"
                Set Location to 166 68
                Set Size to 10 57
                Set FontWeight to 800
            End_Object    // TextBoxSub39

            Object TextBoxSub40 is a TextBoxSub
                Set Label to "é§¶£ò è®¶£ûüú¨´„"
                Set Location to 137 2
                Set Size to 10 69
            End_Object    // TextBoxSub40

            Object Clorderd_Onoma is a dbFormSub
                Entry_Item Clorderd.Onoma
                Set Server to (Clorderd_DD(self))
                Set Size to 13 108
                Set Location to 136 78
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                set enabled_state to false
                //AB-StoreEnd

            End_Object    // Clorderd_Onoma

            Object ButtonSub8 is a ButtonSub
                Set Label to "ButtonSub3"
                Set Bitmap to "Write.bmp"
                Set Size to 20 23
                Set Location to 162 2
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart

                Set TooltipValue to "Ñ§û£‚®‡©û ß¶©¶´„´‡§ °ò† õû£†¶¨®öÂò ßò®òööú¢Âò™ ò§ò ß®¶£ûüú¨´„"

                Procedure OnClick
                  number nypoprosf qtyprom ypolprom unitpr nprom noprom nergo nqty naxia
                  Number nAAErgou nKodikosErgou nKodikosPel
                  integer retval ieidos iAAYpoprosf
                  date ddate dparaddate
                  string sitem sparoxh sparadosh sPromName sYpoprosfKodikos

                    Send Mouse_Down to v32a

                  Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.aa_ypoprosforas To nypoprosf
                  Set pnypoprosf  of (r16_2(self)) to nypoprosf
                  set pifrom      of (r16_2(self)) to 0
                  begin_transaction
                        Get YesNo_Box 'åò ò≠ò†®‚©‡ ´†™ ß¶©Ê´û´ú™ ßò®òööú¢Âò™ òßÊ ´ò ¨ßÊ¢¶†ßò ??' to RetVal
                        If (RetVal =MBR_yes) begin
                           send rebuild_constraints to clorderd_dd
                           send find to clorderd_dd first_record 1
                           while (found=1)
                              Get Field_Current_Value Of clorderd_DD Field clorderd.pelates_kodikos to nprom
                              Get Field_Current_Value Of clorderd_DD Field clorderd.Onoma           to sPromName
                              Get Field_Current_Value Of clorderd_DD Field clorderd.qtyprom         To qtyprom
                              Get Field_Current_Value Of clorderd_DD Field clorderd.ypolprom        To ypolprom
                              Get Field_Current_Value Of clorderd_DD Field clorderd.unitprice       to unitpr
                              Get Field_Current_Value Of Pelates_DD Field Pelates.kodikos           to nKodikosPel
                              Get Field_Current_Value Of cn_DD Field cn.kodikos_ergou               to nKodikosErgou
                              Get Field_Current_Value Of CN_DD Field CN.aa_ergou                    To nAAErgou
                              Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.AA_Ypoprosforas To iAAYpoprosf
                              Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.kodikos         To sYpoprosfKodikos

                              if (qtyprom <> 0.00) begin
                                 set Field_Changed_Value Of clorderd_DD Field clorderd.ypolprom To (ypolprom-qtyprom)
                                 set Field_Changed_Value Of clorderd_DD Field clorderd.qtyprom  To 0
                                 send request_save to clorderd_dd
                                 clear paralabh
                                 Get Field_Current_Value Of clorderd_DD Field clorderd.pelates_kodikos  To paralabh.pelates_kodikos
                                 Get Field_Current_Value Of clorderd_DD Field clorderd.caitems_code     To paralabh.caitems_code
                                 Get Field_Current_Value Of cn_DD Field cn.kodikos_ergou                to paralabh.kodikos_ergou
                                 Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.kodikos          To paralabh.prosfora
                                 Get Field_Current_Value Of CN_DD Field CN.aa_ergou                     To paralabh.aa_ergou
                                 Get Field_Current_Value Of Clorderd_dd field clorderd.ergasies         To paralabh.ergasies
                                 sysdate4 ddate
                                 move ddate                                                             to paralabh.date
                                 Get Field_Current_Value Of clorderd_DD Field clorderd.qty              To paralabh.qtyparag
                                 move qtyprom                                                           To paralabh.qtyprom
                                 move (ypolprom-qtyprom)                                                to paralabh.qtyypolprom
                                 Get Field_Current_Value Of clorderd_DD Field clorderd.ypol_qty         To paralabh.qtyypolparag
                                 saverecord paralabh
                                 // kodikas gia enhmervsh arxeion istorikothtas
                                if (noprom<>nprom) begin
                                   move nprom to noprom
                                   send clear to parprom_dd
                                   set Field_Changed_Value Of parprom_dd Field parprom.date             to ddate
                                   set Field_Changed_Value Of parprom_dd Field parprom.pelates_kodikos  to nprom
                                   set Field_Changed_Value Of parprom_dd Field parprom.AA_ergou         to nAAErgou
                                   set Field_Changed_Value Of parprom_dd Field parprom.Kodikos_ergou    to nKodikosErgou
                                   set Field_Changed_Value Of parprom_dd Field parprom.Ypoprosf_Kod     to sYpoprosfKodikos
                                   set Field_Changed_Value Of parprom_dd Field parprom.aa_ypoprosf      to iAAYpoprosf
                                   set Field_Changed_Value Of parprom_dd Field parprom.Prom_Name        to sPromName
                                   set Field_Changed_Value Of parprom_dd Field parprom.Client_Code      to nKodikosPel
                                   send request_save to parprom_dd
                                end
                                send clear to parpromd_dd

                                Get Field_Current_Value Of clorderd_DD Field clorderd.caitems_code to sitem
                                Get Field_Current_Value Of clorderd_DD Field clorderd.paroxh_name  to sparoxh
                                Get Field_Current_Value Of clorderd_DD Field clorderd.eidos_paroxhs to ieidos
                                Get Field_Current_Value Of clorderd_DD Field clorderd.paradosh  to sparadosh
                                Get Field_Current_Value Of clorderd_DD Field clorderd.paradosh_date to dparaddate
                                set Field_Changed_Value Of parpromd_dd Field parpromd.paradosh to sparadosh
                                set Field_Changed_Value Of parpromd_dd Field parpromd.paradosh_date to dparaddate
                                set Field_Changed_Value Of parpromd_dd Field parpromd.eidos_paroxhs to ieidos
                                // iEidos=0 Oxi paroxh  1=Amoigos paroxh  2=paroxh ylikoy
                                set Field_Changed_Value Of parpromd_dd Field parpromd.paroxh_name  to sparoxh
                                set Field_Changed_Value Of parpromd_dd Field parpromd.caitems_code to sitem
                                set Field_Changed_Value Of parpromd_dd Field parpromd.qty to qtyprom
                                set Field_Changed_Value Of parpromd_dd Field parpromd.unitpr to unitpr
                                Move (round_number((qtyprom*unitpr),2)) to naxia
                                set Field_Changed_Value Of parpromd_dd Field parpromd.net to naxia
                                send request_save to parpromd_dd
                             end
                           send find to clorderd_dd next_record 1
                           loop
                           send clear to ypoprosf_dd
                           move nypoprosf to ypoprosf.aa_ypoprosforas
                           send find to ypoprosf_dd eq 1
                        end
                  end_transaction

                  Set Changed_State Of Clorderd_DD to False

                End_Procedure // OnClick









                //AB-StoreEnd

            End_Object    // ButtonSub8

            Object TextBoxSub54 is a TextBoxSub
                Set Label to "èò®·õ¶©û úÂõ¶¨™"
                Set Location to 137 190
                Set Size to 10 61
            End_Object    // TextBoxSub54

            Object Clorderd_Paradosh is a dbComboFormSub
                Entry_Item Clorderd.Paradosh
                Set Server to (Clorderd_DD(self))
                Set Size to 13 82
                Set Location to 135 253
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart

                On_Key KSave_Record Send Request_Save

                Procedure Request_Save
                    Integer iRec
                    Get Field_Current_Value Of Clorderd_DD Field Clorderd.Recnum to iRec
                    If (iRec) Send Request_Save to Clorderd_DD
                End_Procedure

                Procedure Request_Delete
                End_Procedure

                //AB-StoreEnd

            End_Object    // Clorderd_Paradosh

            Object TextBoxSub55 is a TextBoxSub
                Set Label to "Ü£/§Âò"
                Set Location to 135 337
                Set Size to 12 26
            End_Object    // TextBoxSub55

            Object Clorderd_Paradosh_Date is a dbFormSub
                Entry_Item Clorderd.Paradosh_date
                Set Server to (Clorderd_DD(self))
                Set Size to 13 50
                Set Location to 134 364
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
            End_Object    // Clorderd_Paradosh_Date


            //AB-StoreStart

            Set Label to 'ÑÂõû ßò®òööú¢Âò™'




            //AB-StoreEnd

        End_Object    // dbPageSub2

        Object dbTabPageSubS3 is a dbTabPageSubS
            Set Label to "dbTabPageSubS3"
            Object The_Table1 is a dbGrid
                Set Main_File to Clorderd.File_Number
                Set Server to (Clorderd_DD(self))
                Set Size to 130 434
                Set Location to 1 1
                Set Wrap_State to TRUE

                Begin_Row
                    Entry_Item Clorderd.Prom_item
                    Entry_Item Clorderd.Qty
                    Entry_Item Clorderd.Posototal
                    Entry_Item Clorderd.Rial_date
                    Entry_Item Clorderd.Rial_qty
                    Entry_Item Clorderd.Ypol_qty
                    Entry_Item Clorderd.Akyrh_qty
                    Entry_Item Clorderd.Epistrofh_qty
                    Entry_Item Clorderd.Kinish_posothta
                    Entry_Item Clorderd.Kinhsh_poso
                    Entry_Item Clorderd.Me_analysh
                End_Row

                Set Form_Width    item 0 to 52
                Set Header_Label  item 0 to "ÑÂõ¶™ è®¶£ûü."

                Set Form_Width    item 1 to 32
                Set Header_Label  item 1 to "è¶©Ê´."

                Set Form_Width    item 2 to 50
                Set Header_Label  item 2 to "è¶©Ê ÑÂõ¶¨™"

                Set Form_Width    item 3 to 45
                Set Header_Label  item 3 to "Ñ°´ Ü£/§Âò"

                Set Form_Width    item 4 to 44
                Set Header_Label  item 4 to "Ñ°´.è¶©Ê´"

                Set Form_Width    item 5 to 41
                Set Header_Label  item 5 to "ìß¶¢ è¶©"

                Set Form_Width    item 6 to 32
                Set Header_Label  item 6 to "Ä° è¶©"

                Set Form_Width    item 7 to 39
                Set Header_Label  item 7 to "Ñß†© è¶©"

                Set Form_Width    item 8 to 42
                Set Header_Label  item 8 to "è¶©Ê´ â†§"

                Set Form_Width    item 9 to 38
                Set Header_Label  item 9 to "í†£„ ã¶§"

                Set Form_Width    item 10 to 13
                Set Header_Label  item 10 to "ë"
                Set Column_Checkbox_State  item 10 to True


                //AB-StoreStart

                Set points Item 1 to  2
                Set points Item 4 to  2
                Set points Item 5 to  2
                Set points Item 6 to  2
                Set points Item 7 to  2
                Set points Item 8 to  2

                Set Column_Option Item  0 to   NoPut   True
                Set Column_Option Item  1 to   NoEnter True
                Set Column_Option Item  2 to   NoEnter True
                Set Column_Option Item  4 to   NoEnter True
                set Column_Option Item  5 to   NoEnter True
                Set Column_Option Item  6 to   NoEnter True
                Set Column_Option Item  7 to   NoEnter True

                set currentrowcolor to 11468799
                set currentcellcolor to 11468799

                Procedure refresh integer iMode
                    Integer iRec
                    Forward Send Refresh iMode
                    Set read_only_state of (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object)))) to (ypoprosf.finish='1')
                    Set read_only_state of (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object)))) to (ypoprosf.akyrh='1')
                End_procedure



                //AB-StoreEnd

            End_Object    // The_Table1

            Object TextBoxSub41 is a TextBoxSub
                Set Label to "è®¶£ûüú¨´„™"
                Set Location to 151 89
                Set Size to 10 47
                Set FontWeight to 800
            End_Object    // TextBoxSub41

            Object Clorderd_Onoma is a dbFormSub
                Entry_Item Clorderd.Onoma
                Set Server to (Clorderd_DD(self))
                Set Size to 13 241
                Set Location to 150 162
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                set enabled_state to false
                //AB-StoreEnd

            End_Object    // Clorderd_Onoma

            Object TextBoxSub42 is a TextBoxSub
                Set Label to "ëÁ§¶¢ò Ç®ò££„™"
                Set Location to 169 89
                Set Size to 10 58
                Set FontWeight to 800
            End_Object    // TextBoxSub42

            Object Textbox6 is a Textbox
                Set Label to "èÊ©¶"
                Set Location to 169 162
                Set Size to 10 20
            End_Object    // Textbox6

            Object dbFormSub2 is a dbFormSub
                Entry_Item Clorderd.Net
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 167 190
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart





                //AB-StoreEnd

            End_Object    // dbFormSub2

            Object Textbox8 is a Textbox
                Set Label to "îèÄ"
                Set Location to 169 249
                Set Size to 10 19
            End_Object    // Textbox8

            Object Custdtl_Posofpa is a dbFormSub
                Entry_Item Clorderd.Posofpa
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 167 269
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                set enabled_state to false





                //AB-StoreEnd

            End_Object    // Custdtl_Posofpa

            Object Textbox9 is a Textbox
                Set Label to "ëÁ§¶¢¶"
                Set Location to 169 326
                Set Size to 10 27
            End_Object    // Textbox9

            Object Custdtl_Posototal is a dbFormSub
                Entry_Item Clorderd.Posototal
                Set Server to (Clorderd_DD(self))
                Set Size to 13 46
                Set Location to 167 357
                Set TextColor to 10485760
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right

                //AB-StoreStart
                set enabled_state to false





                //AB-StoreEnd

            End_Object    // Custdtl_Posototal

            Object ButtonSub6 is a ButtonSub
                Set Label to "Ä°Á®‡©û é¢û™ íû™ èò®òööú¢Âò™"
                Set Bitmap to "astro9.bmp"
                Set Size to 20 23
                Set Location to 164 1
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart

                Set TooltipValue to "Ä°Á®‡©û ¶¢û™ ´û™ ßò®òööú¢Âò™ "

                Procedure OnClick
                  integer libpo05 listatus retval akyrh irecnum
                  number  aaypoprosf
                  string msgstr lsstore wrecr orecr

                  Get YesNo_Box "è®¶©¶Æ„! Ä®ÆÂùú† û õ†òõ†°ò©Âò ú§û£‚®‡©û™ ò®ÆúÂ‡§\nö†ò ´û§ ò°Á®‡©û ßò®òööú¢Âò™. åò ©¨§úÆÂ©‡ ;"  to RetVal
                  If (RetVal =MBR_yes) begin
                      Get Field_Current_Value Of clorderd_DD Field clorderd.aa_ypoprosf To aaypoprosf
                      move (oDoakyrh(current_object)) to liBpo05
                      send beg_upakyrh to libpo05 aaypoprosf
                      Move "Ü ú§û£‚®‡©û ò®ÆúÂ‡§ ¶¢¶°¢û®Èüû°ú úß†´¨ÆÈ™" to MsgStr
                      Send Info_Box MsgStr
                      send clear to ypoprosf_dd
                      move aaypoprosf to ypoprosf.aa_ypoprosforas
                      send find to ypoprosf_dd eq 1
                      send beginning_of_data to (ypoprosf_(current_object))
                      send beginning_of_data to (the_table(dbpagesub2(dbTabDialogSubS1(current_object))))
                      send beginning_of_data to (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object))))
                   end
                End_Procedure // OnClick



                //AB-StoreEnd

            End_Object    // ButtonSub6

            Object ButtonSub7 is a ButtonSub
                Set Label to "èò®ò¢òô„ é¢û™ íû™ èò®òööú¢Âò™"
                Set Bitmap to "rigaft.bmp"
                Set Size to 20 23
                Set Location to 164 38
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart
                Set TooltipValue to "èò®ò¢òô„ ¶¢û™ ´û™ ßò®òööú¢Âò™ "

                Procedure OnClick
                  integer libpo05 listatus retval akyrh irecnum
                  number  aaypoprosf
                  string msgstr lsstore wrecr orecr

                  Get YesNo_Box "è®¶©¶Æ„! Ä®ÆÂùú† û õ†òõ†°ò©Âò ßò®ò¢òô„™ ¶¢û™ ´û™ ßò®òööú¢Âò™. åò ©¨§úÆÂ©‡ ;"  to RetVal
                  If (RetVal =MBR_yes) begin
                      Get Field_Current_Value Of clorderd_DD Field clorderd.aa_ypoprosf To aaypoprosf
                      move (oDoektel(current_object)) to liBpo05
                      send beg_upektel to libpo05 aaypoprosf
                      Move "Ü ú§û£‚®‡©û ò®ÆúÂ‡§ ¶¢¶°¢û®Èüû°ú úß†´¨ÆÈ™" to MsgStr
                      Send Info_Box MsgStr
                      send clear to ypoprosf_dd
                      move aaypoprosf to ypoprosf.aa_ypoprosforas
                      send find to ypoprosf_dd eq 1
                      send beginning_of_data to (ypoprosf_(current_object))
                      send beginning_of_data to (the_table(dbpagesub2(dbTabDialogSubS1(current_object))))
                      send beginning_of_data to (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object))))
                   end
                End_Procedure // OnClick


                //AB-StoreEnd

            End_Object    // ButtonSub7

            Object Clorderd_Caitems_Code is a dbFormSub
                Entry_Item Clorderd.Caitems_code
                Set Server to (Clorderd_DD(self))
                Set Size to 13 81
                Set Location to 134 162
                Set Color to clBtnFace
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Prompt_Button_Mode to pb_PromptOff
                Set Enabled_State to FALSE
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE
            End_Object    // Clorderd_Caitems_Code

            Object Clorderd_Recnum is a dbFormSub
                Entry_Item (fncaitems(self,clorderd.caitems_code))
                Set Server to (Clorderd_DD(self))
                Set Size to 13 156
                Set Location to 134 246
                Set Color to clBtnFace
                Set Label_Col_Offset to 2
                Set Label_Justification_Mode to jMode_Right
                Set Enabled_State to FALSE
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE
            End_Object    // Clorderd_Recnum

            Object TextBoxSub53 is a TextBoxSub
                Set Label to "ÑÂõ¶™ £ò™"
                Set Location to 134 89
                Set Size to 12 35
                Set FontWeight to 800
            End_Object    // TextBoxSub53

            Object ButtonSub12 is a ButtonSub
                Set Label to "ButtonSub4"
                Set Bitmap to "AssForm.bmp"
                Set Size to 21 24
                Set Location to 137 1
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart

                Set TooltipValue to "Ä§ò¢¨´†°„ ßò®ò°¶¢¶Áüû©û Ñ†õÈ§"

                Procedure OnClick
                    Integer iRec icheck
                    Send Mouse_Down to v32a
                    Get Field_Current_Value Of clorderd_DD  Field clorderd.rec0 to iRec
                    Get Field_Current_Value Of clorderd_DD  Field clorderd.me_analysh to icheck
                    If ((iRec)and(icheck))  Begin
                        Set pirec0 Of analysh to iRec
                        Set Modal_State Of Analysh to true
                        Send Popup      to analysh
                    End
                End_Procedure // OnClick
















                //AB-StoreEnd

            End_Object    // ButtonSub12


            //AB-StoreStart
            set label to 'èò®ò°¶¢¶Áüû©û ú†õÈ§'

            //AB-StoreEnd

        End_Object    // dbTabPageSubS3

        Object dbTabPageSubS4 is a dbTabPageSubS
            Set Label to "Éû£†¶¨®öÂò °†§„©ú‡§ ß®¶£ûüú¨´È§"
            Object TextBoxSub44 is a TextBoxSub
                Set Label to "âÂ§û©û"
                Set Location to 34 19
                Set Size to 10 25
                Set FontWeight to 800
            End_Object    // TextBoxSub44

            Object TextBoxSub46 is a TextBoxSub
                Set Label to "Ü£/§Âò"
                Set Location to 52 19
                Set Size to 10 34
                Set FontWeight to 800
            End_Object    // TextBoxSub46

            Object FormSub4 is a FormSub
                Set Size to 13 59
                Set Location to 31 100
                Set Label_Col_Offset to 2
                Set Prompt_Button_Mode to pb_PromptOn

                //AB-StoreStart
                Set Prompt_Object to (sl31(Current_object))
                procedure onchange
                    string lstypkin
                    get value item 0 to lstypkin
                    clear catypkin
                    move lstypkin to catypkin.catypkin_code
                    find eq catypkin by index.1
                    if (found=1)set value of (formsub5(current_object)) to catypkin.catypkin_descr
                    else set value of (formsub5(current_object)) to ''
                end_procedure







                //AB-StoreEnd

            End_Object    // FormSub4

            Object FormSub2 is a FormSub
                Set Size to 13 59
                Set Location to 49 100
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Date_Window
                Set Form_Mask Item 0 to "dd/MM/yyyy"
                Set Value Item 0 to " / /    "
            End_Object    // FormSub2

            Object FormSub7 is a FormSub
                Set Size to 13 59
                Set Location to 68 100
                Set Label_Col_Offset to 2
                Set Form_Datatype Item 0 to Mask_Numeric_Window

                //AB-StoreStart

                Set Numeric_Mask Item 0 to 10 0

                //AB-StoreEnd

            End_Object    // FormSub7

            Object FormSub8 is a FormSub
                Set Size to 13 24
                Set Location to 86 100
                Set Label_Col_Offset to 2
            End_Object    // FormSub8

            Object FormSub5 is a FormSub
                Set Size to 13 189
                Set Location to 31 169
                Set Color to clBtnFace
                Set Label_Col_Offset to 2
                Set Enabled_State to FALSE
                Set Item_Shadow_State Item 0 to TRUE
                Set Shadow_State Item 0 to TRUE
            End_Object    // FormSub5

            Object TextBoxSub49 is a TextBoxSub
                Set Label to "èò®ò©´ò´†°Ê"
                Set Location to 71 19
                Set Size to 10 47
                Set FontWeight to 800
            End_Object    // TextBoxSub49

            Object ComboFormSub1 is a ComboFormSub
                Set Size to 13 85
                Set Location to 106 99
                Set Label_Col_Offset to 2

                //AB-StoreStart

                Procedure Combo_fill_List
                    Send Combo_Add_Item '1 - èú¢·´û™ / Ñ®ö¶'
                    Send Combo_Add_Item '2 - Ñõ®ò £ò™'
                End_Procedure

                //AB-StoreEnd

            End_Object    // ComboFormSub1

            Object ButtonSub4 is a ButtonSub

                //AB-StoreTopStart

                //AB-StoreTopEnd

                Set Label to "Éû£†¶¨®öÂò â†§„©ú‡§ ë´ò Ä®ÆúÂò â†§„©ú‡§ "
                Set Bitmap to "aggel0.bmp"
                Set Size to 24 26
                Set Location to 95 331
                Set Focus_Mode to Pointer_Only

                //AB-StoreStart

                Procedure OnClick
                    integer libpo00 Ibpoid ierr retval ifs  iEnaLathos  lsrec0
                    number nypoprosf
                    string msgstr lskin lsdate lsparast  lscall lsseira  sstr sleft
                    Send Mouse_Down to v32a
                    Get YesNo_Box "Ä®ÆÂùú† û õ†òõ†°ò©Âò ú§û£‚®‡©û™ ò®ÆúÂ‡§ °†§„©ú‡§. åò ©¨§úÆÂ©‡ ;" to RetVal
                    move 0 to ifs
                    Move 0 to iEnaLathos
                    set pierr to 0

                    If (RetVal =MBR_yes) begin
                        get value of (comboformsub1(dbTabPageSubS4(dbTabDialogSubS1(self)))) to sstr
                        left sstr to sleft 1
                        get value of (formsub4(current_object)) to lskin
                        get value of (formsub2(current_object)) to lsdate
                        get value of (formsub7(current_object)) to lsparast
                        get value of (formsub8(current_object)) to lsseira
                        if ((sleft='') and (lskin ne '105')) move 2 to ifs

                        Get Field_Current_Value Of ypoprosf_DD Field ypoprosf.aa_ypoprosforas   To nypoprosf
                        Get Field_Current_Value Of clorderd_DD Field clorderd.rec0              To lsrec0

                        move lskin to catypkin.catypkin_code

                        find eq catypkin by index.1
                        if (not(found)) move 1 to ifs
                        if (lsdate = '') move 3 to ifs
                        if ((lskin="" or lsparast="" or lsrec0="") and (lskin ne '105')) begin
                           Move "Éú§ £ß¶®È §ò õû£†¶¨®ö„©‡ °†§„©ú†™. Ñßò§‚¢úöÆ¶™ ©´¶†ÆúÂ‡§"  to MsgStr
                           Send Info_Box MsgStr
                        end
                        else if (ifs=1) send info_box 'Ä§Áßò®°´¶™ °‡õ†°Ê™ °Â§û©û™' 'ë≠·¢£ò'
                        else if (ifs=2) send info_box 'Ä§Áßò®°´¶™ ´Êß¶™ ßò®·õ¶©û™' 'ë≠·¢£ò'
                        else if (ifs=3) send info_box 'Ü£/§Âò °†§„©ú‡§ òßò®òÂ´û´û' 'ë≠·¢£ò'
                        else begin

                            BEGIN_TRANSACTION

                            move (oDoupCamoves(current_object)) to liBpo00
                            Set pienalathos of libpo00 to False
                            Set psModule Of liBpo00 to '02'
                            Set piYpoprosf Of liBpo00 to nYpoprosf
                            send beg_upcamoves to libpo00 lskin lsdate lsparast nypoprosf lsseira sleft

                            get pierr                   to ierr
                            get pienalathos of libpo00  to ienalathos

                            If (NOT(iErr)) Begin
                               move (oDoupmovesd(current_object)) to liBpo00
                               Set piErr                    to False
                               Set pienalathos of libpo00   to False
                               Set psModule Of liBpo00 to '02'
                               get pirec0 to lsrec0
                               send beg_upcamoves to libpo00 lskin lsdate lsparast nypoprosf lsseira sleft lsrec0
                               get pierr to ierr

                               If (NOT(iErr)) Begin

                                Move (Dochpar(current_object)) to Ibpoid
                                Set pnypoprosf       of Ibpoid to nypoprosf
                                send DoProcess       to Ibpoid

                                send clear to ypoprosf_dd
                                move nypoprosf to ypoprosf.aa_ypoprosforas
                                send find to ypoprosf_dd eq 1
                                send beginning_of_data to (YPOPROSF_(SELF)) true
                                send beginning_of_data to (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object)))) true
                                set value of (formsub2(dbTabPageSubS4(dbTabDialogSubS1(current_object)))) to ''
                                set value of (comboformsub1(dbTabPageSubS4(dbTabDialogSubS1(self)))) to ''
                                set value of (formsub4(dbTabPageSubS4(dbTabDialogSubS1(current_object)))) to ''
                                set value of (formsub7(dbTabPageSubS4(dbTabDialogSubS1(current_object)))) to ''
                                set value of (formsub8(dbTabPageSubS4(dbTabDialogSubS1(current_object)))) to ''
                                if (lskin ne '105') begin
                                    Get pirec0   to lsrec0
                                    if (lsrec0<>0) begin
                                    Set pirec0   Of (v29_1v(Self)) to (Trim(lsrec0))
                                    set psmodule of (v29_1v(self)) to '02'
                                    Set piEnaLathos Of (v29_1v(Self)) to iEnaLathos
                                    send activate_v29_1v
                                    end
                                    else send info_box "Éú§ ô®‚üû°ò§ úöö®ò≠‚™ ß®¶™ úßú•ú®öò©Âò " 'è¢û®¶≠¶®Âò'
                                end
                              End
                            end
                            END_TRANSACTION
                            If (piTxtID(oDoupCamoves(Self))<>0) Send Deactivate to (piTxtID(oDoupCamoves(Self)))
                            If (piTxtID(oDoupmovesd (Self))<>0) Send Deactivate to (piTxtID(oDoupmovesd (Self)))
                        end
                   end
                End_Procedure // OnClick

                //AB-StoreEnd

            End_Object    // ButtonSub4

            Object TextBoxSub51 is a TextBoxSub
                Set Label to "ëú†®·"
                Set Location to 89 19
                Set Size to 10 27
                Set FontWeight to 800
            End_Object    // TextBoxSub51

            Object TextBoxSub52 is a TextBoxSub
                Set Label to "íÊß¶™ èò®·õ¶©û™"
                Set Location to 109 19
                Set Size to 10 60
                Set FontWeight to 800
            End_Object    // TextBoxSub52

        End_Object    // dbTabPageSubS4

    End_Object    // dbTabDialogSubS1

    Object TextBoxSub19 is a TextBoxSub
        Set Label to "è®¶©≠¶®‚™ Ä§·¢¨©û"
        Set Location to 33 5
        Set Size to 18 51
        Set FontWeight to 600
        Set Justification_Mode to jMode_Center
    End_Object    // TextBoxSub19

    Object TextBoxSub35 is a TextBoxSub
        Set Label to "èú¢·´û™"
        Set Location to 5 12
        Set Size to 10 30
        Set Justification_Mode to jMode_Left
    End_Object    // TextBoxSub35

    Object FormSub1 is a FormSub
        Set Size to 19 23
        Set Location to 33 403
        Set Label_Col_Offset to 2

        //AB-StoreStart
        set shadow_state to true
        //AB-StoreEnd

    End_Object    // FormSub1

    Object frmRed is a FormSub
        Set Size to 7 9
        Set Location to 33 447
        Set Color to clGreen
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set Shadow_State    to True
        Set Enabled_State   to False
        Set Color           to clgreen




        //AB-StoreEnd

    End_Object    // frmRed

    Object frmGreen is a FormSub
        Set Size to 7 9
        Set Location to 40 447
        Set Color to clYellow
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set Shadow_State    to True
        Set Enabled_State   to False
        Set Color           to clyellow



        //AB-StoreEnd

    End_Object    // frmGreen

    Object TextBoxSub36 is a TextBoxSub
        Set Label to "èú®ò†Èüû°ú"
        Set Location to 31 460
        Set Size to 10 43
    End_Object    // TextBoxSub36

    Object TextBoxSub37 is a TextBoxSub
        Set Label to "Ñ°°®ú£„"
        Set Location to 39 460
        Set Size to 10 39
    End_Object    // TextBoxSub37

    Object frmGreen is a FormSub
        Set Size to 7 9
        Set Location to 49 447
        Set Color to clRed
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Form_TypeFace Item 0 to "MS Sans Serif"

        //AB-StoreStart
        Set Shadow_State    to True
        Set Enabled_State   to False
        Set Color           to clred



        //AB-StoreEnd

    End_Object    // frmGreen

    Object TextBoxSub38 is a TextBoxSub
        Set Label to "Ä°¨®û"
        Set Location to 47 460
        Set Size to 9 35
    End_Object    // TextBoxSub38

    Object Ypoprosf_Date is a dbFormSub
        Entry_Item Ypoprosf.Metasx_date
        Set Server to (Ypoprosf_DD(self))
        Set Label to "Ü£/§Âò ßò®òööú¢Âò™"
        Set Size to 13 55
        Set Location to 34 195
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart
        set enabled_state to false
        procedure onchange
           string fin akyrh
           Get Field_Current_Value Of (ypoprosf_DD(self)) Field ypoprosf.finish To fin
           Get Field_Current_Value Of (ypoprosf_DD(self)) Field ypoprosf.akyrh  To akyrh
           if (fin = '1') Set Color Of FormSub1 to clgreen
           else if (akyrh = '1') Set Color Of FormSub1 to clred
           else Set Color Of FormSub1 to clyellow
        end_procedure


        //AB-StoreEnd

    End_Object    // Ypoprosf_Date

    Object Ypoprosf_Rial_Date is a dbFormSub
        Entry_Item Ypoprosf.Rial_date
        Set Server to (Ypoprosf_DD(self))
        Set Label to "Ü£/§Âò ßú®òÂ‡©û™"
        Set Size to 13 55
        Set Location to 34 319
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart
        set enabled_state to false
        //AB-StoreEnd

    End_Object    // Ypoprosf_Rial_Date

    Object ButtonSub10 is a ButtonSub

        //AB-StoreTopStart


        //AB-StoreTopEnd

        Set Label to "ButtonSub9"
        Set Bitmap to "convert3.bmp"
        Set Size to 20 23
        Set Location to 255 88
        Set Focus_Mode to Pointer_Only

        //AB-StoreStart

        Set TooltipValue to "Ñ£≠·§†©û ú†õÈ§ ßò®òööú¢Âò™ ©¨ö°ú°®†£‚§¶¨ è®¶£ûüú¨´„"

        Procedure OnClick
            string npelates
         //   Get Field_Current_Value Of PelatesA_DD Field PelatesA.Kodikos to npelates
            get value of (pelates_kodik(self)) to npelates
            Set pnpelates to npelates
            send rebuild_constraints to clorderd_dd
            send beginning_of_data to (the_table(dbpagesub2(dbTabDialogSubS1(current_object)))) true
            send beginning_of_data to (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object)))) true
        End_Procedure // OnClick


















        //AB-StoreEnd

    End_Object    // ButtonSub10

    Object Pelates_Kodik is a dbFormSub
        Entry_Item Pelatesa.Kodikos
        Set Server to (Pelatesa_DD(self))
        Set Size to 13 64
        Set Location to 262 114
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right

        //AB-StoreStart

        //Set Server to (Pelates_DD2(Self))

        Procedure Request_Save
        End_Procedure

        Procedure Request_Delete
        End_Procedure

        Procedure Prompt
            Set piMonoParoxh Of (slPelata(Self)) to 0
            Set piPelProm    Of (slPelata(Self)) to 2 // Promhtheytes
            Forward Send Prompt
        End_Procedure







        //AB-StoreEnd

    End_Object    // Pelates_Kodik

    Object Pelates_Etairia is a dbFormSub
        Entry_Item Pelatesa.Etairia
        Set Server to (Pelatesa_DD(self))
        Set Size to 13 164
        Set Location to 262 184
        Set Color to clBtnFace
        Set Label_Col_Offset to 2
        Set Label_Justification_Mode to jMode_Right
        Set Enabled_State to FALSE
        Set Item_Shadow_State Item 0 to TRUE
        Set Shadow_State Item 0 to TRUE

        //AB-StoreStart

        //Set Server to (Pelates_DD2(Self))

        Procedure Request_Save
        End_Procedure

        Procedure Request_Delete
        End_Procedure



        //AB-StoreEnd

    End_Object    // Pelates_Etairia

    Object RadioGroupSub1 is a RadioGroupSub
        Set Label to "ÑÂõû / ìßû®ú©Âú™"
        Set Size to 23 159
        Set Location to 253 354
        Object Radio1 is a RadioSub
            Set Label to "é¢ò"
            Set Size to 10 25
            Set Location to 11 5
        End_Object    // Radio1

        Object Radio2 is a RadioSub
            Set Label to "ÑÂõû"
            Set Size to 10 27
            Set Location to 11 60
        End_Object    // Radio2

        Object Radio3 is a RadioSub
            Set Label to "èò®¶Æ„"
            Set Size to 10 39
            Set Location to 11 115
        End_Object    // Radio3


        //AB-StoreStart

        Procedure Notify_Select_State integer iToItem integer iFromItem
            Set piState to iToItem
            send rebuild_constraints to clorderd_dd
            send beginning_of_data to (the_table(dbpagesub2(dbTabDialogSubS1(current_object)))) true
            send beginning_of_data to (the_table1(dbTabPageSubS3(dbTabDialogSubS1(current_object)))) true
        End_Procedure




        //AB-StoreEnd

    End_Object    // RadioGroupSub1


    //AB-StoreStart
    set verify_data_loss_msg    to get_no_confirmation
    set verify_save_msg         to get_no_confirmation
    set verify_exit_msg         to get_no_confirmation
    Procedure Activate_View Returns Integer
        date ddate
        integer rval
        set fragmaitem of (sl22(self)) to ''
        Forward Get Msg_Activate_View to rVal
    End_Procedure





































    //AB-StoreEnd

End_Object    // v32a


//AB-StoreStart







//AB-StoreEnd

//AB/ End_Object    // prj
