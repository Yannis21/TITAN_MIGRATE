//DDB-FileStart
//DDB-HeaderStart

// File Name : GMOVE.DD
// Class Name: Gmove_DataDictionary
// Revision  : 99
// Version   : 2

Use  Windows           // Basic Definitions
Use  DataDict          // DataDictionary Class Definition
Use  DDvalTbl          // Validation Table Class Definitions

Open Gmove

//DDB-HeaderEnd
//DDB-ValidationStart

Register_Object Gmove_Gmove_A_Code_VT

Object Gmove_Gmove_A_Code_VT  is a CodeValidationTable
    Set Type_Value        To "AITIOL"
    Set Validate_State    To FALSE
    Set Allow_Blank_State To TRUE
    //DDB-ValidationCustomStart
    //DDB-ValidationCustomEnd
End_Object   // Gmove_Gmove_A_Code_VT
//DDB-ValidationEnd
//DDB-SelectionStart
//DDB/ ExternalSelectionList SL002  sl002.sl
Register_Object SL002
//DDB-SelectionEnd
Open Nomisma
Open Gplanmod //´¶ ò®ÆúÂ¶ ò¨´Ê Æ®ú†·ùú´ò† £Ê§¶§ ö†ò read


//´¶ Gmove ©´û§ update/backout ú§û£ú®È§ú† ´ò ú•„™ ßúõÂò:
//   Gmove                        garticl
//   x0                           xreline
//   po                           pisline
//  ----------                    omada
//   x00                          other
//   poo                          mlines
//  ----------
//   xr
//   pr                           sx2
//                                sp2
//                                syp2
//                               ---------
//                                sx0
//                                sp0
//                                syp0
//                                syp0k
//                               ---------
//                                sx00
//                                sp00
//                                syp00
//                                syp00k
//                               ---------
//                                sxr
//                                spr
//                                sypr
//                                syprk

//´¶ Gmove ©´û§ request_save/delete ú§û£ú®È§ú† ´ò ú•„™ ò®ÆúÂò/ßúõÂò:
//    ghmnies  -->   gmhnes       gplan
//    sx2            sx2          myfno1
//    sp2            sp2          myfaxia1
//  ----------
//    sx0            sx0          myf2  ??
//    sp0            sp0          myfaxia2
//  ----------
//    sx00           sx00
//    sp00           sp00
//  ----------
//    sxr            sxr
//    spr            spr
//  ----------
//    sx1            sx1
//    sp1            sp1
//  ----------
//    gmnorec        ghmnorec



// a n a l y s i s    g i a    t i s    l o g i s t i k e s    p e r i o d o u s
//¨ß¶¢¶ö†©£Ê™ ¢¶ö†©´†°„™ ßú®†Êõ¶¨ ò§ò≠¶®·™:
//òß¶ ´ò üú‡®û£‚§ò û£ú®¶¢Êö†ò ‚Æ¶¨£ú hard coded ´†™ ú•„™ ¢¶ö†©´†°‚™ ßú®†Êõ¶¨™:
//                                               Ü£ú®¶£û§Âò               ìììì     PERIOD
//-109  èÑêàéÉéë    -9                                                               -9
//-108  èÑêàéÉéë    -8                                                               -8
//-107  èÑêàéÉéë    -7                                                               -7
//-106  èÑêàéÉéë    -6                                                               -6
//-105  ÄèéÇêÄîÜ    -5*******Ñöö®ò≠‚™ Äß¶ö®ò≠„™    23/05/98 (fixed)        1998      -5
//-104  èÑêàéÉéë    -4                                                               -4
//-103  èÑêàéÉéë    -3                                                               -3
//-102  èÑêàéÉéë    -2                                                               -2
//-101  èÑêàéÉéë    -1                                                               -1

//   0  12 (max 24) ÜãÑêéäéÇàÄâÑë èÑêàéÉéà ïêÜëóë  23/05/98 - 30/06/99     1998-1999  5-6-7..12-1-2..6

// 101  èÑêàéÉéë    +1                                                              101
// 102  èÑêàéÉéë    +2                                                              102
// 103  èÑêàéÉéë    +3                                                              103
// 104  íÄâíéèéàÜëÜ +4*******Ñöö®ò≠‚™ ´ò°´¶ß¶Âû©û™                                  104
// 105  èÑêàéÉéë    +5                                                              105
// 106  èÑêàéÉéë    +6                                                              106
// 107  èÑêàéÉéë    +7                                                              107
// 108  èÑêàéÉéë    +8                                                              108
// 109  àëéäéÇàëãéë +9*******Ñöö®ò≠‚™ â¢ú†©Â£ò´¶™  30/06/99 (fixed)        1999     109

//  é† û£ú®¶¢¶ö†ò°¶Â ßú®Â¶õ¶† Æ®„©ú‡™ ò§´†©´¶†Æ¶Á§ ©´¶Á™ 12 („ maximum 24 £„§ú™
//  ö†ò ´û§ ßú®Âß´‡©û ´û™ ¨ßú®õ‡õú°·£û§û™ Æ®„©û™), ©´Â™ ¶ß¶Âú™ °ò´òÆ‡®¶Á§´ò† £ú
//   ‚´¶™+£„§ò+û£ú®¶£û§Âò Ê¢ú™ ¶† úöö®ò≠‚™.

//  ìß·®Æ¶¨§ úßÂ©û™ ·¢¢ú™ 3 ¢¶ö†©´†°‚™ ßú®Â¶õ¶†, ¶† ¶ß¶Âú™ Æ®û©†£¶ß¶†¶Á§´ò†
//  ö†ò ´û§ ßò®ò°¶¢¶Áüû©û ´‡§ úöö®ò≠È§ Äß¶ö®ò≠„™ (Ä§¶Âö£ò´¶™),
//  à©¶¢¶ö†©£¶Á (â¢ú†©Â£ò´¶™) °ò† ´ò°´¶ß¶Âû©û™.

//  ÄßÊ ú°úÂ °ò† ß‚®ò, ´¶ ©Á©´û£ò £ò™ õÂ§ú† ´û§ õ¨§ò´Ê´û´ò ¶®†©£¶Á 9 ß®¶ûö¶¨£‚§‡§
//  °ò† 8 úß¶£‚§‡§ ßú®†Êõ‡§, ©´†™ ¶ß¶Âú™ °ò´òÆ‡®¶Á§´ò† °ò´· ßú®Âß´‡©û ¶† ú§õ†·£ú©ú™
//  úö®ò≠‚™.

//  é† úöö®ò≠‚™ ©ú ò¨´‚™ ´†™ ¢¶ö†©´†°‚™ ßú®†Êõ¶¨™, °ò´òÆ‡®¶Á§´ò† £ú
//  û£ú®¶¢¶ö†ò°Ê ‚´¶™+°‡õ†°Ê ¢¶ö†©´†°„™ ßú®†Êõ¶¨+fixed û£ú®¶£û§Âò.
//  H fixed û£ú®¶£û§Âò, ö†ò £‚§ ´†™ ß®¶ûö¶Á£ú§ú™ ´û™ 1 ¢¶ö†©´†°‚™ ßú®†Êõ¶¨™
//  úÂ§ò† û year_xrhshFROM, ú§È ö†ò ´†™ £ú´òöú§‚©´ú®ú™ ´û™ 1 ¢¶ö†©´†°‚™
//  ßú®†Êõ¶¨™ úÂ§ò† û year_xrhshTO.

//  Move liYear   to Gmhnes.Gmhnes_YYYY    //û£ú®¶¢¶ö†ò°Ê ‚´¶™
//  Move liPeriod to Gmhnes.Gmhnes_PERIOD  //¢¶ö†©´†°„ ßú®Â¶õ¶™

// a n a l y s i s    g i a    t i n    M Y F

////// js 09/04/2002 Use Convert.pkg   //package £ú´ò´®¶ß„™ §¶£†©£·´‡§ ‚¢úöÆ¶™ ö†ò ò®§û´†°‚™ ò•Âú™ ???

Class Gmove_DataDictionary  is a DataDictionary_Sec


      //****************************************************************************************
      //**************P R O C E D U R A L    Ñ å Ü ãÑ ê ó ë Ü    à ë é Ö ì Ç à ó å**************
      //****************************************************************************************


      //°ò¢úÂ´ò† òßÊ save+delete_main_file, ´ò ú£ß¢ú°Ê£ú§ò ò®ÆúÂò úÂ§ò† locked
      // °ò† transaction is enabled!
      //úßÂ©û™ ‚Æ‡ current record ©ú Ê¢ò ´ò parents.
      //°ò¢úÂ ´û§ private.update_gmhnes_ghmnies
      //úß†©´®‚≠ú† ´ò ú•„™ ¢·üû: 3001 :ò°ò´·¢¢û¢¶ ß®Ê©û£¶ (¢·ü¶™ ´¶¨ °Èõ†°ò)
      //                         3002 :ò§Áßò®°´¶™ ßú®†¢ûß´†°Ê™
      //                         3003 :ò§Áßò®°´¶™ ßú®†¢ûß´†°Ê™+ò®Æ†°Ê™  (ò¨´Ê ´¶ error ¨ß¶õû¢È§ú† Æò¢ò©£‚§û ô·©û!)
      //                         3004 :õ‚§ £ßÊ®ú©ò §ò ô®È gplan by recr (ò¨´Ê ´¶ error ¨ß¶õû¢È§ú† Æò¢ò©£‚§û ô·©û!)
      //                         3005 :õ‚§ ‚´®ú•ú ¶Á´ú update ¶Á´ú backout (¢·ü¶™ °Èõ†°ò)
      //úßÂ©û™ òß¶ ¢·ü¶™ ´¶¨ °Èõ†°ò, £ß¶®úÂ §ò õÈ©ú† °ò† Error 10001 "Wrong Num Arguments!\n\nPlease Call Solution!"
      //·¢¢ò ß†üò§· errors úÂ§ò† 1017 :òßòö¶®úÁú´ò† Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶
      //                         1018 :òßòö¶®úÁú´ò† ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶

//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      
//      Function private.Trexe Returns Integer
//               Integer liError liGplan_Recnum

//               //£ûõú§†©£Ê™ property ö†ò ´¨ÆÊ§ ¢·üû
//               Set piError to 0

//               //òß¶ü„°ú¨©û ´®‚Æ¶§´¶™ gplan recnum
//               Move Gplan.Recnum to liGplan_Recnum

//               Send private.Update_Gmhnes_Ghmnies //ß®¶©¶Æ„! ò¢¶†È§ú† ´¶ gplan current record !

//               //ò§·°¢û©û ´®‚Æ¶§´¶™ gplan recnum
//               Clear Gplan
//               Move liGplan_Recnum to Gplan.Recnum
//               Find Eq Gplan.Recnum
//               If (Found = 0);
//               Begin
//                    Set piError to 0     //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û °Â§û©û
//                    Function_Return 3003 //õ†ò°¶ß„ ´¶¨ transaction!
//               End                       //ò§Áßò®°´¶™ ò®Æ†°Ê™ (ò¨´Ê ´¶ error ¨ß¶õû¢È§ú† Æò¢ò©£‚§û ô·©û!)
//                                         //õ†Ê´† õ‚§ £ßÊ®ú©ò §ò •ò§òô®È gplan by recnum!

//               //ò§·ö§‡©û property ö†ò ´¨ÆÊ§ ¢·üû
//               Get piError to liError

//               //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û °Â§û©û
//               Set piError to 0
//               Function_Return liError
//      End_Function //private.trexe
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      


      //°ò¢úÂ´ò† òßÊ ´û§ private.trexe
      //°ò¢úÂ ´û§ private.update_isozygia 1 ≠¶®· ö†ò backout (ò≠òÂ®ú©û ßò¢ò†È§ ´†£È§) °ò†
      //                                  1 ≠¶®· ö†ò update  (ß®Ê©üú©û §‚‡§ ´†£È§)
      //ß®‚ßú† §ò ¶ß´†£ò®†©üúÂ ö†ò °ò¢Á´ú®û ´òÆÁ´û´ò, Êß‡™ ò§ò¢Áú´ò† ßò®ò°·´‡:
      //¶† ß†üò§‚™ ßú®†ß´È©ú†™ úÂ§ò† ¶† ú•„™:
      //  update     backout    u * b   vala   valb   remarks
      //    0           0         0      -      -     òõÁ§ò´¶§ (error 3005=¢·ü¶™ ©´¶§ °Èõ†°ò)
      //    0           1         0     false  true   delete Gmove
      //    1           0         0     true   false  create Gmove
      //    1           1         1       ?     ?     edit   Gmove
      //ú§È ©´¶ delete+create Gmove ´ò ß®·ö£ò´ò úÂ§ò† •ú°·üò®ò Ê©¶§ ò≠¶®· ´¶ validation ´¶¨ gplan,
      //©´¶ edit Gmove, †©ÆÁ¶¨§ ´ò ßò®ò°·´‡:
      //                                                                            vala   valb
      // if gplan_recra = gplan_recrb --> validate only at update                   true   false õû¢òõ„ °·§‡ edit ©´¶ Âõ†¶ gplan (ò¢¢·ù‡ £Ê§¶§ Æ®‚‡©û/ßÂ©´‡©û)
      // else                             validate both at backout and at update    true   true  õû¢òõ„ ò¢¢·ù‡ ´¶¨¢·Æ†©´¶§ °‡õ†°Ê
      //´‚¢¶™, ú¢‚öÆ¶§´ò† Ê¢ú™ ¶† ßò®·£ú´®¶† before+after ú·§ úÂ§ò† Â©ú™,
      //¶ßÊ´ú õ‚§ ú§û£ú®È§‡    â Ä á é ä é ì    ´ò †©¶ùÁö†ò (ßÆ °·§‡ £Ê§¶§ ò¢¢òö„ ò†´†¶¢¶öÂò™)
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      
//      Procedure private.Update_Gmhnes_Ghmnies
//                Integer liBackout liUpdate  liError

//                Integer liB_Validate        liA_Validate

//                Integer liB_Gthhmgio_Period
//                String  lsB_Gplan_Recr
//                Date    ldB_Garticl_Hmnia
//                Number  lnB_Gmove_X2       lnB_Gmove_P2
//                Number  lnB_Gmove_X0       lnB_Gmove_P0
//                Number  lnB_Gmove_X00      lnB_Gmove_P00
//                Number  lnB_Gmove_XR       lnB_Gmove_PR
//                Number  lnB_Gmove_X1       lnB_Gmove_P1

//                Integer liA_Gthhmgio_Period
//                String  lsA_Gplan_Recr
//                Date    ldA_Garticl_Hmnia
//                Number  lnA_Gmove_X2       lnA_Gmove_P2
//                Number  lnA_Gmove_X0       lnA_Gmove_P0
//                Number  lnA_Gmove_X00      lnA_Gmove_P00
//                Number  lnA_Gmove_XR       lnA_Gmove_PR
//                Number  lnA_Gmove_X1       lnA_Gmove_P1

//                //ò§·ö§‡©û °ò´·©´ò©û™ ´¶¨ ddo
//                Get piBackout    to liBackout
//                Get piUpdate     to liUpdate

//                //ö†ò ¢Êö¶¨™ ò©≠ò¢úÂò™, ‚¢úöÆ¶™ backout & update
//                If (;
//                     (liBAckout = 0) and;
//                     (liUpdate  = 0);
//                   ) Begin
//                      Set piError to 3005 //õ‚§ ‚´®ú•ú ¶Á´ú update ¶Á´ú backout (¢·ü¶™ °Èõ†°ò)
//                      Procedure_Return    //õ†ò°¶ß„ ´¶¨ transaction! (£·¢¢¶§ ´ú¢úÂ‡™ òßÂüò§¶, but who knows!
//                     End

//                //ò§·ö§‡©û ßò¢ò†È§ ´†£È§
//                Get piB_Gthhmgio_Period to liB_Gthhmgio_Period
//                Get pdB_Garticl_Hmnia   to ldB_Garticl_Hmnia
//                Get pnB_Gmove_X2       to lnB_Gmove_X2
//                Get pnB_Gmove_P2       to lnB_Gmove_P2
//                Get pnB_Gmove_X0       to lnB_Gmove_X0
//                Get pnB_Gmove_P0       to lnB_Gmove_P0
//                Get pnB_Gmove_X00      to lnB_Gmove_X00
//                Get pnB_Gmove_P00      to lnB_Gmove_P00
//                Get pnB_Gmove_XR       to lnB_Gmove_XR
//                Get pnB_Gmove_PR       to lnB_Gmove_PR
//                Get pnB_Gmove_X1       to lnB_Gmove_X1
//                Get pnB_Gmove_P1       to lnB_Gmove_P1
//                Get psB_Gplan_Recr     to lsB_Gplan_Recr

//                //ò§·ö§‡©û §‚‡§ ´†£È§
//                Get piA_Gthhmgio_Period to liA_Gthhmgio_Period
//                Get pdA_Garticl_Hmnia   to ldA_Garticl_Hmnia
//                Get pnA_Gmove_X2       to lnA_Gmove_X2
//                Get pnA_Gmove_P2       to lnA_Gmove_P2
//                Get pnA_Gmove_X0       to lnA_Gmove_X0
//                Get pnA_Gmove_P0       to lnA_Gmove_P0
//                Get pnA_Gmove_X00      to lnA_Gmove_X00
//                Get pnA_Gmove_P00      to lnA_Gmove_P00
//                Get pnA_Gmove_XR       to lnA_Gmove_XR
//                Get pnA_Gmove_PR       to lnA_Gmove_PR
//                Get pnA_Gmove_X1       to lnA_Gmove_X1
//                Get pnA_Gmove_P1       to lnA_Gmove_P1
//                Get psA_Gplan_Recr     to lsA_Gplan_Recr

//                //ú·§ Ê¢ú™ ¶† ßò®·£ú´®¶† before+after úÂ§ò† Â©ú™,
//                //´Ê´ú õ‚§ £ßòÂ§‡ °òüÊ¢¶¨ ©´û§ ú§û£‚®‡©û †©¶ù¨öÂ‡§,
//                //ò¢¢· ≠úÁö‡ ...´®‚Æ¶§´ò™!
//                If (;
//                     (liB_Gthhmgio_Period=liA_Gthhmgio_Period) and;
//                     (ldB_Garticl_Hmnia  =ldA_Garticl_Hmnia)   and;
//                     (lnB_Gmove_X2      =lnA_Gmove_X2)       and;
//                     (lnB_Gmove_P2      =lnA_Gmove_P2)       and;
//                     (lnB_Gmove_X0      =lnA_Gmove_X0)       and;
//                     (lnB_Gmove_P0      =lnB_Gmove_P0)       and;
//                     (lnB_Gmove_X00     =lnA_Gmove_X00)      and;
//                     (lnB_Gmove_P00     =lnA_Gmove_P00)      and;
//                     (lnB_Gmove_XR      =lnA_Gmove_XR)       and;
//                     (lnB_Gmove_PR      =lnA_Gmove_PR)       and;
//                     (lnB_Gmove_X1      =lnA_Gmove_X1)       and;
//                     (lnB_Gmove_P1      =lnA_Gmove_P1)       and;
//                     (lsB_Gplan_Recr    =lsA_Gplan_Recr);
//                    ) Begin
//                       Procedure_Return
//                      End

//                //©ú´·®†©£ò´ò ö†ò gplan validations
//                If (;
//                    ((liUpdate * liBackout) = 0);
//                   ) Begin //°·§‡ create or delete Gmove record, ·®ò validate only at backout or update ò§´Â©´¶†Æò
//                      Move 1 to liB_Validate
//                      Move 1 to liA_Validate
//                     End
//                Else;
//                If (;
//                    (lsB_Gplan_Recr  = lsA_Gplan_Recr);
//                   ) Begin //°·§‡ edit ©´¶ Âõ†¶ gplan record, ·®ò validate only at update
//                      Move 0 to liB_Validate
//                      Move 1 to liA_Validate
//                     End
//                Else;
//                If (;
//                    (lsB_Gplan_Recr <> lsA_Gplan_Recr);
//                   ) Begin //ò¢¢·ù‡ gplan record, ·®ò validate both at backout and at update
//                      Move 1 to liB_Validate
//                      Move 1 to liA_Validate
//                     End

//                //ò≠òÂ®ú©û ßò¢ò†È§ ´†£È§
//                If (liBackout = 1);
//                Begin
//                     Send private.Update_Isozygia liB_Gthhmgio_Period;
//                                                  ldB_Garticl_Hmnia;
//                                                  lsB_Gplan_Recr;
//                                                  lnB_Gmove_X2;
//                                                  lnB_Gmove_P2;
//                                                  lnB_Gmove_X0;
//                                                  lnB_Gmove_P0;
//                                                  lnB_Gmove_X00;
//                                                  lnB_Gmove_P00;
//                                                  lnB_Gmove_XR;
//                                                  lnB_Gmove_PR;
//                                                  lnB_Gmove_X1;
//                                                  lnB_Gmove_P1;
//                                                  (-1);
//                                                  liB_Validate
//                     Get piError to liError
//                     If (liError <> 0) Procedure_Return
//                End //if (libackout = 1)

//                //ß®Ê©üú©û §‚‡§ ´†£È§
//                If (liUpdate = 1);
//                Begin
//                     Send private.Update_Isozygia liA_Gthhmgio_Period;
//                                                  ldA_Garticl_Hmnia;
//                                                  lsA_Gplan_Recr;
//                                                  lnA_Gmove_X2;
//                                                  lnA_Gmove_P2;
//                                                  lnA_Gmove_X0;
//                                                  lnA_Gmove_P0;
//                                                  lnA_Gmove_X00;
//                                                  lnA_Gmove_P00;
//                                                  lnA_Gmove_XR;
//                                                  lnA_Gmove_PR;
//                                                  lnA_Gmove_X1;
//                                                  lnA_Gmove_P1;
//                                                  1;
//                                                  liA_Validate
//                End //if (liupdate = 1)
//      End_Procedure//private.update_gmhnes_ghmnies


//      //°ò¢úÂ´ò† òßÊ ´û§ private.update_gmhnes_ghmnies
//      Procedure private.Update_Isozygia Integer liGthhmgio_Period;
//                                        Date    ldGarticl_Hmnia;
//                                        String  lsGplan_Recr;
//                                        Number  lnX2;
//                                        Number  lnP2;
//                                        Number  lnX0;
//                                        Number  lnP0;
//                                        Number  lnX00;
//                                        Number  lnP00;
//                                        Number  lnXR;
//                                        Number  lnPR;
//                                        Number  lnX1;
//                                        Number  lnP1;
//                                        Integer liSign;
//                                        Integer liValidate

//                String  lsGplan_Code
//                Integer liGplan_Bathmos liYear liPeriod liCounter

//                //ö†ò ¢Êö¶¨™ ò©≠ò¢úÂò™, £„§ ´¨ÆÊ§ •úßú®·©‡ ´¶¨™ 255 Æò®ò°´„®ú™
//                If (Num_Arguments <> 15 ) Error 10001 "Wrong Num Arguments!\n\nPlease Call Solution!"

//                //**************************************************************************
//                //01.¨ß¶¢¶ö†©£Ê™ & ‚¢úöÆ¶™ ß®¶©„£¶¨ (+ „ -)
//                //**************************************************************************
//                If (;
//                     ((Abs(liSign)) <> 1 );
//                   ) Begin
//                      Set piError to 3001 //ò°ò´·¢¢û¢¶ ß®Ê©û£¶ (¢·ü¶™ °Èõ†°ò™)
//                      Procedure_Return    //õ†ò°¶ß„ ´¶¨ transaction!
//                     End
//                Move (lnX2  * liSign) to lnX2
//                Move (lnP2  * liSign) to lnP2
//                Move (lnX0  * liSign) to lnX0
//                Move (lnP0  * liSign) to lnP0
//                Move (lnX00 * liSign) to lnX00
//                Move (lnP00 * liSign) to lnP00
//                Move (lnXR  * liSign) to lnXR
//                Move (lnPR  * liSign) to lnPR
//                Move (lnX1  * liSign) to lnX1
//                Move (lnP1  * liSign) to lnP1

//                //**************************************************************************
//                //02.°òü¶®†©£Ê™ year & period òß¶ ´¶ gthhmgio_period
//                //**************************************************************************
//                If (liGthHmgio_Period = 0);
//                     Begin //û£ú®¶¢¶ö†ò°‚™ ßú®Â¶õ¶† Æ®„©ú‡™
//                      Move (TheYearSegment (ldGarticl_Hmnia)) to liYear
//                      Move (TheMonthSegment(ldGarticl_Hmnia)) to liPeriod
//                     End
//                Else Begin //ú†õ†°„ ßú®Â¶õ¶™
//                      Move (TheYearSegment (ldGarticl_Hmnia)) to liYear
//                      Move liGthHmgio_Period                  to liPeriod
//                     End

//                //**************************************************************************
//                //03.úÁ®ú©û ©Æú´†°¶Á gplan °ò† ôòü£¶Á
//                //**************************************************************************
//                Clear Gplan
//                Move lsGplan_Recr to Gplan.Gplan_Recr
//                Find Eq Gplan by Index.2 //gplan_recr
//                If (Found = 0);
//                Begin
//                      Set piError to 3004 //ò®Æ†°Ê gplan not found (Æò¢ò©£‚§û ô·©û!)
//                      Procedure_Return    //õ†ò°¶ß„ ´¶¨ transaction!
//                End
//                Move Gplan.Gplan_Bathmos to liGplan_Bathmos

//                //**************************************************************************
//                //04.ú§û£‚®‡©û †©¶ù¨öÂ‡§ (gmhnes & ghmnies) °ò† òü®¶†©´È§ gplan
//                //**************************************************************************
//                For liCounter From 1 to liGplan_Bathmos

//                    //04.1:úÁ®ú©û/õû£†¶¨®öÂò & ú§û£‚®‡©û gmhnes
//                    Clear Gmhnes
//                    Move  Gplan.Gplan_Recr             to Gmhnes.Gplan_Recr
//                    Move  liYear                       to Gmhnes.Gmhnes_YYYY
//                    Move  liPeriod                     to Gmhnes.Gmhnes_Period
//                    Find Eq Gmhnes by Index.3 //gplan_recr+gmhnes_yyyy+gmhnes_period
//                    If (Found=0);
//                    Begin //ò®Æ„ õû£†¶¨®öÂòs §‚¶¨ record gmhnes
//                         Add 1 to SysrecG.Gmhnes_Rec0
//                         Saverecord SysrecG
//                         Move SysrecG.Gmhnes_Rec0       to Gmhnes.Gmhnes_Rec0
//                         Move (Append('',((Trim(SysCurGL.Branch_Site))+;
//                                         (Trim(String(Gmhnes.Gmhnes_Rec0)))))) to Gmhnes.Gmhnes_Recr

//                         //ú§û£‚®‡©û £„ related ßúõÂ‡§
//                         Move SysCurGL.Company_Code to Gmhnes.Company_Code
//                         Move SysCurGL.Branch_Code  to Gmhnes.Branch_Code
//                         Move SysCurGL.Year_Year    to Gmhnes.Year_Year
//                         Move Gplan.Gplan_Code      to Gmhnes.Gplan_Code
//                    End //´‚¢¶™ õû£†¶¨®öÂòs §‚¶¨ record gmhnes

//                    //04.2:úÁ®ú©û/õû£†¶¨®öÂò gmhmnies
//                    Clear Ghmnies
//                    Move  Gmhnes.Gmhnes_Recr           to Ghmnies.Gmhnes_Recr
//                    Move  ldGarticl_Hmnia              to Ghmnies.Ghmnies_Hmnia
//                    Find Eq Ghmnies by Index.3 //gmhnes_recr+ghmnies_hmnia
//                    If (Found=0);
//                    Begin //õû£†¶¨®öÂò §‚¶¨ record ghmnies
//                         Add 1 to SysrecG.Ghmnies_Rec0
//                         Saverecord SysrecG
//                         Move SysrecG.Ghmnies_Rec0      to Ghmnies.Ghmnies_Rec0
//                         Move (Append('',((Trim(SysCurGL.Branch_Site))+;
//                                         (Trim(String(Ghmnies.Ghmnies_Rec0)))))) to Ghmnies.Ghmnies_Recr




//                         //ú§û£‚®‡©û £„ related ßúõÂ‡§
//                         Move SysCurGL.Company_Code to Ghmnies.Company_Code
//                         Move SysCurGL.Branch_Code  to Ghmnies.Branch_Code
//                         Move SysCurGL.Year_Year    to Ghmnies.Year_Year
//                         Move Gplan.Gplan_Code      to Ghmnies.Gplan_Code
//                         Move Gmhnes.Gmhnes_YYYY    to Ghmnies.Gmhnes_YYYY
//                         Move Gmhnes.Gmhnes_Period  to Ghmnies.Gmhnes_Period
//                    End //´‚¢¶™ õû£†¶¨®öÂòs §‚¶¨ record ghmnies

//                    //04.3:ú§û£‚®‡©û gplan + gmhnes + ghmnies

//                    //04.3.1:ú§û£‚®‡©û gplan (update+backout)
//                    Add lnX0   to Gplan.Gplan_Sx0
//                    Add lnP0   to Gplan.Gplan_Sp0
//                    Add lnX00  to Gplan.Gplan_Sx00
//                    Add lnP00  to Gplan.Gplan_Sp00
//                    Add lnXR   to Gplan.Gplan_SxR
//                    Add lnPR   to Gplan.Gplan_SpR
//                  //Add lnX1   to Gplan.Gplan_Sx1
//                  //Add lnP1   to Gplan.Gplan_Sp1

//                    Add liSign to Gplan.Gplan_Gmhnnorec
//                    //bale kai pedia gia periodoys (-) periodoys (0) periodous (+)!

//                    //04.3.2:‚¢úöÆ¶™ gplan (validations 1017 + 1018:‚¢úöÆ¶† ¨ß¶¢¶Âß‡§)
//                    //£Ê§¶§ ú·§ Æ®ú†·ùú´ò†
//                    If (liValidate = TRUE);
//                    Begin
//                         //04.3.2.1:‚¢úöÆ¶™ Æ®ú‡©´†°¶Á ¨ß¶¢¶Âß¶¨
//                         If (;
//                                  (Gplan.Gplan_Yn_Xy = FALSE          ) and;
//                              (Not(Gplan.Gplan_Sp0  >= Gplan.Gplan_Sx0));
//                            );
//                         Begin
//                              Set psGplan_Code  to Gplan.Gplan_Code
//                              Set pnGplan_Ypol0 to (Gplan.Gplan_Sx0-Gplan.Gplan_Sp0)
//                              Set piError to 1017 //òßòö¶®úÁú´ò† Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶
//                              Procedure_Return   //õ†ò°¶ß„ ´¶¨ transaction!
//                         End
//                         //04.3.2.2:‚¢úöÆ¶™ ß†©´‡´†°¶Á ¨ß¶¢¶Âß¶¨
//                         If (;
//                                  (Gplan.Gplan_Yn_Py = FALSE          ) and;
//                              (Not(Gplan.Gplan_Sx0  >= Gplan.Gplan_Sp0));
//                            );
//                         Begin
//                              Set psGplan_Code  to Gplan.Gplan_Code
//                              Set pnGplan_Ypol0 to (Gplan.Gplan_Sx0-Gplan.Gplan_Sp0)
//                              Set piError to 1018 //òßòö¶®úÁú´ò† ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶
//                              Procedure_Return   //õ†ò°¶ß„ ´¶¨ transaction!
//                         End
//                    End //´‚¢¶™ validation gplan

//                    //04.3.3:ú§û£‚®‡©û ghhmnies (update+backout)
//                    Add lnX2   to Ghmnies.Ghmnies_Sx2
//                    Add lnP2   to Ghmnies.Ghmnies_Sp2
//                    Add lnX0   to Ghmnies.Ghmnies_Sx0
//                    Add lnP0   to Ghmnies.Ghmnies_Sp0
//                    Add lnX00  to Ghmnies.Ghmnies_Sx00
//                    Add lnP00  to Ghmnies.Ghmnies_Sp00
//                    Add lnXR   to Ghmnies.Ghmnies_SxR
//                    Add lnPR   to Ghmnies.Ghmnies_SpR
//                    Add lnX1   to Ghmnies.Ghmnies_Sx1
//                    Add lnP1   to Ghmnies.Ghmnies_Sp1

//                    Add liSign to Ghmnies.Ghmnies_Gmnorec

//                    //04.3.4:ú§û£‚®‡©û ghmnes (update+backout)
//                    Add lnX2   to Gmhnes.Gmhnes_Sx2
//                    Add lnP2   to Gmhnes.Gmhnes_Sp2
//                    Add lnX0   to Gmhnes.Gmhnes_Sx0
//                    Add lnP0   to Gmhnes.Gmhnes_Sp0
//                    Add lnX00  to Gmhnes.Gmhnes_Sx00
//                    Add lnP00  to Gmhnes.Gmhnes_Sp00
//                    Add lnXR   to Gmhnes.Gmhnes_SxR
//                    Add lnPR   to Gmhnes.Gmhnes_SpR
//                    Add lnX1   to Gmhnes.Gmhnes_Sx1
//                    Add lnP1   to Gmhnes.Gmhnes_Sp1

//                    Add liSign to Gmhnes.Gmhnes_GhmNoRec

//                    //04.3.5:©È©†£¶ ´‡§ 3 records
//                    Saverecord Gplan
//                    Saverecord Gmhnes
//                    Saverecord Ghmnies

//                    //04.4:úÁ®ú©û °‡õ†°¶Á ßú®†¢ûß´†°¶Á ö†ò £„ ß®‡´¶ô·ü£†¶¨™ !
//                    //     (´ò ßúõÂò gplan_anoep+gplan_bathmos ‚Æ¶¨§ „õû validaristei ©´¶ gplan_dd) please check it!!!
//                    If (Gplan.Gplan_Bathmos <> 1);
//                    Begin
//                          Move Gplan.Gplan_Anoep to lsGplan_Code
//                          //04.5:úÁ®ú©û ßú®†¢ûß´†°¶Á
//                          Clear Gplan
//                          Move SysCurGL.Company_Code to Gplan.Company_Code
//                          Move SysCurGL.Branch_Code  to Gplan.Branch_Code
//                          Move SysCurGL.Year_Year    to Gplan.Year_Year
//                          Move lsGplan_Code          to Gplan.Gplan_Code
//                          Find Eq Gplan by Index.1 //company_code+branch_code+year_year+gplan_code
//                          If (Found = 0);
//                          Begin
//                                Set piError to 3002 //ò§Áßò®°´¶™ ßú®†¢ûß´†°Ê™ (reindex + check gplan)
//                                Procedure_Return    //õ†ò°¶ß„ ´¶¨ transaction!
//                          End
//                    End
//                Loop
//      End_Procedure //private.update_isozygia
//      //****************************************************************************************
//      //**************P R O C E D U R A L    Ñ å Ü ãÑ ê ó ë Ü    à ë é Ö ì Ç à ó å**************
//      //****************************************************************************************


//      //private
//      //ú§û£ú®È§ú† ´ò 13 ßúõÂò open item
//      //°ò¢úÂ´ò† òßÊ update
//                     //ß®‚ßú†: yx between 0 and x0     yx>=0
//                     //        yp         = 0
//                     //        sx between 0 and x0
//                     //        sp=0
//      Procedure private.Do_Compute_Open_Items
//                Case Begin
//                     Case (Gmove.Gmove_X0 > 0)
//                          Move "+"                                               to Gmove.Gmove_Topen
//                          Move (     Gmove.Gmove_X0  - Gmove.Gmove_Open_Sx0) to Gmove.Gmove_Open_Yx0
//                          Move 0                                                 to Gmove.Gmove_Open_Yp0
//                     Case Break

//                     Case (Gmove.Gmove_X0 < 0)
//                          Move "-"                                               to Gmove.Gmove_Topen
//                          Move ((Abs(Gmove.Gmove_X0))- Gmove.Gmove_Open_Sp0) to Gmove.Gmove_Open_Yp0
//                          Move 0                                                 to Gmove.Gmove_Open_Yx0
//                     Case Break

//                     Case (Gmove.Gmove_P0 > 0)
//                          Move "-"                                               to Gmove.Gmove_Topen
//                          Move (     Gmove.Gmove_P0  - Gmove.Gmove_Open_Sp0) to Gmove.Gmove_Open_Yp0
//                          Move 0                                                 to Gmove.Gmove_Open_Yx0
//                     Case Break

//                     Case (Gmove.Gmove_P0 < 0)
//                          Move "+"                                               to Gmove.Gmove_Topen
//                          Move ((Abs(Gmove.Gmove_P0))- Gmove.Gmove_Open_Sx0) to Gmove.Gmove_Open_Yx0
//                          Move 0                                                 to Gmove.Gmove_Open_Yp0
//                     Case Break
//                Case End
//      End_Procedure //private.Do_Compute_Open_Items



//      //private
//      //ú¢‚öÆú† ´ò 13 ßúõÂò open item
//      //°ò¢úÂ´ò† òßÊ validate save
//      Function  private.fi_Validate_Open_Items Returns Integer
//                 //1101+1102+1103+1104:‚¢úöÆ¶† £„ ò®§û´†°È§ ¨ß¶¢¶Âß‡§ ß®¶™ ©¨©Æ‚´†©û °ò† ©¨©Æú´†©ü‚§´‡§ ß¶©È§
//                           If (Not(Gmove.Gmove_Open_Yx0 >= 0                      )) Function_Return 1101
//                           If (Not(Gmove.Gmove_Open_Yp0 >= 0                      )) Function_Return 1102
//                           If (Not(Gmove.Gmove_Open_Sx0 >= 0                      )) Function_Return 1103
//                           If (Not(Gmove.Gmove_Open_Sp0 >= 0                      )) Function_Return 1104

//                 Case Begin
//                      //1105+1106+1107+1108:‚¢úöÆ¶† ö†ò ò´Ê≠†¶ Æ®ú‡©´†°Ê record
//                      Case (Gmove.Gmove_X0 > 0)
//                           If (Not(Gmove.Gmove_Open_Yx0 <=      Gmove.Gmove_X0  )) Function_Return 1105
//                           If (Not(Gmove.Gmove_Open_Sx0 <=      Gmove.Gmove_X0  )) Function_Return 1106
//                           If (Not(Gmove.Gmove_Open_Yp0  = 0                      )) Function_Return 1107
//                           If (Not(Gmove.Gmove_Open_Sp0  = 0                      )) Function_Return 1108
//                      Case Break
//                      //1109+1110+1111+1112:‚¢úöÆ¶† ö†ò Øú¨´¶- Æ®ú‡©´†°Ê record
//                      Case (Gmove.Gmove_X0 < 0)
//                           If (Not(Gmove.Gmove_Open_Yx0  = 0                      )) Function_Return 1109
//                           If (Not(Gmove.Gmove_Open_Sx0  = 0                      )) Function_Return 1110
//                           If (Not(Gmove.Gmove_Open_Yp0 <= (Abs(Gmove.Gmove_X0)))) Function_Return 1111
//                           If (Not(Gmove.Gmove_Open_Sp0 <= (Abs(Gmove.Gmove_X0)))) Function_Return 1112
//                      Case Break
//                      //1113+1114+1115+1116:‚¢úöÆ¶† ö†ò ò´Ê≠†¶ ß†©´‡´†°Ê record
//                      Case (Gmove.Gmove_P0 > 0)
//                           If (Not(Gmove.Gmove_Open_Yx0  = 0                      )) Function_Return 1113
//                           If (Not(Gmove.Gmove_Open_Sx0  = 0                      )) Function_Return 1114
//                           If (Not(Gmove.Gmove_Open_Yp0 <=      Gmove.Gmove_P0  )) Function_Return 1115
//                           If (Not(Gmove.Gmove_Open_Sp0 <=      Gmove.Gmove_P0  )) Function_Return 1116
//                      Case Break
//                      //1117+1118+1119+1120:‚¢úöÆ¶† ö†ò ØúÁ´¶- Æ®ú‡©´†°Ê record
//                      Case (Gmove.Gmove_P0 < 0)
//                           If (Not(Gmove.Gmove_Open_Yx0 <= (Abs(Gmove.Gmove_P0)))) Function_Return 1117
//                           If (Not(Gmove.Gmove_Open_Sx0 <= (Abs(Gmove.Gmove_P0)))) Function_Return 1118
//                           If (Not(Gmove.Gmove_Open_Yp0  = 0                      )) Function_Return 1119
//                           If (Not(Gmove.Gmove_Open_Sp0  = 0                      )) Function_Return 1120
//                      Case Break
//                 Case End

//                 Function_Return 0 //Ê¢ò ok
//      End_Function  //private.fi_validate_open_items





//      //private
//      //ô®Â©°ú† ú·§ úß†´®‚ßú´ò† û °Â§û©„ ´¶¨ ©¨ö°ú°®†£‚§¶¨ ¢¶öò®†ò©£¶Á
//      //´¶¨ Gmove òß¶ ´¶ ´®‚Æ¶§ module.
//      //°ò¢úÂ´ò† òßÊ validate_save
//      Function private.fiGplanmod_Module String  lsGplan_Recr;
//                                         String  lsModule;
//                                         Returns Integer
//               Clear Gplanmod
//               Move lsGplan_Recr to Gplanmod.Gplan_Recr
//               Move lsModule     to Gplanmod.Gplanmod_Module
//               Find Eq Gplanmod By Index.3 //gplan_recr+gplanmod_module
//               Function_Return (Found)
//      End_Function //private.fiGplanmod_Module


//      Procedure private.Initialize_Properties
//                //Gmove related properties
//                Set psB_Gplan_Recr    to '' //gplan recr
//                Set pnB_Gmove_X2      to 0  //X2          2:§¶£†©£ò úöö®ò≠„™
//                Set pnB_Gmove_P2      to 0  //P2
//                Set pnB_Gmove_X0      to 0  //x0          0:°Á®†¶ §Ê£†©£ò Æ®„©û™
//                Set pnB_Gmove_P0      to 0  //p0
//                Set pnB_Gmove_X00     to 0  //x00         00:õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™
//                Set pnB_Gmove_P00     to 0  //p00
//                Set pnB_Gmove_XR      to 0  //xr          r:§Ê£†©£ò reporting
//                Set pnB_Gmove_PR      to 0  //pr
//                Set pnB_Gmove_X1      to 0  //X1          0:°Á®†¶ §Ê£†©£ò Æ®„©û™ ¶®†©´†°¶ß¶†û£‚§ò
//                Set pnB_Gmove_P1      to 0  //P1

//                Set psA_Gplan_Recr    to '' //gplan recr
//                Set pnA_Gmove_X2      to 0  //X2          2:§¶£†©£ò úöö®ò≠„™
//                Set pnA_Gmove_P2      to 0  //P2
//                Set pnA_Gmove_X0      to 0  //x0          0:°Á®†¶ §Ê£†©£ò Æ®„©û™
//                Set pnA_Gmove_P0      to 0  //p0
//                Set pnA_Gmove_X00     to 0  //x00         00:õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™
//                Set pnA_Gmove_P00     to 0  //p00
//                Set pnA_Gmove_XR      to 0  //xr          r:§Ê£†©£ò reporting
//                Set pnA_Gmove_PR      to 0  //pr
//                Set pnA_Gmove_X2      to 0  //X1          0:°Á®†¶ §Ê£†©£ò Æ®„©û™ ¶®†©´†°¶ß¶†û£‚§ò
//                Set pnA_Gmove_P2      to 0  //P1

//                //garticl related properties
//                Set pdB_Garticl_Hmnia  to 0
//                Set pdA_Garticl_Hmnia  to 0

//                //properties ö†ò procedural ú§û£‚®‡©û ghmnies+gmhnes
//                Set piB_Gthhmgio_Period to 0
//////////////////Set piB_Gplan_Bathmos   to 0
//////////////////Set psB_Gplan_Code      to ""
//                Set piA_Gthhmgio_Period to 0
//////////////////Set piA_Gplan_Bathmos   to 0
//////////////////Set psA_Gplan_Code      to ""

//                Set piError             to 0
//                Set psGplan_Code        to ""
//                Set pnGplan_Ypol0       to 0


//                Set piUpdate           to 0
//                Set piBackout          to 0
//////////////////Set piTheorimeno       to 0

//                Set piFireConvert      to 0 //????? £ûß‡™ õú§ Æ®ú†òùú´ò† úõ‡?

//                Set piB_Garticl_Aa     to 0 //ö†ò ´¶§ ‚¢úöÆ¶ òò
//                Set piA_Garticl_Aa     to 0

//      End_Procedure //private.Initialize_Properties


//      //°ò† ò¨´„ üò ß®‚ßú† §ò ß·ú† global
//      Function fnFindOmada string LsGplan_Fn## Returns Integer
//               Local Integer liOmada##

//                   If (Mid(lsGPlan_Fn##,1,1) eq "6") begin
//                       Function_Return 1
//                   end
//                   If (Mid(lsGPlan_Fn##,1,1) eq "7") begin
//                       Function_Return 1
//                   end
//                   If (Mid(lsGPlan_Fn##,2,1) eq "38") begin
//                       Function_Return 1
//                   end
//                   If (Mid(lsGPlan_Fn##,2,1) eq "2") begin
//                       Function_Return 1
//                   end

//               Function_Return 0
//      End_Function


//      //ò¨´„ £·¢¢¶§ Æ®û©†£¶ß¶†úÂ´ò† òß¶ ´¶ view °ò† ß®‚ßú† §ò ≠Áöú† òß¶ úõÈ!
//      Function FnXre_Pist Number lnXre## Number lnPist## Returns Integer
//           If (lnXre## <> 0) Begin
//               Function_Return 1
//           end
//           If (lnPist## <> 0) Begin
//               Function_Return 2
//           end
//           Function_Return 0
//      End_Function


//    Procedure Construct_Object

//              Forward Send Construct_Object

//              //Gmove related properties
//              Property String  psB_Gplan_Recr    ''  //gplan recr
//              Property Number  pnB_Gmove_X2       0  //X2          2:§¶£†©£ò úöö®ò≠„™
//              Property Number  pnB_Gmove_P2       0  //P2
//              Property Number  pnB_Gmove_X0       0  //x0          0:°Á®†¶ §Ê£†©£ò Æ®„©û™
//              Property Number  pnB_Gmove_P0       0  //p0
//              Property Number  pnB_Gmove_X00      0  //x00         00:õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™
//              Property Number  pnB_Gmove_P00      0  //p00
//              Property Number  pnB_Gmove_XR       0  //xr          r:§Ê£†©£ò reporting
//              Property Number  pnB_Gmove_PR       0  //pr
//              Property Number  pnB_Gmove_X1       0  //X1          0:°Á®†¶ §Ê£†©£ò Æ®„©û™ ¶®†©´†°¶ß¶†û£‚§ò
//              Property Number  pnB_Gmove_P1       0  //P1

//              Property String  psA_Gplan_Recr    ''  //gplan recr
//              Property Number  pnA_Gmove_X2       0  //X2          2:§¶£†©£ò úöö®ò≠„™
//              Property Number  pnA_Gmove_P2       0  //P2
//              Property Number  pnA_Gmove_X0       0  //x0          0:°Á®†¶ §Ê£†©£ò Æ®„©û™
//              Property Number  pnA_Gmove_P0       0  //p0
//              Property Number  pnA_Gmove_X00      0  //x00         00:õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™
//              Property Number  pnA_Gmove_P00      0  //p00
//              Property Number  pnA_Gmove_XR       0  //xr          r:§Ê£†©£ò reporting
//              Property Number  pnA_Gmove_PR       0  //pr
//              Property Number  pnA_Gmove_X1       0  //X1          0:°Á®†¶ §Ê£†©£ò Æ®„©û™ ¶®†©´†°¶ß¶†û£‚§ò
//              Property Number  pnA_Gmove_P1       0  //P1

//              //garticl related properties
//              Property Date    pdA_Garticl_Hmnia   0
//              Property Date    pdB_Garticl_Hmnia   0

//              Property Integer piUpdate            0
//              Property Integer piBackout           0
////////////////Property Integer piTheorimeno        0 //©ú´·®ú´ò† òß¶ ´û§ request_save_th, û ¶ßÊ†ò
//                                                           //                            °ò¢úÂ´ò† òßÊ: a) doUpAA.pkg
//                                                           //                                          b) doZeroAA.pkg

//              //properties ö†ò procedural ú§û£‚®‡©û ghmnies+gmhnes
//              Property Integer piB_Gthhmgio_Period  0
//              Property Integer piA_Gthhmgio_Period  0
////////////////Property Integer piB_Gplan_Bathmos    0
////////////////Property Integer piA_Gplan_Bathmos    0
////////////////Property String  psB_Gplan_Code       ""
////////////////Property String  psA_Gplan_Code       ""

//              Property Integer piError              0  //Æ®û©†£¶ß¶†¶Á§´ò† òß¶ ´†™ private
//              Property String  psGplan_Code         "" //®¶¨´Â§ú™ ö†ò ´û§ procedural
//              Property Number  pnGplan_Ypol0        0  //ú§û£‚®‡©û ´‡§ †©¶ù¨öÂ‡§ Ê´ò§ ú§´¶ßÂùú´ò† ¢·ü¶™
//                                                       //¶ßÊ´ú û operation_not_allowed •‚®ú† ß¶Ê™ ¢¶ö/£Ê™
//                                                       //Æ´¨ß·ú† error 1017 + 1017

//              Property Integer piFireConvert        0 //ja//


////////////////Property Integer piGarticl_dd         0 //object id of server garticl dd
////////////////Property Integer pioDo_Update_Hmnies  0 //object id for business process object

//              Property String  psGarticl_MyfCodp    "" //£Ê§¶§ ö†ò display of error 1006
//              Property String  psGarticl_MyfCoda    "" //£Ê§¶§ ö†ò display of error 1007???



//              Property Integer piB_Garticl_Aa       0 //ö†ò ´¶§ ‚¢úöÆ¶ òò
//              Property Integer piA_Garticl_Aa       0


//    End_Procedure   //construct_object
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      



//-     Procedure End_Construct_Object
//- //////////////Integer liGarticl_dd
//-               Forward Send End_Construct_Object
//-               //find servers & clients
//- //////////////Set piGarticl_dd to (Find_Server_DDO(Self,Garticl.File_Number))
//- //////////////Get piGarticl_dd to liGarticl_dd
//-
//-               //Set piGmove_dd of liGarticl_dd to (Self)
//-               //Set pioDo_Update_Hmnies to (oDoUpdateHmnies(Self))
//     End_Procedure   //end_construct_object


//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      
//    Procedure Backout //sos úõÈ ´ò properties b ©ú´·®¶§´ò† òß¶ ´¶ Gmove
//                      //°ò† ÊÆ† òß¶ ´ò parent buffers ! ! ! ! ! !

//              Forward Send Backout

//              Set pnB_Gmove_X2  to Gmove.Gmove_X2
//              Set pnB_Gmove_P2  to Gmove.Gmove_P2
//              Set pnB_Gmove_X0  to Gmove.Gmove_X0
//              Set pnB_Gmove_P0  to Gmove.Gmove_P0
//              Set pnB_Gmove_X00 to Gmove.Gmove_X00
//              Set pnB_Gmove_P00 to Gmove.Gmove_P00
//              Set pnB_Gmove_XR  to Gmove.Gmove_XR
//              Set pnB_Gmove_PR  to Gmove.Gmove_PR
//              Set pnB_Gmove_X1  to Gmove.Gmove_X1
//              Set pnB_Gmove_P1  to Gmove.Gmove_P1

//              //properties ö†ò procedural ú§û£‚®‡©û ghmnies+gmhnes
//              //b) garticl related properties
//              Set piB_Gthhmgio_Period to Gmove.Gthhmgio_Period //Gthhmgio.Gthhmgio_Period
//              Set pdB_Garticl_Hmnia   to Gmove.Garticl_Hmnia
//              Set psB_Gplan_Recr      to Gmove.Gplan_Recr

//              Set piB_Garticl_Aa      to Gmove.Gmove_Aa //ö†ò ´¶§ ‚¢úöÆ¶ òò


//              Set piBackout           to 1

//              Send private.Adjust_Balances (-1);
//                                            Gmove.Gplan_Code;
//                                            Gmove.Gplan_Myf_Sump;
//                                            Gmove.Gplan_Myf_Suma;
//                                            Gmove.Gplan_Yn_Myfp;
//                                            Gmove.Gplan_Yn_Myfa;
//                                            Gmove.Gtypkin_Flag07;
//                                            Gmove.Gtypkin_Flag09;
//                                            Gmove.Gtypkin_Flag11;
//                                            Gmove.Gtypkin_Flag13
//    End_Procedure   // backout


//    Procedure Update //sos úõÈ ´ò properties a ©ú´·®¶§´ò† òß¶ ´ò parent buffers
//                     //°ò† ÊÆ† òß¶ ´¶ Gmove! ! ! ! ! !
//              Integer liFireConvert## //ja//sosososososo

//              Get piFireconvert to liFireConvert## //ja//sosososososo
//                                                   //ò¨´„ °òü¶®Âùú† ©´û§ update ú·§
//                                                   //üò ´®‚•¶¨§ ¶† ®¶¨´Â§ú™ £ú´ò´®¶ß„™ ´‡§ §¶£†©£·´‡§
//                                                   //©ú´·®ú´ò† ©ú 1 òß¶ ´û§ check_Arthro_For_Ypol
//                                                   //û ¶ß¶Âò °ò¢úÂ´ò† òßÊ: a) Gmove.vw   function child_exiting
//                                                   //                      b) doAkArth.pkg (ò°¨®‡´†°Ê ·®ü®¶)

//              Forward Send Update

//              //ú§û£‚®‡©û £û related ßúõÂ‡§
//              Move SysCurGL.Company_Code    to Gmove.Company_Code
//              If (Gmove.Branch_Code='') ;
//                Move SysCurGL.Branch_Code   to Gmove.Branch_Code
//              Move SysCurGL.Year_Year       to Gmove.Year_Year
//              Move SysCurGL.Year_Recr       to Gmove.Year_Recr
//              Move Gtypkin.Gtypkin_Code     to Gmove.Gtypkin_Code
//              Move Garticl.Garticl_Hmnia    to Gmove.Garticl_Hmnia
//              Move Garticl.Garticl_No       to Gmove.Garticl_No

//              //Move Garticl.Garticl_C_Code2  to Gmove.Gmove_C_Code2       //????????
//              Move Garticl.Garticl_AA       to Gmove.Gmove_AA
//              //Move Garticl.Garticl_StatusE  to Gmove.Gmove_StatusE
//              //Move Garticl.Garticl_StatusA  to Gmove.Gmove_StatusA

//              Move Gplan.Gplan_Code         to Gmove.Gplan_Code

//              Move Gthhmgio.Gthhmgio_Code   to Gmove.Gthhmgio_Code
//              Move Gthhmgio.Gthhmgio_Period to Gmove.Gthhmgio_Period

//              //õ¨©´¨ÆÈ™ ,ßúõÂò òßò®òÂ´û´ò ö†ò ´û§ ò¢¢òö„ ´¶¨ garticl!
//              Move Gplan.Gplan_Code       to Gmove.Gplan_Code
//              Move Gplan.Gplan_Myf_Sump   to Gmove.Gplan_Myf_Sump
//              Move Gplan.Gplan_Myf_Suma   to Gmove.Gplan_Myf_Suma
//              Move Gplan.Gplan_Yn_Myfp    to Gmove.Gplan_Yn_Myfp
//              Move Gplan.Gplan_Yn_Myfa    to Gmove.Gplan_Yn_Myfa

//              Move Gtypkin.Gtypkin_Flag01 to Gmove.Gtypkin_Flag01
//              Move Gtypkin.Gtypkin_Flag02 to Gmove.Gtypkin_Flag02
//              Move Gtypkin.Gtypkin_Flag03 to Gmove.Gtypkin_Flag03
//              Move Gtypkin.Gtypkin_Flag04 to Gmove.Gtypkin_Flag04
//              Move Gtypkin.Gtypkin_Flag05 to Gmove.Gtypkin_Flag05
//              Move Gtypkin.Gtypkin_Flag06 to Gmove.Gtypkin_Flag06
//              Move Gtypkin.Gtypkin_Flag07 to Gmove.Gtypkin_Flag07
//              Move Gtypkin.Gtypkin_Flag08 to Gmove.Gtypkin_Flag08
//              Move Gtypkin.Gtypkin_Flag09 to Gmove.Gtypkin_Flag09
//              Move Gtypkin.Gtypkin_Flag10 to Gmove.Gtypkin_Flag10
//              Move Gtypkin.Gtypkin_Flag11 to Gmove.Gtypkin_Flag11
//              Move Gtypkin.Gtypkin_Flag12 to Gmove.Gtypkin_Flag12
//              Move Gtypkin.Gtypkin_Flag13 to Gmove.Gtypkin_Flag13
//              Move Gtypkin.Gtypkin_Flag14 to Gmove.Gtypkin_Flag14
//              Move Gtypkin.Gtypkin_Flag15 to Gmove.Gtypkin_Flag15
//              Move Gtypkin.Gtypkin_Flag16 to Gmove.Gtypkin_Flag16
//              Move Gtypkin.Gtypkin_Flag17 to Gmove.Gtypkin_Flag17
//              Move Gtypkin.Gtypkin_Flag18 to Gmove.Gtypkin_Flag18
//              Move Gtypkin.Gtypkin_Flag19 to Gmove.Gtypkin_Flag19
//              Move Gtypkin.Gtypkin_Flag20 to Gmove.Gtypkin_Flag20
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      

              //ò§·ö§‡©û properties

              //õ†òÆúÂ®†©û calculated ßúõÂ‡§
              //Gmove_x0  Gmove_p0
              //Gmove_x00 Gmove_p00
              //Gmove_xr  Gmove_pr
              //Gmove_ys0  00 r ??
              //Gmove_ys1  00 r ??
              //Gmove_ys2  00 r ??
              //Gmove_x1  Gmove_p1    (ò¨´· ú•ò®´È§´ò† òß¶ ´¶ garticl_aa)
              //Gmove statuse + statusa ???
              //Gmove sx0  sp0  yx0  yp0
              //Gmove sx00 sp00 yx00 yp00
              //Gmove sxr  spr  yxr  ypr
              //Gmove sx2  sp2  yx2  yp2

//              //£ú´ò´®¶ßú™ §¶£Â©£ò´¶™ úöö®ò≠„™ (2) ©´ò ¢¶†ß· 3 §¶£Â©£ò´ò  (0 00 r)
//              //ò§·¢¶öò £ú ´ò flags 3 °ò† 4
//              If (liFireConvert## = 0) ;
//                 Begin
//                  //*********************************************************
//                  //£ú´ò´®¶ß„ ò•†È§ ©ú °Á®†¶ §Ê£†©£ò Æ®„©û™ ìèéïêÑóíàâÄ !   *
//                  //*********************************************************
//                  //Æ®‚‡©û 2-->0
//                  Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                   Year.Year_C_Code0,;
//                                   Garticl.Garticl_Hmnia,;
//                                   Gmove.Gmove_X2,;
//                                   Garticl.Garticl_Rate0);
//                                  ) to Gmove.Gmove_X0
//                  //ßÂ©´‡©û 2-->0
//                  Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                   Year.Year_C_Code0,;
//                                   Garticl.Garticl_Hmnia,;
//                                   Gmove.Gmove_P2,;
//                                   Garticl.Garticl_Rate0);
//                                  ) to Gmove.Gmove_P0

//                  //*********************************************************
//                  //flag 3:£ú´ò´®¶ß„ ò•†È§ ©ú õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™     *
//                  //*********************************************************
//                  If (Gtypkin.Gtypkin_Flag03 = TRUE);
//                       Begin
//                        //Æ®‚‡©û 2-->00
//                        Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                         Year.Year_C_Code00,;
//                                         Garticl.Garticl_Hmnia,;
//                                         Gmove.Gmove_X2,;
//                                         Garticl.Garticl_Rate00);
//                                        ) to Gmove.Gmove_X00
//                        //ßÂ©´‡©û 2-->00
//                        Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                         Year.Year_C_Code00,;
//                                         Garticl.Garticl_Hmnia,;
//                                         Gmove.Gmove_P2,;
//                                         Garticl.Garticl_Rate00);
//                                        ) to Gmove.Gmove_P00
//                       End
//                  Else Begin
//                        Move 0            to Gmove.Gmove_X00
//                        Move 0            to Gmove.Gmove_P00
//                       End

//                  //*********************************************************
//                  //flag 4:£ú´ò´®¶ß„ ò•†È§ ©ú §Ê£†©£ò reporting             *
//                  //*********************************************************
//                  If (Gtypkin.Gtypkin_Flag04 = TRUE);
//                       Begin
//                        //Æ®‚‡©û 2-->r
//                        Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                         Year.Year_C_CodeR,;
//                                         Garticl.Garticl_Hmnia,;
//                                         Gmove.Gmove_X2,;
//                                         Garticl.Garticl_RateR);
//                                        ) to Gmove.Gmove_XR
//                        //ßÂ©´‡©û 2-->r
//                        Move (gnfConvert(Garticl.Garticl_C_Code2,;
//                                         Year.Year_C_CodeR,;
//                                         Garticl.Garticl_Hmnia,;
//                                         Gmove.Gmove_P2,;
//                                         Garticl.Garticl_RateR);
//                                        ) to Gmove.Gmove_PR
//                       End
//                  Else Begin
//                        Move 0            to Gmove.Gmove_XR
//                        Move 0            to Gmove.Gmove_PR
//                       End

//                 End//´‚¢¶™ £ú´ò´®¶ßÈ§ §¶£Â©£ò´¶™ úöö®ò≠„™ ©´ò ¢¶†ß· 3 §¶£Â©£ò´ò

              //ú·§ ´¶ ·®ü®¶ úÂ§ò† ¶®†©´†°¶ß¶†û£‚§¶,
              // £ú´ò≠¶®· ´‡§ Æ®ú‡ß†©´È©ú‡§ 0 --> 1
              //ò¢¢¶†È™, £ûõú§†©£Ê™ ´‡§ Æ®ú‡ß†©´È©ú‡§ 1
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      
//              If (Garticl.Garticl_Aa > 0);
//              Begin
//               Move Gmove.Gmove_X0 to Gmove.Gmove_X1
//               Move Gmove.Gmove_P0 to Gmove.Gmove_P1
//              End
//              Else;
//              Begin
//               Move 0                to Gmove.Gmove_X1
//               Move 0                to Gmove.Gmove_P1
//              End


//              //ú§û£‚®‡©û ßúõÂ‡§ open items
//              Send private.Do_Compute_Open_Items


//              //ú§û£‚®‡©û òü®¶†©´È§
//              Send private.Adjust_Balances  1;
//                                            Gplan.Gplan_Code;
//                                            Gplan.Gplan_Myf_Sump;
//                                            Gplan.Gplan_Myf_Suma;
//                                            Gplan.Gplan_Yn_Myfp;
//                                            Gplan.Gplan_Yn_Myfa;
//                                            Gtypkin.Gtypkin_Flag07;
//                                            Gtypkin.Gtypkin_Flag09;
//                                            Gtypkin.Gtypkin_Flag11;
//                                            Gtypkin.Gtypkin_Flag13

//              //ú§û£‚®‡©û properties after
//              //a) Gmove related properties
//              Set pnA_Gmove_X2  to Gmove.Gmove_X2
//              Set pnA_Gmove_P2  to Gmove.Gmove_P2
//              Set pnA_Gmove_X0  to Gmove.Gmove_X0
//              Set pnA_Gmove_P0  to Gmove.Gmove_P0
//              Set pnA_Gmove_X00 to Gmove.Gmove_X00
//              Set pnA_Gmove_P00 to Gmove.Gmove_P00
//              Set pnA_Gmove_XR  to Gmove.Gmove_XR
//              Set pnA_Gmove_PR  to Gmove.Gmove_PR
//              Set pnA_Gmove_X1  to Gmove.Gmove_X1
//              Set pnA_Gmove_P1  to Gmove.Gmove_P1

//              //b) garticl related properties
//              //c) properties ö†ò procedural ú§û£‚®‡©û ghmnies+gmhnes
//              Set piA_Gthhmgio_Period to Gthhmgio.Gthhmgio_Period
//              Set pdA_Garticl_Hmnia   to Garticl.Garticl_Hmnia
//              Set psA_Gplan_Recr      to Gplan.Gplan_Recr

//              Set piA_Garticl_Aa      to Gmove.Gmove_Aa //ö†ò ´¶§ ‚¢úöÆ¶ òò

//              Set piUpdate       to 1
//    End_Procedure   //update

//    Procedure Creating
//        Forward Send Creating
//        // Insert Code Here
//        Move (Append('',((Trim(SysCurGL.Branch_Site))+;
//                         (Trim(String(Gmove.Gmove_Rec0)))))) to Gmove.Gmove_Recr
//    End_Procedure   // Creating


//    //°ò¢úÂ´ò† òßÊ update & backout
//    //ü‚¢ú† ß®¶©¶Æ„, õ†Ê´† ©´û§ £‚§ backout Æ®ú†·ùú´ò† ´ò 9 arguments òß¶ ´¶ Gmove buffer,
//    //ú§È ©´û§ update ´ò Æ®ú†·ùú´ò† òß¶ ´ò parent buffers ! ! !
//    Procedure private.Adjust_Balances Integer liSign;
//                                      String  lsGplan_Code;
//                                      Integer liGplan_Myf_Sump;
//                                      Integer liGplan_Myf_Suma;
//                                      Integer liGplan_Yn_Myfp;
//                                      Integer liGplan_Yn_Myfa;
//                                      Integer liGtypkin_Flag07;
//                                      Integer liGtypkin_Flag09;
//                                      Integer liGtypkin_Flag11;
//                                      Integer liGtypkin_Flag13

//              If (;
//                   ((Abs(liSign)) <> 1 );
//                 ) Begin
//                    Error 1002 "Ä°ò´·¢¢û¢¶ ß®Ê©û£¶, ¢·ü¶™ °Èõ†°ò" //õ†ò°¶ß„ ´¶¨ transaction!
//                    Procedure_Return
//                   End

//                   If (Gmove.Gmove_X2 > 0)                      Add liSign to Garticl.Garticl_XreLine
//              Else If (Gmove.Gmove_X2 < 0)                      Add liSign to Garticl.Garticl_PisLine
//                   If (Gmove.Gmove_P2 > 0)                      Add liSign to Garticl.Garticl_PisLine
//              Else If (Gmove.Gmove_P2 < 0)                      Add liSign to Garticl.Garticl_XreLine
//                   If ((fnFindOmada(Self,lsGplan_Code)) = 1)      Add liSign to Garticl.Garticl_Omada
//              Else                                                Add liSign to Garticl.Garticl_Other
//                                                                  Add liSign to Garticl.Garticl_Mlines //ò¨´Ê òü®¶Âùú† ©´¶ year_numgtypkin
//               //§Ê£†©£ò úöö®ò≠„™
//              Add ((Gmove.Gmove_X2                   ) * liSign)           to Garticl.Garticl_Sx2
//              Add ((Gmove.Gmove_P2                   ) * liSign)           to Garticl.Garticl_Sp2
//              Add ((Gmove.Gmove_X2-Gmove.Gmove_P2  ) * liSign)           to Garticl.Garticl_Syp2

//              //°Á®†¶ §Ê£†©£ò Æ®„©û™
//              Add ((Gmove.Gmove_X0                   ) * liSign)           to Garticl.Garticl_Sx0
//              Add ((Gmove.Gmove_P0                   ) * liSign)           to Garticl.Garticl_Sp0
//              Add ((Gmove.Gmove_X0-Gmove.Gmove_P0  ) * liSign)           to Garticl.Garticl_Syp0
//              Move (Abs(Garticl.Garticl_Syp0))                               to Garticl.Garticl_Syp0k

//              //õú¨´ú®úÁ¶§ §Ê£†©£ò Æ®„©û™
//              Add ((Gmove.Gmove_X00                  ) * liSign)           to Garticl.Garticl_Sx00
//              Add ((Gmove.Gmove_P00                  ) * liSign)           to Garticl.Garticl_Sp00
//              Add ((Gmove.Gmove_X00-Gmove.Gmove_P00) * liSign)           to Garticl.Garticl_Syp00
//              Move (Abs(Garticl.Garticl_Syp00))                              to Garticl.Garticl_Syp00k

//              //§Ê£†©£ò reporting
//              Add ((Gmove.Gmove_XR                   ) * liSign)           to Garticl.Garticl_SxR
//              Add ((Gmove.Gmove_PR                   ) * liSign)           to Garticl.Garticl_SpR
//              Add ((Gmove.Gmove_XR-Gmove.Gmove_PR  ) * liSign)           to Garticl.Garticl_SypR
//              Move (Abs(Garticl.Garticl_SypR))                               to Garticl.Garticl_SypRk

//              //¶®†©´†°¶ß¶†û£‚§¶ °Á®†¶ §Ê£†©£ò Æ®„©û™
//              Add ((Gmove.Gmove_X1                   ) * liSign)           to Garticl.Garticl_Sx1
//              Add ((Gmove.Gmove_P1                   ) * liSign)           to Garticl.Garticl_Sp1


//              //*********************************************************
//              //flag 7:ò¨•·§ú† ãìî ß‡¢„©ú‡§ (+ò•Âò)                     *
//              //*********************************************************
//              If (liGtypkin_Flag07 = TRUE);
//              Begin
//                   Case Begin
//                        Case (liGplan_Myf_Sump = 1) //£Ê§¶§ ¶† Æ®ú‡©´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                        Case (liGplan_Myf_Sump = 2) //£Ê§¶§ ¶† ß†©´‡´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                        Case (liGplan_Myf_Sump = 3) //Ê¢ú™ ¶† °†§„©ú†™ (Æ®ú‡©´†°‚™ & ß†©´‡´†°‚™) òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfValp
//                              Add ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                   Case End

//                   If (liGplan_Yn_Myfp = TRUE);
//                       Begin
//                        Add liSign to Garticl.Garticl_MyfChkp
//                        If (liSign = 1);
//                             Begin //sosososso *************!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                              If (Garticl.Garticl_MyfCodp = "") Move Gplan.Gplan_Code to Garticl.Garticl_MyfCodp
//                              If (Garticl.Garticl_MyfChkp = 1 ) Set psGarticl_MyfCodp to Garticl.Garticl_MyfCodp //£Ê§¶§ ö†ò display of error 1006
//                             End
//                        Else Begin
//                              Move "" to Garticl.Garticl_MyfCodp
//                              If (Garticl.Garticl_MyfChkp = 0) Set psGarticl_MyfCodp  to ""                      //£Ê§¶§ ö†ò display of error 1006
//                             End
//                       End
//              End //´‚¢¶™ °Èõ†°ò ö†ò flag07


//              //*********************************************************
//              //flag 9:£ú†È§ú† ãìî ß‡¢„©ú‡§ (-ò•Âò)                     *
//              //*********************************************************
//              If (liGtypkin_Flag09 = TRUE);
//              Begin
//                   Case Begin
//                        Case (liGplan_Myf_Sump = 1) //£Ê§¶§ ¶† Æ®ú‡©´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                        Case (liGplan_Myf_Sump = 2) //£Ê§¶§ ¶† ß†©´‡´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                        Case (liGplan_Myf_Sump = 3) //Ê¢ú™ ¶† °†§„©ú†™ (Æ®ú‡©´†°‚™ & ß†©´‡´†°‚™) òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfValp
//                              Sub ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfValp
//                        Case Break
//                   Case End

//                   If (liGplan_Yn_Myfp = TRUE);
//                       Begin
//                        Add liSign to Garticl.Garticl_MyfChkp
//                        If (liSign = 1);
//                             Begin //sosososso *************!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                              If (Garticl.Garticl_MyfCodp = "") Move Gplan.Gplan_Code to Garticl.Garticl_MyfCodp
//                              If (Garticl.Garticl_MyfChkp = 1 ) Set psGarticl_MyfCodp to Garticl.Garticl_MyfCodp //£Ê§¶§ ö†ò display of error 1006
//                             End
//                        Else Begin
//                              Move "" to Garticl.Garticl_MyfCodp
//                              If (Garticl.Garticl_MyfChkp = 0) Set psGarticl_MyfCodp  to ""                      //£Ê§¶§ ö†ò display of error 1006
//                             End
//                       End
//                   End //´‚¢¶™ °Èõ†°ò ö†ò flag09

//              //*********************************************************
//              //flag 11:ò¨•·§ú† ãìî òö¶®È§ (+ò•Âò)                      *
//              //*********************************************************
//              If (liGtypkin_Flag11 = TRUE);
//              Begin
//                   Case Begin
//                        Case (liGplan_Myf_Suma = 1) //£Ê§¶§ ¶† Æ®ú‡©´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                        Case (liGplan_Myf_Suma = 2) //£Ê§¶§ ¶† ß†©´‡´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                        Case (liGplan_Myf_Suma = 3) //Ê¢ú™ ¶† °†§„©ú†™ (Æ®ú‡©´†°‚™ & ß†©´‡´†°‚™) òü®¶Âù¶¨§ ©´û§ ãìî
//                              Add ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfVala
//                              Add ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                   Case End

//                   If (liGplan_Yn_Myfa = TRUE);
//                       Begin
//                        Add liSign to Garticl.Garticl_MyfChka
//                        If (liSign = 1);
//                             Begin //sosososso *************!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                              If (Garticl.Garticl_MyfCoda = "") Move Gplan.Gplan_Code to Garticl.Garticl_MyfCoda
//                              If (Garticl.Garticl_MyfChka = 1 ) Set psGarticl_MyfCoda to Garticl.Garticl_MyfCoda //£Ê§¶§ ö†ò display of error 1006
//                             End
//                        Else Begin
//                              Move "" to Garticl.Garticl_MyfCoda
//                              If (Garticl.Garticl_MyfChka = 0) Set psGarticl_MyfCoda  to ""                      //£Ê§¶§ ö†ò display of error 1006
//                             End
//                       End
//              End //´‚¢¶™ °Èõ†°ò ö†ò flag11

//              //*********************************************************
//              //flag 13:£ú†È§ú† ãìî òö¶®È§ (-ò•Âò)                      *
//              //*********************************************************
//              If (liGtypkin_Flag13 = TRUE);
//              Begin
//                   Case Begin
//                        Case (liGplan_Myf_Suma = 1) //£Ê§¶§ ¶† Æ®ú‡©´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                        Case (liGplan_Myf_Suma = 2) //£Ê§¶§ ¶† ß†©´‡´†°‚™ °†§„©ú†™ òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                        Case (liGplan_Myf_Suma = 3) //Ê¢ú™ ¶† °†§„©ú†™ (Æ®ú‡©´†°‚™ & ß†©´‡´†°‚™) òü®¶Âù¶¨§ ©´û§ ãìî
//                              Sub ((Abs(Gmove.Gmove_X0)) * liSign) to Garticl.Garticl_MyfVala
//                              Sub ((Abs(Gmove.Gmove_P0)) * liSign) to Garticl.Garticl_MyfVala
//                        Case Break
//                   Case End

//                   If (liGplan_Yn_Myfa = TRUE);
//                       Begin
//                        Add liSign to Garticl.Garticl_MyfChka
//                        If (liSign = 1);
//                             Begin //sosososso *************!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                              If (Garticl.Garticl_MyfCoda = "") Move Gplan.Gplan_Code to Garticl.Garticl_MyfCoda
//                              If (Garticl.Garticl_MyfChka = 1 ) Set psGarticl_MyfCoda to Garticl.Garticl_MyfCoda //£Ê§¶§ ö†ò display of error 1006
//                             End
//                        Else Begin
//                              Move "" to Garticl.Garticl_MyfCoda
//                              If (Garticl.Garticl_MyfChka = 0) Set psGarticl_MyfCoda  to ""                      //£Ê§¶§ ö†ò display of error 1006
//                             End
//                       End
//                   End //´‚¢¶™ °Èõ†°ò ö†ò flag13


//    End_Procedure //private.adjust_balances


//    Procedure Save_Main_File
//              Integer liTrexe_Result
//              Forward Send Save_Main_File
//              Get private.Trexe to liTrexe_Result //procedural õ†òÆúÂ®†©û gmhnnes+ghmnies
//              Send private.Initialize_Properties
//              If (liTrexe_Result <> 0) Send Operation_Not_Allowed liTrexe_Result
//    End_Procedure//save_main_file


//    Procedure Delete_Main_File
//              Integer liTrexe_Result
//              Forward Send Delete_Main_File
//              Get private.Trexe to liTrexe_Result//procedural õ†òÆúÂ®†©û gmhnnes+ghmnies
//              Send private.Initialize_Properties
//              If (liTrexe_Result <> 0) Send Operation_Not_Allowed liTrexe_Result
//    End_Procedure//delete_main_file


//    Procedure Operation_Not_Allowed Integer iError_Num
//              String lsError_Message lsGarticl_MyfCodp lsGarticl_MyfCoda lsGplan_Code lsGplan_Ypol
//              Case Begin
//                   //òßÊ validate save
//                   Case (iError_Num = 1001)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "ãÊ§¶ û ï®‚‡©û „ £Ê§¶ û èÂ©´‡©û úß†´®‚ßú´ò† §ò ‚Æ¶¨§ £„ £ûõú§†°„ ´†£„!");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1002)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û úöö®ò≠„ (Éú¨´ú®‚¶§ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "ãÊ§¶ û ï®‚‡©û „ £Ê§¶ û èÂ©´‡©û úß†´®‚ßú´ò† §ò ‚Æ¶¨§ £„ £ûõú§†°„ ´†£„!");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1003)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û úöö®ò≠„ (åÊ£†©£ò Reporting).\n\n"+;
//                        "ãÊ§¶ û ï®‚‡©û „ £Ê§¶ û èÂ©´‡©û úß†´®‚ßú´ò† §ò ‚Æ¶¨§ £„ £ûõú§†°„ ´†£„!");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1004)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û úöö®ò≠„ (åÊ£†©£ò â†§„©ú‡™).\n\n"+;
//                        "ãÊ§¶ û ï®‚‡©û „ £Ê§¶ û èÂ©´‡©û úß†´®‚ßú´ò† §ò ‚Æ¶¨§ £„ £ûõú§†°„ ´†£„!");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1005)
//                        Move ("DDC 157:ÄõÁ§ò´û û úöö®ò≠„!\n\ní¶ ·®ü®¶ ‚Æú† ¶®†©´†°¶ß¶†ûüúÂ (Ä/Ä= "+;
//                        (String(Garticl.Garticl_AA))+" )") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1006)
//                        Get psGarticl_MyfCodp to lsGarticl_MyfCodp
//                        Move ("DDC 157:ÄõÁ§ò´û û úöö®ò≠„!\n\ní¶ ·®ü®¶ ßú®†‚Æú† „õû 1 ¢¶öò®†ò©£Ê ãìî è‡¢„©ú‡§! ("+;
//                        (Trim(lsGarticl_MyfCodp))+")") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1007)
//                        Get psGarticl_MyfCoda to lsGarticl_MyfCoda
//                        Move ("DDC 157:ÄõÁ§ò´û û úöö®ò≠„!\n\ní¶ ·®ü®¶ ßú®†‚Æú† „õû 1 ¢¶öò®†ò©£Ê ãìî Äö¶®È§! ("+;
//                        (Trim(lsGarticl_MyfCoda))+")") to lsError_Message
//                   Case Break

//                   Case (iError_Num = 1009)
//                        Clear Codemast
//                        Move "MODULE" to Codemast.Type
//                        Move Garticl.Garticl_M_Code to Codemast.Code
//                        Find Eq Codemast by Index.1 //type+code
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\n(Ü Ñöö®ò≠„ ´®¶ß¶ß¶†úÂ´ò† £Ê§¶§ òßÊ "+;
//                        (Trim(Codemast.Description))+" )") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1100)
//                        Move "DDC 157:ãû òß¶õú°´„ Ñ´ò†®Âò-ï®„©û" to lsError_Message
//                        Case Break

//                   //---------------------------------gplan related errors ·£ú©ò òß¶ Gmove
//                   Case (iError_Num = 1013)
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\n(é "+(Trim(Gplan.Gplan_Code))+" õ‚§ úÂ§ò† ´ú¢ú¨´òÂ¶¨ ôòü£¶Á !)");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1014)
//                        Clear Codemast
//                        Move "MODULE" to Codemast.Type
//                        Move gs_Module_Code to Codemast.Code
//                        Find Eq Codemast by Index.1 //type+code
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\n(é "+(Trim(Gplan.Gplan_Code))+" õ‚§ °†§úÂ´ò† òßÊ "+;
//                        (Trim(Codemast.Description))+" )") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1015)
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\n(é "+(Trim(Gplan.Gplan_Code))+" õ‚Æú´ò† £Ê§¶§ Æ®úÈ©ú†™ !)");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1016)
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\n(é "+(Trim(Gplan.Gplan_Code))+" õ‚Æú´ò† £Ê§¶§ ß†©´È©ú†™ !)");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1019)
//                        Clear Nomisma
//                        Move Gplan.Gplan_C_Code2 to Nomisma.Nomisma_Code
//                        Find Eq Nomisma by Index.1
//                        If (Not(Found)) Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„!\n\n(é "+(Trim(Gplan.Gplan_Code))+" °†§úÂ´ò† £Ê§¶§ ©ú "+;
//                            (Trim(Nomisma.Nomisma_Descr))+" )") to lsError_Message
//                   Case Break


//                   //òßÊ validate delete
//                   Case (iError_Num = 2001)
//                        Move ("DDC 157:ÄõÁ§ò´û û õ†òö®ò≠„!\n\ní¶ ·®ü®¶ ‚Æú† ¶®†©´†°¶ß¶†ûüúÂ (Ä/Ä= "+;
//                        (String(Garticl.Garticl_AA))+" )") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 2002)
//                        Clear Codemast
//                        Move "MODULE" to Codemast.Type
//                        Move Garticl.Garticl_M_Code to Codemast.Code
//                        Find Eq Codemast by Index.1 //type+code
//                        Move ("DDC 157:ÄõÁ§ò´û û õ†òö®ò≠„!\n\n(Ü Ñöö®ò≠„ õ†òö®·≠ú´ò† £Ê§¶§ òßÊ "+;
//                        (Trim(Codemast.Description))+" )") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 2100)
//                        Move "DDC 157:ãû òß¶õú°´„ Ñ´ò†®Âò-ï®„©û" to lsError_Message
//                        Case Break


//                   //òßÊ private.trexe (save+delete main file)
//                   //---------------------------------gplan related errors ‚£ú©ò òß¶ ú§û£‚®‡©û †©¶ù¨öÂ‡§
//                   Case (iError_Num = 1017)
//                        Get psGplan_Code  to lsGplan_Code
//                        Get pnGplan_Ypol0 to lsGplan_Ypol
//                        Set psGplan_Code  to "" //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û Æ®„©û
//                        Set pnGplan_Ypol0 to 0  //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û Æ®„©û
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\né "+(Trim(lsGplan_Code))+" õ‚§ õ‚Æú´ò† Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ ! (ì="+;
//                        lsGplan_Ypol+")") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1018)
//                        Get psGplan_Code  to lsGplan_Code
//                        Get pnGplan_Ypol0 to lsGplan_Ypol
//                        Set psGplan_Code  to "" //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û Æ®„©û
//                        Set pnGplan_Ypol0 to 0  //£ûõú§†©£Ê™ property ö†ò úßÊ£ú§û Æ®„©û
//                        Move ("DDC 157:ÄõÁ§ò´û û Ñöö®ò≠„\n\né "+(Trim(lsGplan_Code))+" õ‚§ õ‚Æú´ò† ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ ! (ì="+;
//                        lsGplan_Ypol+")") to lsError_Message
//                   Case Break

//                   Case (iError_Num = 3001) //¢·ü¶™ ´¶¨ °Èõ†°ò
//                        Move ("DDC 157:Transaction Aborted! (Ä°ò´·¢¢û¢¶ ß®Ê©û£¶)\n\n"+;
//                              "èò®ò°ò¢¶Á£ú ´û¢ú≠‡§„©´ú ©´û§ Solution!") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 3002) //Æò¢ò©£‚§¶ gplan (reindex gplan + check gplan
//                        Move ("DDC 157:Transaction Aborted! (A§Áßò®°´¶™ ßú®†¢ûß´†°Ê™)\n\n"+;
//                              "èò®ò°ò¢¶Á£ú ´®‚•´ú ´¶§ Ñ¢úöÆ¶ ä¶ö†©´†°¶Á ëÆúõÂ¶¨!") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 3003) //õ‚§ £ßÊ®ú©ò §ò •ò§òô®È gplan by recnum!
//                        Move ("DDC 157:Transaction Aborted! (Ä§Áßò®°´¶™ Ä®Æ†°Ê™)\n\n"+;
//                              "èò®ò°ò¢¶Á£ú ´®‚•´ú ´¶§ é¢†°Ê Ñ¢úöÆ¶ ´û™ ´û™ Å·©û™!") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 3004) //õ‚§ £ßÊ®ú©ò §ò ô®È gplan by recr!
//                        Move ("DDC 157:Transaction Aborted! (Ä§Áßò®°´¶™ Ä®Æ†°Ê™)\n\n"+;
//                              "èò®ò°ò¢¶Á£ú ´®‚•´ú ´¶§ é¢†°Ê Ñ¢úöÆ¶ ´û™ ´û™ Å·©û™!") to lsError_Message
//                   Case Break
//                   Case (iError_Num = 3005) //¢·ü¶™ ´¶¨ °Èõ†°ò
//                        Move ("DDC 157:Transaction Aborted! (update=0 + backout=0)\n\n"+;
//                              "èò®ò°ò¢¶Á£ú ´û¢ú≠‡§„©´ú ©´û§ PIS ") to lsError_Message
//                   Case Break


//                   //‚¢úöÆ¶† open items
//                   Case (iError_Num = 1101)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ úÂ§ò† ò®§û´†°Ê !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1102)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ úÂ§ò† ò®§û´†°Ê !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1103)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ Æ®‚‡©û™ úÂ§ò† ò®§û´†°„ !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1104)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ ßÂ©´‡©û™ úÂ§ò† ò®§û´†°„ !");
//                        to lsError_Message
//                   Case Break
//                   //---------------------------------------üú´†°‚™ Æ®úÈ©ú†™-----------------
//                   Case (iError_Num = 1105)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ ¨ßú®ôòÂ§ú† ´û§ ¶¢†°„ Æ®‚‡©û !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1106)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ Æ®‚‡©û™ ¨ßú®ôòÂ§ú† ´û§ ¶¢†°„ Æ®‚‡©û !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1107)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ õ‚§ úÂ§ò† £ûõú§†°Ê !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1108)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ ßÂ©´‡©û™ õ‚§ úÂ§ò† £ûõú§†°„ !");
//                        to lsError_Message
//                   Case Break
//                   //---------------------------------------ò®§û´†°‚™ Æ®úÈ©ú†™---------------
//                   Case (iError_Num = 1109)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ õ‚§ úÂ§ò† £ûõú§†°Ê!");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1110)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ Æ®‚‡©û™ õ‚§ úÂ§ò† £ûõú§†°„ !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1111)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ ¨ßú®ôòÂ§ú† ´û§ òßÊ¢¨´û ´†£„ ´û™ ò®§û´†°„™ Æ®‚‡©û™ !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1112)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ ï®ú‡©´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ ßÂ©´‡©û™ ¨ßú®ôòÂ§ú† ´û§ òßÊ¢¨´û ´†£„ ´û™ ò®§û´†°„™ Æ®‚‡©û™ !");
//                        to lsError_Message
//                   Case Break
//                   //---------------------------------------üú´†°‚™ ß†©´È©ú†™----------------
//                   Case (iError_Num = 1113)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ õ‚§ úÂ§ò† £ûõú§†°Ê !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1114)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ Æ®‚‡©û™ õ‚§ úÂ§ò† £ûõú§†°„ !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1115)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ ¨ßú®ôòÂ§ú† ´û§ ¶¢†°„ ßÂ©´‡©û !");
//                        to lsError_Message
//                   Case Break
//                   Case (iError_Num = 1116)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ ßÂ©´‡©û™ ¨ßú®ôòÂ§ú† ´û§ ¶¢†°„ ßÂ©´‡©û !");
//                        to lsError_Message
//                   Case Break
//                   //---------------------------------------ò®‡û´†°‚™ ß†©´È©ú†™----------------
//                   Case (iError_Num = 1117)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶ õ‚§ úÂ§ò† £ûõú§†°Ê!");
//                        to lsError_Message
//                   Case Break
                   
//                   Case (iError_Num = 1118)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ Æ®‚‡©û™ õ‚§ úÂ§ò† £ûõú§†°„ !");
//                        to lsError_Message
//                   Case Break
                   
//                   Case (iError_Num = 1119)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "í¶ ò©¨©Æ‚´†©´¶ ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶ ¨ßú®ôòÂ§ú† ´û§ òßÊ¢¨´û ´†£„ ´û™ ò®§û´†°„™ ßÂ©´‡©û™ !");
//                        to lsError_Message
//                   Case Break
                   
//                   Case (iError_Num = 1120)
//                        Move ("DDC 157:Ä°ò´·¢¢û¢û Ä®§û´†°„ è†©´‡´†°„ Ñöö®ò≠„ (âÁ®†¶ åÊ£†©£ò ï®„©ú‡™).\n\n"+;
//                        "Ü °·¢¨Øû ´û™ ßÂ©´‡©û™ ¨ßú®ôòÂ§ú† ´û§ òßÊ¢¨´û ´†£„ ´û™ ò®§û´†°„™ ßÂ©´‡©û™ !");
//                        to lsError_Message
//                   Case Break

//                   Case (iError_Num = 3000)
//                        Move "DDC 157:è®¶°Áß´ú† ò§Áßò®°´¶ ¨ß¶°ò´·©´û£ò" to lsError_Message
//                   Case Break


//                   Case Else
//                        Forward Send Operation_Not_Allowed iError_Num
//              Case End

//              Error iError_Num lsError_Message
//    End_Procedure   //operation_not_allowed
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      



    //1001:Gmove_x0  * Gmove_p0  = 0 (õ‚§ úß†´®‚ßú´ò† ©ú ‚§ò record §ò ‚Æ‡ °ò† Æ®‚‡©û °òÂ ßÂ©´‡©û)
    //1002:Gmove_x00 * Gmove_p00 = 0
    //1003:Gmove_rxr * Gmove_pr  = 0
    //1004:Gmove_x2  * Gmove_p2

    //1005:garticl_aa = 0:úß†´®‚ßú´ò† save £Ê§¶§ ©ú ß®¶©‡®†§‚™ °†§„©ú†™-´ò ¶®†©´†°· ·®ü®ò õ‚§ ò¢¶†È§¶§´ò†
    //                   (ß®¶©¶Æ„ ©´û§ Æ¶®„©û©û òò : ß®È´ò ©Èù‡ Gmove °ò† £ú´· garticl!)
    //                   ß†üò§Ê§ ¶ ‚¢úöÆ¶™ ò¨´Ê™ §ò öÂ§ú† £ú ´¶ statuse


    //1006:garticl_myfchkp <=1:©ú °·üú ·®ü®¶ úß†´®‚ßú´ò† £Ê§¶§ 1 ú°õÊ´û™/òß¶õ‚°´û™ ö†ò ãìî ß‡¢„©ú‡§
    //1007:garticl_myfchka <=1:©ú °·üú ·®ü®¶ úß†´®‚ßú´ò† £Ê§¶§ 1 ú°õÊ´û™/òß¶õ‚°´û™ ö†ò ãìî òö¶®È§

    //1008

    //02/05/2000:¶ ‚¢úöÆ¶™ module öÂ§ú´ò† £Ê§¶§ ©´¶ garticl
    //1009:m_code:û úöö®ò≠„ úß†´®‚ßú´ò† £Ê§¶§ òß¶ ¶ module ß¶¨ ´û§ õû£†¶Á®öû©ú <ò ° ¨ ® ¶ § !>


    //1010:
    //1011:
    //1012:

    //1013:gplan_yn_last = 1:°Â§û©û £Ê§¶§ ©ú ´ú¢ú¨´òÂ¶ ôòü£Ê
    //1014:gplan_yn_kin  = 1:ú¢úöÆ¶™ °Â§û©û™ òß¶ ´¶ ´®‚Æ¶§ module
    //1015:gplan_xpm=1 + p2=0:ú¢úöÆ¶™ úÂõ¶¨™ °†§„©ú‡§
    //1016:gplan_xpm=2 + x2=0:ú¢úöÆ¶™ úÂõ¶¨™ °†§„©ú‡§

    //¶† ßò®ò°·´‡ 2 ‚¢úöÆ¶† öÂ§¶§´ò† ©´û§ private.trexe
    //1017:gplan_yn_xy=0 + gplan_sx0>=gplan_sp0:òßòö¶®úÁú´ò† Æ®ú‡©´†°Ê ¨ßÊ¢¶†ß¶
    //1018:gplan_yn_py=0 + gplan_sp0>=gplan_sx0:òßòö¶®úÁú´ò† ß†©´‡´†°Ê ¨ßÊ¢¶†ß¶
    //1019:gplan_c_code2:ú·§ <> "", ´Ê´ú £Ê§¶§ °†§„©ú†™ ©ú ò¨´Ê ´¶ §Ê£†©£ò

    //1100:cby = globals
    //òßòö¶®úÁú´ò† ´¶ Gmove §ò ò¢¢·ùú† parent garticl

    //‚¢úöÆ¶† open item
    //1101:yx >= 0 ß·§´ò
    //1102:yp >= 0 ß·§´ò
    //1103:sx >= 0 ß·§´ò
    //1104:sp >= 0 ß·§´ò

    //1105:ö†ò ò´Ê≠†¶ Æ®ú‡©´†°Ê record: yx <= x0
    //1106:                             sx <= x0
    //1107:                             yp  =  0
    //1108:                             sp  =  0

    //1109:ö†ò Øú¨´¶- ß†©´‡´†°Ê record: yx  =  0
    //1110:                             sx  =  0
    //1111:                             yp  <= (abs(x0))
    //1112:                             sp  <= (abs(x0))

    //1113:ö†ò ò´Ê≠†¶ ß†©´‡´†°Ê record: yx  =  0
    //1114:                             sx  =  0
    //1115:                             yp  <= p0
    //1116:                             sp  <= p0

    //1117:ö†ò ØúÁ´¶- Æ®ú‡©´†°Ê record: yx  =  0
    //1118:                             sx  =  0
    //1119:                             yp  <= (abs(p0))
    //1120:                             sp  <= (abs(p0))


    //        yp         = 0
    //        sx between 0 and x0
    //        sp=0


//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      
//    Function Validate_Save Returns Integer
//             Integer iReturnVal liZeroAA liOpen_Items
//             Forward Get Validate_Save to iReturnVal

//             If (Not(iReturnVal));
//             Begin

//              //‚¢úöÆ¶† Æ®ú‡ß†©´È©ú‡§
//              If (Not(Gmove.Gmove_X0 * Gmove.Gmove_P0 = 0)) Send Operation_Not_Allowed 1001
//              If (Not(Gmove.Gmove_X00* Gmove.Gmove_P00= 0)) Send Operation_Not_Allowed 1002
//              If (Not(Gmove.Gmove_Xr * Gmove.Gmove_Pr = 0)) Send Operation_Not_Allowed 1003
//              If (Not(Gmove.Gmove_X2 * Gmove.Gmove_P2 = 0)) Send Operation_Not_Allowed 1004

////            //‚¢úöÆ¶™ ò/ò (¢¶ö†©´†°¶ß¶Âû©û™)
////            If (Not(Garticl.Garticl_AA = 0))                  Send Operation_Not_Allowed 1005

//              //‚¢úöÆ¶† ãìî
//              If (Not(Garticl.Garticl_MyfChkp <= 1))            Send Operation_Not_Allowed 1006
//              If (Not(Garticl.Garticl_MyfChka <= 1))            Send Operation_Not_Allowed 1007



////           02/05/2000:¶ ‚¢úöÆ¶™ module öÂ§ú´ò† £Ê§¶§ ©´¶ garticl
////                      °ò† £Ê§¶§ ö†ò regular data entry (ÊÆ† ö†ò Æ¶®„öû©û-£ûõú§†©£Ê ò/ò!
////---------->//1009:‚¢úöÆ¶™ module úöö®ò≠„™
////---------->If (Not(Garticl.Garticl_M_Code = gs_Module_Code))  Send Operation_Not_Allowed 1009

//             //¶† ‚¢úöÆ¶† ´¶¨ gplan ß¶¨ öÂ§¶§´ò† úõÈ, ò≠¶®Ê¨§ £Ê§¶§ ´¶§ ´ú¢ú¨´òÂ¶ ôòü£Ê,
//             //¶ ¶ß¶Â¶™ ·¢¢‡©´ú ‚Æú† °ò´òÆ‡®ûüúÂ ©´¶ Gmove.
//             //¶† 2 ‚¢úöÆ¶† ¨ß¶¢¶Âß‡§ (1017+1018) ß¶¨ ò≠¶®¶Á§ °ò† Ê¢¶¨™ ´¶¨™
//             //ßú®†¢ûß´†°¶Á™, öÂ§¶§´ò† ©´û§ private.trexe
//             //1013:‚¢úöÆ¶™ ´ú¢ú¨´òÂ¶¨ ôòü£¶Á
//             If (Not(Gplan.Gplan_Yn_Last = TRUE             ))  Send Operation_Not_Allowed 1013

//// js 10/05/2002
////             //1014:‚¢úöÆ¶™ °Â§û©û™ òß¶ ´¶ ´®‚Æ¶§ module
////             If (;
////                  (Gplan.Gplan_Yn_Kin  = FALSE) and;
////                  ((private.fiGplanmod_Module(Self,;
////                                              Gplan.Gplan_Recr,;
////                                              gs_Module_Code);
////                   ) = FALSE);
////                )                                               Send Operation_Not_Allowed 1014

//             //1015+1016:‚¢úöÆ¶† úÂõ¶¨™ °†§„©ú‡§
//             //         ö†ò Æ®ú¶Á£ú§¶¨™ ¢¶ö/£¶Á™, û ßÂ©´‡©û ß®‚ßú† §ò úÂ§ò† 0
//             If (   (Gplan.Gplan_Xpm  = 1) and;
//                (Not(Gmove.Gmove_P2 = 0)))                    Send Operation_Not_Allowed 1015
//             //         ö†ò ß†©´¶Á£ú§¶¨™ ¢¶ö/£¶Á™, û Æ®‚‡©û ß®‚ßú† §ò úÂ§ò† 0
//             If (   (Gplan.Gplan_Xpm  = 2) and;
//                (Not(Gmove.Gmove_X2 = 0)))                    Send Operation_Not_Allowed 1016

//             //1019:‚¢úöÆ¶™ §¶£Â©£ò´¶™ °Â§û©û™ ¢¶öò®†ò©£¶Á
//             If (;
//                     (Gplan.Gplan_C_Code2 <> "") and;
//                 (Not(Gplan.Gplan_C_Code2 = Garticl.Garticl_C_Code2));
//                )                                               Send Operation_Not_Allowed 1019

//             //1101-1120:‚¢úöÆ¶† open item
//              Move (private.fi_Validate_Open_Items(Self)) to liOpen_Items
//              If (liOpen_Items <> 0) Send Operation_Not_Allowed liOpen_Items

//              //1100:cby = globals
//              If ( ;
//                  (Not(Gmove.Company_Code = SysCurGL.Company_Code)) or;
//                  (Trim(Gmove.Branch_Code)= '') or;
//                  (Not(Gmove.Year_Year    = SysCurGL.Year_Year   ));
//                  ) Send Operation_Not_Allowed 1100
             
//                Clear Branch
//                Move Syscurgl.Company_Code  to Branch.Company_Code
//                Move Gmove.Branch_Code      to Branch.Branch_Code
//                Find Eq Branch By Index.1
//                If (Not(Found)) Send Operation_Not_Allowed 3000
             
//             End //´‚¢¶™ °Èõ†°ò validation
             
             
//             Function_Return iReturnVal
//    End_Function //validate_save


//    //2001:´ò ¶®†©´†°· ·®ü®ò õ‚§ õ†òö®·≠¶§´ò†
//    //2002:´¶ ·®ü®¶ õ†òö®·≠ú´ò† £Ê§¶§ òß¶ ´¶ module ß¶¨ ´¶ õû£†¶Á®öû©ú
//    //2100:cby = globals

//    Function Validate_Delete  Returns Integer
//             Integer iReturnVal
//             Forward Get Validate_Delete  To iReturnVal
//             If (Not(iReturnVal));
//             Begin

//              //2001:‚¢úöÆ¶™ ò/ò (¢¶ö†©´†°¶ß¶Âû©û™)
//              If (Garticl.Garticl_AA <> 0)                     Send Operation_Not_Allowed 2001

//// js 10/05/2002
////              //2002:‚¢úöÆ¶™ module úöö®ò≠„™
////              If (Not(Garticl.Garticl_M_Code = gs_Module_Code)) Send Operation_Not_Allowed 2002

//              //2100:cby = globals
//              If ( ;
//                  (Not(Gmove.Company_Code = SysCurGL.Company_Code)) or;
//                  (Trim(Gmove.Branch_Code)= '') or;
//                  (Not(Gmove.Year_Year    = SysCurGL.Year_Year   ));
//                  ) Send Operation_Not_Allowed 2100
//             End //´‚¢¶™ °Èõ†°ò validation
//             Function_Return iReturnVal
//    End_Function //validate_delete



//    Function fnCalcMonada Integer Rdigits## Returns Number
//        Local Number lnMonada##
//           move (1/(10^Rdigits##)) to lnMonada##
//        Function_Return lnMonada##
//    End_Function

//    Function FnSetValues Integer fnCurr## Integer fnxp## Integer fnMulti## Number fnValue## Returns Integer
//        Local Integer iRval##
//        If (fnCurr## = 1) Begin //Local-Book
//           if (Fnxp##= 1) Begin //Xreosh
//            set field_Changed_Value Field Gmove.Gmove_X0 to ((abs(Gmove.Gmove_X0)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_X0
//            set field_Changed_Value Field Gmove.Gmove_X0k to fnValue##
//           end
//           if (Fnxp##= 2) Begin //Pistosi
//               set field_Changed_Value Field Gmove.Gmove_p0 to ((abs(Gmove.Gmove_p0)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_p0
//               set field_Changed_Value Field Gmove.Gmove_p0k to fnValue##
//           end
//        end
//        If (fnCurr## = 2) Begin //EUro
//           if (Fnxp##= 1) Begin //Xreosh
//            set field_Changed_Value Field Gmove.Gmove_X00 to ((abs(Gmove.Gmove_X00)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_X00
//            set field_Changed_Value Field Gmove.Gmove_X00k to fnValue##
//           end
//           if (Fnxp##= 2) Begin //Pistosi
//               set field_Changed_Value Field Gmove.Gmove_p00 to ((abs(Gmove.Gmove_p00)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_p00
//               set field_Changed_Value Field Gmove.Gmove_p00k to fnValue##
//           end
//        end
//        If (fnCurr## = 3) Begin //Reporting
//           if (Fnxp##= 1) Begin //Xreosh
//            set field_Changed_Value Field Gmove.Gmove_XR to ((abs(Gmove.Gmove_XR)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_XR
//            set field_Changed_Value Field Gmove.Gmove_XRk to fnValue##
//           end
//           if (Fnxp##= 2) Begin //Pistosi
//               set field_Changed_Value Field Gmove.Gmove_pR to ((abs(Gmove.Gmove_pR)+abs(fnValue##)) * fnMulti##) //ja//to Gmove.Gmove_pR
//               set field_Changed_Value Field Gmove.Gmove_pRk to fnValue##
//           end
//        end
//        move 0 to iRval##
//        Function_Return iRval##
//    End_Function

//    // à©¶©°ú¢Âùú† ´†™ Æ®ú‡ß†©´È©ú†™ ©´ò 3 §¶£Â©£ò´ò ò§ ‚Æ¶¨§ ß®¶°úÂØú† õ†ò≠¶®‚™
//    // ¢Êö‡ Rate
//    // pros to par;on òßú§ú®ö¶ß¶†û£‚§û ö†ò´Â ßòÂù¶¨£ú £Ê§¶ ©' ú§ò §Ê£†©£ò
//    // sosososososoososososos §ò ú¢úöÆüúÂ û ¢¶ö†°„
//    //°ò¢úÂ´ò† òßÊ: a) Gmove.vw   function exiting
//    //              b) doAkArth.pkg (ò°¨®‡´†°Ê ·®ü®¶)
//    procedure check_Arthro_For_Ypol

//        Local Integer liIndAxxre## LiIndAxpist##;     //Book
//                      liIndAxxreE## LiIndAxpistE##;   //Euro
//                      liIndAxxreR## LiIndAxpistR##;   //Reporting
//                      limulti## liMatch##;
//                      liCounterX## liCounterP##;
//                      liCounterRecords## liRval1## liRval2## liXP##

//        Local Number  lnCheckValueX## lnCheckValueP##;
//                      lnCheckValueXOther## lnCheckValuePOther##;
//                      lnSearchRecnum## lnSearchOtherRecnum##;
//                      lnStartYpol## lnTotalYpol##

//        Local Number  lnNewYpolL##;
//                      lnNewYpolE##;
//                      lnNewYpolR##

//        Local Integer liIncome## liExpense## liOther##;
//                      liLocal## liEuro## liReporting##

//        Local String  lsChkGPlan_o_Code## lsChkGplanC##


//        Procedure_Return 0

//        Set  piFireConvert to 1


//        //sosososo lathos, prpepei na kaneis get field curent value !!!!
//        if ((Garticl.Garticl_Syp0k <> 0) or (Garticl.Garticl_Syp00k <> 0) or (Garticl.Garticl_SypRk <> 0)) begin

//        if (Garticl.Garticl_Syp0k  <> 0)  Move 1 to liLocal##
//        if (Garticl.Garticl_Syp00k <> 0)  Move 1 to liEuro##
//        if (Garticl.Garticl_Syprk  <> 0)  Move 1 to liReporting##

//        move (Garticl.Garticl_Sx0-Garticl.Garticl_Sp0)   to lnNewYpolL##
//        move (Garticl.Garticl_Sx00-Garticl.Garticl_Sp00) to lnNewYpolE##
//        move (Garticl.Garticl_SxR-Garticl.Garticl_SpR)   to lnNewYpolR##

//            move 0 to liMulti##
//            move 0 to liIndAxxre##
//            move 0 to liIndAxPist##
//            move 0 to liMatch##


//            if ((Garticl.Garticl_Sx0-Garticl.Garticl_Sp0) > 0 ) move 1 to liIndAxxre##
//            else;
//            if ((Garticl.Garticl_Sx0-Garticl.Garticl_Sp0) < 0 ) move 1 to liIndAxPist##

//            if ((Garticl.Garticl_Sx00-Garticl.Garticl_Sp00) > 0 ) move 1 to liIndAxxreE##
//            else;
//            if ((Garticl.Garticl_Sx00-Garticl.Garticl_Sp00) < 0 ) move 1 to liIndAxPistE##

//            if ((Garticl.Garticl_SxR-Garticl.Garticl_SpR) > 0 ) move 1 to liIndAxxreR##
//            else;
//            if ((Garticl.Garticl_SxR-Garticl.Garticl_SpR) < 0 ) move 1 to liIndAxPistR##

//            Send Request_Find to (self) First_Record Gmove.File_Number 2
//            While ((Found) And (liMatch## = 0))

//                If ((liLocal##=1) and (lnNewYpolL## <> 0)) begin  //BOOK............
//                    Get Field_Current_Value Field Gmove.Gmove_X0 to lnCheckValueX##
//                    Get Field_Current_Value Field Gmove.Gmove_P0 to lnCheckValueP##
//                    if (liIndAxXre## =1) begin
//                        if ((lnCheckValueX## < 0) or (lnCheckValueP## > 0 )) begin
//                            if (lnCheckValueX## < 0)  move (fnSetValues(Self,1,1,-1,(fnCalcMonada(Self,0)))) to liRval1##
//                            if (lnCheckValueP## > 0)  move (fnSetValues(Self,1,2,1,(fnCalcMonada(Self,0))))  to liRval1##

//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolL## <> 0);
//                            move (lnNewYpolL## - (fnCalcMonada(Self,0))) to lnNewYpolL##
//                        end //if ((lnCheckValueX## < 0) or ....
//                     end
//                     else if (liIndAxPist## =1) begin
//                        if ((lnCheckValueX## > 0) or (lnCheckValueP## < 0 )) begin
//                            if (lnCheckValueX## > 0)  move (fnSetValues(Self,1,1,1,(fnCalcMonada(Self,0)))) to liRval1##
//                            if (lnCheckValueP## < 0)  move (fnSetValues(Self,1,2,-1,(fnCalcMonada(Self,0))))  to liRval1##

//                            //Move 1 to liFireConvert## //ja//
//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolL## <> 0);
//                            move (lnNewYpolL## + (fnCalcMonada(Self,0))) to lnNewYpolL##
//                        end //if ((lnCheckValueX## < 0) or ....
//                     end
//                end //((liLocal##=1) and ..........

//                If ((liEuro##=1) and (lnNewYpolE## <> 0)) Begin  //EURO...............
//                    Get Field_Current_Value Field Gmove.Gmove_X00 to lnCheckValueX##
//                    Get Field_Current_Value Field Gmove.Gmove_P00 to lnCheckValueP##
//                    if (liIndAxXreE## =1) begin
//                        if ((lnCheckValueX## < 0) or (lnCheckValueP## > 0 )) begin
//                            if (lnCheckValueX## < 0)  move (fnSetValues(Self,2,1,-1,(fnCalcMonada(Self,2)))) to liRval1##
//                            if (lnCheckValueP## > 0)  move (fnSetValues(Self,2,2,1,(fnCalcMonada(Self,2))))  to liRval1##

//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolE## <> 0);
//                            move (lnNewYpolE## - (fnCalcMonada(Self,2))) to lnNewYpolE##
//                        end //if ((lnCheckValueX## < 0) or ....
//                    end //Xrevsh
//                    else if (liIndAxPistE## =1) begin
//                        if ((lnCheckValueX## >  0) or (lnCheckValueP## < 0 )) begin
//                            if (lnCheckValueX## > 0)  move (fnSetValues(Self,2,1,1,(fnCalcMonada(Self,2)))) to liRval1##
//                            if (lnCheckValueP## < 0)  move (fnSetValues(Self,2,2,-1,(fnCalcMonada(Self,2))))  to liRval1##

//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolE## <> 0);
//                            move (lnNewYpolE## + (fnCalcMonada(Self,2))) to lnNewYpolE##
//                        end //if ((lnCheckValueX## < 0) or ....
//                    end //Pistosh
//                end //ENd of EURO........


//                If ((liReporting##=1) and (lnNewYpolR## <> 0)) begin
//                    Get Field_Current_Value Field Gmove.Gmove_XR to lnCheckValueX##
//                    Get Field_Current_Value Field Gmove.Gmove_PR to lnCheckValueP##
//                    if (liIndAxXreR## =1) begin
//                        if ((lnCheckValueX## < 0) or (lnCheckValueP## > 0 )) begin
//                            if (lnCheckValueX## < 0)  move (fnSetValues(Self,3,1,-1,(fnCalcMonada(Self,2)))) to liRval1##
//                            if (lnCheckValueP## > 0)  move (fnSetValues(Self,3,2,1,(fnCalcMonada(Self,2))))  to liRval1##

//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolR## <> 0);
//                            move (lnNewYpolR## - (fnCalcMonada(Self,0))) to lnNewYpolR##
//                        end //if ((lnCheckValueX## < 0) or ....
//                     end
//                     else if (liIndAxPistR## =1) begin
//                            if (lnCheckValueX## > 0)  move (fnSetValues(Self,3,1,1,(fnCalcMonada(Self,2)))) to liRval1##
//                            if (lnCheckValueP## < 0)  move (fnSetValues(Self,3,2,-1,(fnCalcMonada(Self,2))))  to liRval1##

//                            Set  piFireConvert to 1

//                            Send Request_Save
//                            if (lnNewYpolR## <> 0);
//                            move (lnNewYpolR## + (fnCalcMonada(Self,0))) to lnNewYpolR##
//                     end
//                end //

//                    if (liMatch## = 0);
//                    Send Request_Find to (self) Next_Record Gmove.File_Number 2
//            end  //While ((Found)
//     end
//        Set piFireConvert to 0
//    end_Procedure
//----------------------------------------------------
// REM js 03/12/2007 To arxeio to xrhsimopoioume mono gia katagrafh allagon
// ---------------------------------------------------      


    // Define_Fields:
    // This procedure is used to set up all data-dictionary rules.

    Procedure Define_Fields
        Forward Send Define_Fields
        //DDB-Generated-Code-Location
        //DDB-DefineFieldStart

        Set Main_File            To Gmove.File_Number
        Set Cascade_Delete_State To FALSE


        Define_Auto_Increment  Sysrecg.Gmove_Rec0  To Gmove.Gmove_Rec0

        // Field-based properties.......................

        // Gmove.Company_Code

        // Gmove.Branch_Code
        Set Field_Prompt_Object    Field Gmove.Branch_Code To (SL002(Self))

        // Gmove.Year_Year

        // Gmove.Gtypkin_Code

        // Gmove.Garticl_Hmnia

        // Gmove.Garticl_No

        // Gmove.Garticl_Recr

        // Gmove.Gplan_Recr

        // Gmove.Gmove_Rec0
        //DDB/ Comment_Short       Field Gmove.Gmove_Rec0 To "System °‡õ†°Ê™ úöö®ò≠„™"

        // Gmove.Gmove_Recr

        // Gmove.Gplan_Code
        //DDB/ Comment_Short       Field Gmove.Gplan_Code To "Ñ§û£ú®È§ú´ò† ©´û§ Update"

        // Gmove.Gmove_Aitiol

        // Gmove.Gmove_A_Code
        //DDB/ Comment_Short       Field Gmove.Gmove_A_Code To "â‡õ†°Ê™ ò†´†¶¢¶öÂò™ (codemast)"
        Set Field_Class_Name       Field Gmove.Gmove_A_Code To "dbComboFormSub"
        Set Field_Value_Table      Field Gmove.Gmove_A_Code To (Gmove_Gmove_A_Code_VT(Self))

        // Gmove.Year_Recr

        // Gmove.Pms_Recr

        // Gmove.Partl_Recr

        // Gmove.Bartl_Recr

        // Gmove.Bmove_Recr

        // Gmove.Module

        // Gmove.Login_Id

        // Gmove.Hmnia_Metabolhs

        // Gmove.Ora_Metabolhs

        // Gmove.Eidos_Metabolhs

        // Gmove.Prev_Id

        // Gmove.Cur_Id

        // Gmove.Prev_Name

        // Gmove.Cur_Name

        // Gmove.Prev_Afm

        // Gmove.Cur_Afm

        // Gmove.Prev_Doy

        // Gmove.Cur_Doy

        // Gmove.Prev_Stoxos1

        // Gmove.Cur_Stoxos1

        // Gmove.Prev_Stoxos2

        // Gmove.Cur_Stoxos2

        // Gmove.Prev_Zonh

        // Gmove.Cur_Zonh

        // Gmove.Prev_Oxhma

        // Gmove.Cur_Oxhma

        // Gmove.Prev_Ox_Apobaro

        // Gmove.Cur_Ox_Apobaro

        // Gmove.Prev_Antlia

        // Gmove.Cur_Antlia

        // Gmove.Prev_Ant_Min_M3

        // Gmove.Cur_Ant_Min_M3

        // Gmove.Prev_Qual

        // Gmove.Cur_Qual

        // Gmove.Prev_M3

        // Gmove.Cur_M3

        // Gmove.Prev_Unitprice

        // Gmove.Cur_Unitprice

        // Gmove.Prev_Item

        // Gmove.Cur_Item

        // Gmove.Prev_Cn

        // Gmove.Cur_Cn

        // Gmove.Prev_Cn_Addr

        // Gmove.Cur_Cn_Addr

        // Gmove.Prev_Cn_Prosth

        // Gmove.Cur_Cn_Prosth

        // Gmove.Recr1

        // Gmove.Recr2

        // Gmove.Recr3

        // Gmove.Recr4

        // Gmove.Txt1

        // Gmove.Txt2

        // Gmove.Txt3

        // Gmove.Txt4

        // Gmove.Label1

        // Gmove.Label2

        // Gmove.Label3

        // Gmove.Flagn1

        // Gmove.Flagn2

        // Gmove.Flagn3

        // Gmove.Flaga1

        // Gmove.Flaga2

        // Gmove.Flaga3

        // Gmove.Num1

        // Gmove.Num2

        // Gmove.Num3

        // Gmove.Num4

        // Gmove.Num5

        // Gmove.Date1

        // Gmove.Date2

        // Gmove.Date3

        // Gmove.Date4

        // Gmove.Time1

        // Gmove.Time2

        // Gmove.Time3

        // Gmove.Time4

        // Gmove.Descr1

        // Gmove.Descr2

        // Gmove.Descr3

        // Gmove.Smalltxt1

        // Gmove.Smalltxt2

        // Gmove.Smalltxt3

        // Gmove.Prev_Parast

        // Gmove.Cur_Parast

        // Gmove.Prev_Seira

        // Gmove.Cur_Seira

        // Gmove.Prev_Hmnia

        // Gmove.Cur_Hmnia

        // Gmove.Prev_No

        // Gmove.Cur_No

        //DDB-DefineFieldEnd
    End_Procedure    // Define_Fields

    // Field_Defaults:
    // This procedure is used to establish default field values.

    Procedure Field_Defaults
        Forward Send Field_Defaults
        //DDB-Generated-Code-Location
        //DDB-FieldDefaultStart
        //DDB-FieldDefaultEnd
    End_Procedure    // Field_Defaults
End_Class    // Gmove_DataDictionary
//DDB-Selection-pkg-Start
#IFDEF Is$WebApp
#ELSE

Use sl002.sl         // SL002

#ENDIF
//DDB-Selection-pkg-End
//DDB-FileEnd
